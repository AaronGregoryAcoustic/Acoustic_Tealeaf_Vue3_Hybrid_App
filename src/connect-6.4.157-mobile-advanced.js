/*!
 * Copyright (c) 2025 Acoustic, L.P. All rights reserved.
 *
 * NOTICE: This file contains material that is confidential and proprietary to
 * Acoustic, L.P. and/or other developers. No license is granted under any intellectual or
 * industrial property rights of Acoustic, L.P. except as may be provided in an agreement with
 * Acoustic, L.P. Any unauthorized copying or distribution of content from this file is
 * prohibited.
 *
 * @version 6.4.157
 * @flags NDEBUGLITE
 */
if(window.TLT)throw new Error("Attempting to recreate TLT. Library may be included more than once on the page.");window.TLT=function(){"use strict";let e,t,n,o,i,r,a,s,l,c,u,d,f,p=!1;const g=6e5;let h=!1;function m(e){window.TLT&&e.persisted&&(TLT.terminationReason="",TLT.init())}function y(e,t,n,o){let i=null,a=null,l=null;const c=d.getOriginAndPath(),u=TLT.getModule("replay"),f=TLT.getModule("TLCookie"),p=TLT.getModule("performance");t&&"string"==typeof t&&(n&&"string"==typeof n||(n=""),a={type:2,screenview:{type:e,name:t,originalUrl:c.path,url:TLT.normalizeUrl("",c.path,2),host:c.origin,referrer:n,title:document.title,queryParams:c.queryParams}},"LOAD"===e?l={type:"screenview_load",name:t}:"UNLOAD"===e&&(l={type:"screenview_unload",name:t}),l&&u&&(i=u.onevent(l)),i&&(a.dcid=i),"LOAD"!==e&&"UNLOAD"!==e||r.post("",a),l&&f&&f.onevent(l),l&&p&&p.onevent(l),l&&s&&s.onevent(l))}const w=(new Date).getTime();let b,v;const T={},S={},C={};let x=!1,O=null;const L=function(){let e,t=[];function o(o){return d.indexOf(t,o)<0&&function(o){const i=l.framesBlacklist;let r,a;if(e=e||[],o=o||null,void 0!==i&&i.length>0){for(a=0;a<i.length;a+=1)r=n.queryAll(i[a],o),r&&r.length>0&&(e=e.concat(r));t=t.concat(n.queryAll("iframe",o))}}(o.ownerDocument),d.indexOf(e,o)>-1}return o.clearCache=function(){e=null},o}();let E=null;const k={config:["getConfig","getDefaultConfig","updateConfig","getCoreConfig","updateCoreConfig","getModuleConfig","updateModuleConfig","getServiceConfig","updateServiceConfig"],queue:["post","setAutoFlush","flushAll","setXHRLog"],browserBase:["getXPathFromNode","processDOMEvent"]},I=function(){const e={};return{normalizeModuleEvents:function(t,n,o,i){const r=e[t];let a=!1,s=!1;o=o||X._getLocalTop(),r||(e[t]={loadFired:!1,pageHideFired:!1},d.forEach(n,(function(e){switch(e.name){case"load":a=!0,n.push(d.mixin(d.mixin({},e),{name:"pageshow"}));break;case"unload":case"pagehide":if(!s){s=!0,n.push(d.mixin(d.mixin({},e),{name:"beforeunload"}));break}case"change":d.isLegacyIE&&n.push(d.mixin(d.mixin({},e),{name:"propertychange"}))}})),a||s?(e[t].silentLoad=!a,e[t].silentUnload=!s,a||n.push({name:"load",target:o}),s||n.push({name:"pagehide",target:o})):delete e[t])},canPublish:function(t,n){if(!1===Object.prototype.hasOwnProperty.call(e,t))return!0;const o=e[t];switch(n.type){case"load":return o.pageHideFired=!1,o.loadFired=!0,!o.silentLoad;case"pageshow":return o.pageHideFired=!1,n.type="load",!o.loadFired&&!o.silentLoad;case"pagehide":case"beforeunload":return n.type="pagehide",o.loadFired=!1,!o.pageHideFired&&!o.silentUnload}return!0},isUnload:function(e){return"object"==typeof e&&("pagehide"===e.type||"beforeunload"===e.type||"pagehide"===e.type)}}}();let P={},D={},M={},R=[],j=function(){},A=null,N=!0,F=function(){},V=!1;const U=function(){const e=window.location;let t=e.pathname,n=e.hash,o="";return function(){let i=o;const r=e.pathname,a=e.hash;r!==t?i=TLT.normalizeUrl("",r+a,2):a!==n&&(i=TLT.normalizeUrl("",a,2)),i!==o&&(o&&y("UNLOAD",o),y("LOAD",i),o=i,t=r,n=a)}}();let z=function(e,t){let o,i,r,a,s,c,u=!1;const f=l.blockedElements;if(!f||!f.length)return z=function(){return!1},u;if(!e||!e.nodeType)return u;for(t=t||d.getDocument(e),o=0,r=f.length;o<r&&!u;o+=1)for(s=n.queryAll(f[o],t),i=0,c=s.length;i<c&&!u;i+=1)a=s[i],u=a.contains?a.contains(e):a===e;return u};const X={getTLTSessionCookieInfo:function(){return T},_loadGlobalsForUnitTesting:function(c){d=c.utils,e=c.getService("ajax"),t=c.getService("browserBase"),n=c.getService("browser"),o=c.getService("config"),i=c.getService("domCapture"),r=c.getService("queue"),a=c.getService("serializer"),s=c.getModule("dataLayer"),l=o?o.getCoreConfig():null},getStartTime:function(){return w},getPageId:function(){return b||"#"},getTabId:function(){return v},isMousemovementDetected:function(){return p},setSessionCookieInfo:function(e,t,n){T.tltCookieName=t,T.tltCookieValue=n},getLibraryVersion:function(){return"6.4.157"},getCurrentWebEvent:function(){return P},normalizeUrl:function(e,t,n){let o;const i=this.getCoreConfig();if(i.normalization&&i.normalization.urlFunction){o=i.normalization.urlFunction,"string"==typeof o&&(o=d.access(o));try{t=o(t,n)}catch(e){}}return t},getCurrentOffset:function(){return this.getService("message").getCurrentOffset()},initLib:function(e,t,n){return this.initLibAdv(e,t,{},!0,!0,!0,!0,!0,n)},initLibAdv:function(e,t,n,o,i,r,a,s,l){return f=n?n&&0===Object.keys(n).length&&Object.getPrototypeOf(n)===Object.prototype?window.TLT.getDefaultConfig():n:window.TLT.getDefaultConfig(),void 0!==f&&void 0!==f.services&&void 0!==f.services.queue&&void 0!==f.services.queue.queues[0]?(f.services.queue.queues[0].endpoint=t,void 0===f.services.queue.queues[0].killswitchURL&&void 0!==l&&(f.services.queue.queues[0].killswitchURL=l)):console&&console.warn("Not able to update defaultConfig.services.queue.queues[0].endpoint"),void 0!==f&&void 0!==f.modules&&void 0!==f.modules.TLCookie?f.modules.TLCookie.tlAppKey=e:console&&console.warn("Not able to update defaultConfig.modules.TLCookie.tlAppKey"),window.TLT.utils.isLegacyIE?(console&&(console.warn("This version of the UIC does not support Internet Explorer 10 or below."),console.info("Applications requiring Internet Explorer 8 (or below) support should use UIC 5.2.0")),void(window.TLT.terminationReason="Unsupported browser")):(window.TLT.init(f,(function(e){console&&(console.info("TLT.initLib has "+e+" with the following settings below:"),console.info("Original configuration:"),console.info(f),console.info("Updated after init:"),window.TLT?console.info(window.TLT.getConfig()):console.info("window.TLT.getConfig() is undefined"))})),!0===s&&function(){const e=window.TLT.destroy;let t;function n(){"visible"===document.visibilityState&&document.hasFocus()&&(t&&window.TLT&&!TLT.isInitialized()&&(console.log("Restarting TLT"),TLT.init(t),t=null),window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n))}window.TLT.destroy=function(o,i){"inactivity"===i&&(t=TLT.getConfig(),window.addEventListener("visibilitychange",n),window.addEventListener("focus",n)),e.call(window.TLT,o,i)}}(),f)},updatePageId:function(){b="P."+d.getRandomString(28)},init:function(e,t){if(d=this.utils,d.isLegacyIE)return;if(A=t,!N)throw new Error("init must only be called once!");if(!e&&!this.config)throw new Error("missing configuration.");if(e=e||this.config,this.config=e,N=!1,e&&e.modules&&void 0!==e.modules)for(const t of Object.keys(e.modules)){const n=e.modules[t],o=n&&n.events?n.events:void 0;if(o&&o instanceof Array){const e=o.find((e=>"unload"===e.name));e&&(e.name="pagehide")}}const n=e&&e.core&&e.core.modules?e.core.modules:void 0;if(void 0!==n)for(const e of Object.keys(n)){const t=n[e],o=t&&t.events?t.events:void 0;if(o&&o instanceof Array){const e=o.find((e=>"unload"===e.name));e&&(e.name="pagehide")}}void 0!==e&&e.modules&&e.modules.TLCookie&&e.modules.TLCookie.sessionIDUsesFallbackStorage&&(h=Boolean(e.modules.TLCookie.sessionIDUsesFallbackStorage)),h&&(window.altStorage={data:window.name?JSON.parse(window.name):{},saveData:function(e,t){this.data[e]=`"${t}"`,this.updateWindowName()},getData:function(e){return this.data[e]},removeData:function(e){return e in this.data&&(delete this.data[e],this.updateWindowName(),!0)},updateWindowName:function(){window.name=JSON.stringify(this.data)}}),b="P."+d.getRandomString(28),v=function(){let e=null;const t="tltTabId";try{e=sessionStorage.getItem(t),e||(e=d.getRandomString(4),sessionStorage.setItem(t,e))}catch(n){e=window.altStorage.getData(t),e||(e=d.getRandomString(4),window.altStorage.saveData(t,e))}return e}();const o=function(n){"load"!==(n=n||window.event||{}).type&&"loading"===document.readyState||(document.removeEventListener?(document.removeEventListener("DOMContentLoaded",o,!1),window.removeEventListener("load",o,!1)):(document.detachEvent("onreadystatechange",o),window.detachEvent("onload",o)),j(e,t))};"complete"===document.readyState||"interactive"===document.readyState&&!d.isIE?setTimeout(o):document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1)):(document.attachEvent("onreadystatechange",o),window.attachEvent("onload",o))},isInitialized:function(){return x},getState:function(){return O},destroy:function(e,t){let o="",i="",r=null,a=null,s=null,l=!1;if(N)return!1;if(this.stopAll(),!e){for(o in D)Object.prototype.hasOwnProperty.call(D,o)&&(i=o.split("|")[0],r=D[o].target,l=D[o].delegateTarget||void 0,n&&n.unsubscribe(i,r,this._publishEvent,l));u&&(n.unsubscribe("mousemove",document,u),u=null)}for(a in C)Object.prototype.hasOwnProperty.call(C,a)&&(s=C[a].instance,s&&"function"==typeof s.destroy&&s.destroy(),C[a].instance=null);L.clearCache(),D={},P={},R=[],x=!1,N=!0,O="destroyed",TLT.terminationReason=t||O;try{sessionStorage.setItem("tl.TR",TLT.terminationReason),sessionStorage.setItem("tl.PU",this.normalizeUrl("",location.href))}catch(e){}if("function"==typeof A)try{A("destroyed")}catch(e){}c||(window.addEventListener("pageshow",m),c=!0)},_updateModules:function(e){let t=null,n=null,o=!0;if(l&&l.modules)try{for(n in l.modules)if(Object.prototype.hasOwnProperty.call(l.modules,n)&&(t=l.modules[n],Object.prototype.hasOwnProperty.call(S,n))){if(!1===t.enabled){this.stop(n);continue}this.start(n),t.events&&this._registerModuleEvents(n,t.events,e)}this._registerModuleEvents.clearCache()}catch(e){X.destroy(!1,"_updateModules: "+e.message),o=!1}else o=!1;return o},rebind:function(e){X._updateModules(e)},getSessionData:function(){if(!X.isInitialized())return;let e,t,n,o=null,i=null;return l&&l.sessionDataEnabled?(i=l.sessionData||{},e=i.sessionQueryName,e?t=d.getQueryStringValue(e,i.sessionQueryDelim):(e=i.sessionCookieName,e?t=d.getCookieValue(e):(n=TLT.getTLTSessionCookieInfo(),e=n.tltCookieName,t=n.tltCookieValue)),e&&t&&(o=o||{},o.tltSCN=e,o.tltSCV=t,o.tltSCVNeedsHashing=!!i.sessionValueNeedsHashing),o):null},logGeolocation:function(e){if(!X.isInitialized())return;if(!e||!e.coords)return;const t={type:13,geolocation:{lat:d.getValue(e,"coords.latitude",0),long:d.getValue(e,"coords.longitude",0),accuracy:Math.ceil(d.getValue(e,"coords.accuracy",0))}};r.post("",t)},logCustomEvent:function(e,t){if(!X.isInitialized())return;let n=null;e&&"string"==typeof e||(e="CUSTOM"),n={type:5,customEvent:{name:e,data:t=t||{}}},r.post("",n)},logExceptionEvent:function(e,t,n){if(!X.isInitialized())return;let o=null;e&&"string"==typeof e&&(t&&(t=X.normalizeUrl("",t,6)),o={type:6,exception:{description:e,url:t=t||"",line:n=n||-1}},r.post("",o))},logFormCompletion:function(e,t){if(!X.isInitialized())return;const n={type:15,formCompletion:{submitted:!!e,valid:"boolean"==typeof t?t:null}};r.post("",n)},logDataLayer:function(e){let t;X.isInitialized()&&s&&(e&&"object"!=typeof e||(t={type:"logDataLayer",data:e},s.onevent(t)))},logScreenviewLoad:function(e,t,n){X.isInitialized()&&y("LOAD",e,t)},logScreenviewUnload:function(e){X.isInitialized()&&y("UNLOAD",e)},logDOMCapture:function(e,t){let n,o,a,s=null;return this.isInitialized()?(d.isLegacyIE||i&&(e=e||window.document,o=this.getServiceConfig("domCapture"),t=d.mixin({},o.options,t),n=i.captureDOM(e,t),n&&(s=t.dcid||"dcid-"+d.getSerialNumber()+"."+(new Date).getTime(),n.dcid=s,n.eventOn=!!t.eventOn,a={type:12,domCapture:n},t.timeoutExpired&&(a.domCapture.timeout=!0),r.post("",a),!1!==t.qffd&&!V&&a.domCapture.fullDOM&&(r.flush(),V=!0))),s):s},logSignal:function(e){if(!X.isInitialized())return;if(window.TLT.utils.isUndefOrNull(e)||window.TLT.utils.isEmpty(e))return!1;let t={type:21,signal:d.clone(e)};return r.post("",t),!0},performDOMCapture:function(e,t,n){return this.logDOMCapture(t,n)},performFormCompletion:function(e,t,n){return this.logFormCompletion(t,n)},_bridgeCallback:function(e){const t=M[e];return t&&t.enabled?t:null},logScreenCapture:function(){if(!X.isInitialized())return;const e=X._bridgeCallback("screenCapture");null!==e&&e.cbFunction()},enableTealeafFramework:function(){if(!X.isInitialized())return;const e=X._bridgeCallback("enableTealeafFramework");null!==e&&e.cbFunction()},disableTealeafFramework:function(){if(!X.isInitialized())return;const e=X._bridgeCallback("disableTealeafFramework");null!==e&&e.cbFunction()},startNewTLFSession:function(){if(!X.isInitialized())return;const e=X._bridgeCallback("startNewTLFSession");null!==e&&e.cbFunction()},currentSessionId:function(){if(!X.isInitialized())return;let e;const t=X._bridgeCallback("currentSessionId");return null!==t&&(e=t.cbFunction()),e},defaultValueForConfigurableItem:function(e){if(!X.isInitialized())return;let t;const n=X._bridgeCallback("defaultValueForConfigurableItem");return null!==n&&(t=n.cbFunction(e)),t},valueForConfigurableItem:function(e){if(!X.isInitialized())return;let t;const n=X._bridgeCallback("valueForConfigurableItem");return null!==n&&(t=n.cbFunction(e)),t},setConfigurableItem:function(e,t){if(!X.isInitialized())return;let n=!1;const o=X._bridgeCallback("setConfigurableItem");return null!==o&&(n=o.cbFunction(e,t)),n},addAdditionalHttpHeader:function(e,t){if(!X.isInitialized())return;let n=!1;const o=X._bridgeCallback("addAdditionalHttpHeader");return null!==o&&(n=o.cbFunction(e,t)),n},logCustomEventBridge:function(e,t,n){if(!X.isInitialized())return;let o=!1;const i=X._bridgeCallback("logCustomEventBridge");return null!==i&&(o=i.cbFunction(e,t,n)),o},registerBridgeCallbacks:function(e){let t,n,o,i,r,a,s,l=null;const c=TLT.utils;if(!e)return!1;if(0===e.length)return M={},!1;try{for(t=0,o=e.length;t<o;t+=1)if(l=e[t],"object"==typeof l&&l.cbType&&l.cbFunction)if(i={enabled:l.enabled,cbFunction:l.cbFunction,cbOrder:l.order||0},c.isUndefOrNull(M[l.cbType]))i.enabled&&(M[l.cbType]=i);else{for(c.isArray(M[l.cbType])||(M[l.cbType]=[M[l.cbType]]),r=M[l.cbType],n=0,s=!1,a=r.length;n<a;n+=1)if(r[n].cbOrder===i.cbOrder&&r[n].cbFunction===i.cbFunction)s=!0,i.enabled||(r.splice(n,1),r.length||delete M[l.cbType]);else if(r[n].cbOrder>i.cbOrder)break;s||i.enabled&&r.splice(n,0,i)}}catch(e){return!1}return!0},registerMutationCallback:function(e,t){let n;return!(!e||"function"!=typeof e)&&(t?(n=R.indexOf(e),-1===n&&R.push(e)):(n=R.indexOf(e),-1!==n&&R.splice(n,1)),!0)},invokeMutationCallbacks:function(e){let t,n,o,i,r;const a=[],s=[];if(0!==R.length){for(r=Map?new Map:new d.WeakMap,t=0;t<e.length;t++)i=e[t].target,i&&(o=d.getDocument(i),void 0===r.get(o)&&(o.host?s.push(o):a.push(o),r.set(o,!0)));for(r.clear(),t=0;t<R.length;t++)n=R[t],n(e,a,s)}},redirectQueue:function(e){let t,n,o,i,r,s,l;if(!e||!e.length)return e;if(i=M.messageRedirect,!i)return e;for(r=d.isArray(i)?i:[i],n=0,s=r.length;n<s;n+=1)if(i=r[n],i&&i.enabled)for(t=0,o=e.length;t<o;t+=1)l=i.cbFunction(a.serialize(e[t]),e[t]),l&&"object"==typeof l?e[t]=l:(e.splice(t,1),t-=1,o=e.length);return e},_hasSameOrigin:function(e){let t=!1;try{return t=e.document.location.host===document.location.host&&e.document.location.protocol===document.location.protocol,t||(t=e.document.domain===document.domain),t}catch(e){}return!1},provideRequestHeaders:function(){let e=null;const t=M.addRequestHeaders;return t&&t.enabled&&(e=t.cbFunction()),e},_registerModuleEvents:function(){let e,o=0;function r(e){const t=d.getIFrameWindow(e);return null!==t&&X._hasSameOrigin(t)&&null!==t.document&&"complete"===t.document.readyState&&""!==t.document.body.innerHTML}function a(a,s,l){if(l=l||X._getLocalTop().document,e=e||new d.WeakMap,function(o,i,r){let a,s,l;const c=d.getDocument(r),u=X._getLocalTop(),f=d.isIFrameDescendant(r);if(r=r||c,I.normalizeModuleEvents(o,i,u,c),f&&(a=t.ElementData.prototype.examineID(r).id,"string"==typeof a))for(s in a=a.slice(0,a.length-1),D)if(Object.prototype.hasOwnProperty.call(D,s))for(l=0;l<D[s].length;l+=1)if(o===D[s][l]&&-1!==s.indexOf(a)){delete D[s];break}d.forEach(i,(function(i){let a="";const s=function(e,t,n){return"window"===e?t:"document"===e?n:e}(i.target,u,c)||c;!0!==i.recurseFrames&&f||("string"==typeof s?d.forEach(n.queryAll(s,r),(function(r){let s=e.get(r);s||(s=t.ElementData.prototype.examineID(r),e.set(r,s)),a=i.name+"|"+s.id+s.idType,-1===d.indexOf(D[a],o)&&(D[a]=D[a]||[],D[a].push(o),D[a].target=r,n.subscribe(i.name,r,X._publishEvent))})):(a=X._buildToken4bubbleTarget(i.name,s,void 0===i.target),Object.prototype.hasOwnProperty.call(D,a)?-1===d.indexOf(D[a],o)&&D[a].push(o):(D[a]=[o],n.subscribe(i.name,s,X._publishEvent))),""!==a&&"string"!=typeof s&&(D[a].target=s))}))}(a,s,l),"performance"!==a){let e,t,c=null,u=null;const f=n.queryAll("iframe, frame",l);for(e=0,t=f.length;e<t;e+=1)c=f[e],L(c)||(r(c)?(u=d.getIFrameWindow(c),X._registerModuleEvents(a,s,u.document),i.observeWindow(u)):(o+=1,function(e,t,n){let a=null;const s=function(){let r=null;L(n)||(r=d.getIFrameWindow(n),X._hasSameOrigin(r)&&(X._registerModuleEvents(e,t,r.document),i.observeWindow(r))),o-=1,o||X._publishEvent({type:"loadWithFrames",custom:!0})};d.addEventListener(n,"load",(function(){s()})),d.isLegacyIE&&r(n)&&(a=d.getIFrameWindow(n),d.addEventListener(a.document,"readystatechange",(function(){s()})))}(a,s,c)))}}return a.clearCache=function(){e&&(e.clear(),e=null)},a}(),_buildToken4currentTarget:function(e){const n=e.nativeEvent?e.nativeEvent.currentTarget:null,o=n?t.ElementData.prototype.examineID(n):{id:e.target?e.target.id:null,idType:e.target?e.target.idType:-1};return e.type+"|"+o.id+o.idType},_buildToken4delegateTarget:function(e,t,n){return e+"|"+t+"|"+n},_buildToken4bubbleTarget:function(e,o,i,r){let a;const s=X._getLocalTop(),l=d.getDocument(o);let c,u=null,f=e;return l&&(a=l.defaultView||l.parentWindow),o===window||o===window.window?f+="|null-2|window":i&&a&&X._hasSameOrigin(a.parent)&&void 0!==l&&s.document!==l?(u=function(e){let t=null;return X._hasSameOrigin(a.parent)&&d.forEach(n.queryAll("iframe, frame",a.parent.document),(function(n){let o=null;L(n)||(o=d.getIFrameWindow(n),X._hasSameOrigin(o)&&o.document===e&&(t=n))})),t}(l),u&&(c=t.ElementData.prototype.examineID(u),f+="|"+c.xPath+"-2")):f+="|null-2|document",f},_reinitConfig:function(){X._updateModules()},_publishEvent:function(e){let t,o,i,a,s=null,c=null,u=e.delegateTarget&&e.data?e.data:X._buildToken4currentTarget(e),f=null,p=null,h=!1,m=!1;const y=e.delegateTarget||null;P=e,e.type.match(/^(click|change|blur|mouse|touch)/)&&(F(g),r.resetFlushTimer());if(d.getValue(l,"screenviewAutoDetect",!0)&&U(),"load"!==e.type&&"pageshow"!==e.type||e.nativeEvent.customLoad)if("click"===e.type&&(E=e.target.element),"beforeunload"===e.type&&(h=!1,a="a"===d.getTagName(E)?E:document.activeElement,a&&(!function(e){let t=!1;return e&&"a"===d.getTagName(e)&&-1!==["intent:","mailto:","sms:","tel:"].indexOf(e.protocol)&&(t=!0),t}(a)?d.forEach(l.ieExcludedLinks,(function(e){let t,o;const i=n.queryAll(e);for(t=0,o=i?i.length:0;t<o;t+=1)if(i[t]&&i[t]===E){h=!0;break}})):h=!0),h))P={};else if(I.isUnload(e)&&(O="unloading"),"change"!==e.type||!d.isLegacyIE||"checkbox"!==e.target.element.type&&"radio"!==e.target.element.type){if("propertychange"===e.type){if("checked"!==e.nativeEvent.propertyName||!("checkbox"===e.target.element.type||"radio"===e.target.element.type&&e.target.element.checked))return void(P={});e.type="change",e.target.type="INPUT"}if(e.target&&z(e.target.element))P={};else{if(Object.prototype.hasOwnProperty.call(D,u)||(Object.prototype.hasOwnProperty.call(e,"nativeEvent")&&(i=e.nativeEvent.currentTarget||e.nativeEvent.target),u=X._buildToken4bubbleTarget(e.type,i,!0,y)),Object.prototype.hasOwnProperty.call(D,u))for(f=D[u],t=0,o=f.length;t<o;t+=1)if(s=f[t],c=X.getModule(s),p=d.mixin({},e),c&&X.isStarted(s)&&"function"==typeof c.onevent&&(m=I.canPublish(s,p),m))try{c.onevent(p)}catch(e){}p&&"pagehide"===p.type&&m&&X.destroy(!1,p.type),P={}}}else P={};else P={}},_getLocalTop:function(){return window.window},addModule:function(e,t){S[e]={creator:t,instance:null,context:null,messages:[]},this.isInitialized()&&this.start(e)},getModule:function(e){return S[e]&&S[e].instance?S[e].instance:null},removeModule:function(e){this.stop(e),delete S[e]},isStarted:function(e){return Object.prototype.hasOwnProperty.call(S,e)&&null!==S[e].instance},start:function(e){let t=null;const n=S[e];n&&null===n.instance&&(n.context=new TLT.ModuleContext(e,this),t=n.instance=n.creator(n.context),"function"==typeof t.init&&t.init())},startAll:function(){let e=null;for(e in S)Object.prototype.hasOwnProperty.call(S,e)&&this.start(e)},stop:function(e){let t=null;const n=S[e];n&&null!==n.instance&&(t=n.instance,"function"==typeof t.destroy&&t.destroy(),n.instance=n.context=null)},stopAll:function(){let e=null;for(e in S)Object.prototype.hasOwnProperty.call(S,e)&&this.stop(e)},addService:function(e,t){C[e]={creator:t,instance:null}},getService:function(e){if(Object.prototype.hasOwnProperty.call(C,e)){if(!C[e].instance){try{C[e].instance=C[e].creator(this),"function"==typeof C[e].instance.init&&C[e].instance.init()}catch(t){throw d.clog("UIC terminated due to error when instanciating the "+e+" service."),new Error(t)}"function"!=typeof C[e].instance.getServiceName&&(C[e].instance.getServiceName=function(){return e})}return C[e].instance}return null},removeService:function(e){delete C[e]},broadcast:function(e){let t,n;if(e&&"object"==typeof e)for(t in S)Object.prototype.hasOwnProperty.call(S,t)&&(n=S[t],d.indexOf(n.messages,e.type)>-1&&"function"==typeof n.instance.onmessage&&n.instance.onmessage(e))},listen:function(e,t){let n=null;this.isStarted(e)&&(n=S[e],-1===d.indexOf(n.messages,t)&&n.messages.push(t))},fail:function(e,t,n){e="UIC FAILED. "+e;try{X.destroy(!!n,e)}catch(t){d.clog(e)}throw new X.UICError(e,t)},UICError:function(){function e(e,t){this.message=e,this.code=t}return e.prototype=new Error,e.prototype.name="UICError",e.prototype.constructor=e,e}(),isCrossOrigin:function(e,t){let n,o=!1;if(t=t||window.location.origin,!e||!t)return o;const i=e.match(/^\/\//);return e.match(/^\//)&&!i||(i||-1!==e.indexOf("://"))&&(i&&(n=t.indexOf("://"),-1!==n&&(t=t.substring(n+1))),o=e.length<t.length||(t!==e.substring(0,t.length)||e.length>t.length&&"/"!==e.charAt(t.length))),o}};function q(t,n,o,i){let r=!0;t&&n&&n.match("GetRemoteConfig")?r=!1:t&&t.match("collectorPost")&&(n=t.replace("collectorPost","switch/"+o.tlAppKey)),n&&r?function(t,n){e.sendRequest({type:"GET",url:t,async:!0,timeout:5e3,oncomplete:function(e){!function(e){"0"!==e.responseText&&0!==e.data||(X.setAutoFlush(!1),d.setCookie("TLTSID","DND"),X.destroy(!1,"killswitch"))}(e),n&&"function"==typeof n&&n(e,t)}})}(n,i):n&&!r?function(t,n,o){const i={appKey:n.tlAppKey,osVersion:"N/A",platform:"web",appVersion:"N/A",tealeafSDKVersion:X.getLibraryVersion(),connection:"N/A",signalStrength:"N/A",deviceId:d.getCookieValue("TLTDID"),cellularConnectionType:"N/A"},r={"X-Tealeaf-SaaS-AppKey":n.tlAppKey,"Content-Type":"application/json","Access-Control-Allow-Headers":"*"};e.sendRequest({url:t,async:!0,timeout:5e3,data:JSON.stringify(i),headers:r,oncomplete:function(e){!function(e,t){let n=!0;if(e&&200===e.statusCode&&e.responseText){const o=JSON.parse(e.responseText);if(o&&o.appWebConfig&&o.appWebConfig.UIC){let i=o.appWebConfig.UIC;i=function(e,t){e&&e.modules&&e.modules.dataLayer&&e.modules.dataLayer.dataObjects&&t&&t.length>0?e.modules.dataLayer.dataObjects.push.apply(e.modules.dataLayer.dataObjects,t):(e?e.modules?e.modules.dataLayer||(e.modules.dataLayer={dataObjects:{}}):e.modules={dataLayer:{dataObjects:{}}}:e={modules:{dataLayer:{dataObjects:{}}}},e.modules.dataLayer.dataObjects=t);e.core?e.core.modules?e.core.modules.dataLayer||(e.core.modules.dataLayer={enabled:!1,events:[{name:"load",target:window},{name:"pagehide",target:window}]}):e.core.modules={dataLayer:{enabled:!1,events:[{name:"load",target:window},{name:"pagehide",target:window}]}}:e.core={modules:{dataLayer:{enabled:!1,events:[{name:"load",target:window},{name:"pagehide",target:window}]}}};return e.core.modules.dataLayer.enabled=!0,e}(i,function(e){const t=[];if(!e||0==Object.keys(e).length)return t;const n={};e.forEach((e=>{n[e.object]||(n[e.object]={permittedProperties:[]}),e.property&&n[e.object].permittedProperties.push(e.property),n[e.object].filter||(n[e.object].filter=[]),e.matchProperty&&e.matchValue&&n[e.object].filter.push({matchProperty:e.matchProperty,matchValue:e.matchValue})}));return Object.keys(n).forEach(((e,o)=>{const i={dataObject:e,rules:{includeEverything:!0,permittedProperties:n[e].permittedProperties,propertyBlocklist:[],screenviewBlocklist:[],filter:n[e].filter}};t.push(i)})),t}(o.appWebDataLayer)),e.updatedRemoteConfigWebObj=i,window.TLT.destroy(),j(i,t),n=!1}}n&&t&&"function"==typeof t&&t("bad remote config")}(e,void 0),o&&"function"==typeof o&&o(e,t)}})}(n,o,i):i&&"function"==typeof i&&i(void 0,n)}return F=function(e){let t=null;const n=d.getValue(l,"inactivityTimeout",e);function o(){X.destroy(!1,"inactivity")}n?(F=function(){t&&(clearTimeout(t),t=null),t=setTimeout(o,n)},F()):F=function(){}},j=function(c,f){let m,y,w,v,T,S=null;if(x)return;if(TLT&&TLT.replay)return;o=X.getService("config"),o.updateConfig(c),l=o.getCoreConfig();const C=function(e,t){let n,o,i,r,a,s=null;if(!e||!t)return s;for(n=0,o=e.length;n<o;n+=1)switch(i=e[n],typeof i){case"object":r=new RegExp(i.regex,i.flags),a=r.exec(t),a&&(s=a[0]);break;case"string":-1!==t.indexOf(i)&&(s=i)}return s}(l.blockedUserAgents,navigator.userAgent);if(C)return void(TLT.terminationReason="blockedUA: "+C);e=X.getService("ajax"),d.browserBaseService=t=X.getService("browserBase"),d.browserService=n=X.getService("browser"),i=X.getService("domCapture"),r=X.getService("queue"),a=X.getService("serializer");const L=o.getModuleConfig("TLCookie")||{};if(m=L.sessionizationCookieName||"TLTSID",y=d.getCookieValue("TLTSID"),"DND"===y)return void("destroyed"!==O&&X.destroy(!1,"killswitch"));if(y=d.getCookieValue(m)||function(e){let t,n,o;if(!e)return;let i=null;try{i=localStorage.getItem(e)}catch{}if(null===i&&h){const t=window.altStorage.getData(e);t&&(i=t.replaceAll('"',""))}if(i)if(n=i.split("|"),t=parseInt(n[0],10),Date.now()>t){try{localStorage.removeItem(e)}catch{}h&&window.altStorage.removeItem(e)}else o=n[1];return o}(m),y||(m=L.wcxCookieName||"WCXSID",y=d.getCookieValue(m)),!X._updateModules())return void("destroyed"!==O&&X.destroy(!1,"modules init"));s=X.getModule("dataLayer"),o.subscribe&&o.subscribe("configupdated",X._reinitConfig),x=!0,O="loaded";try{"function"==typeof TLFExtensionNotify&&TLFExtensionNotify("Initialized")}catch(e){}const E=X.getServiceConfig("queue"),k=E.queues||[];for((d.isLegacyIE||d.isIE11)&&(S=d.getOriginAndPath().origin),w=0;w<k.length;w+=1){if(S&&X.isCrossOrigin(k[w].endpoint,S))return X.setAutoFlush(!1),void X.destroy(!1,"CORS not supported");!y&&L.tlAppKey&&q(k[w].endpoint,k[w].killswitchURL,L),k[w].checkEndpoint&&!E.asyncReqOnUnload&&(E.asyncReqOnUnload=!0,e.sendRequest({oncomplete:function(e){e.success&&(E.asyncReqOnUnload=!1)},timeout:k[w].endpointCheckTimeout||3e3,url:k[w].endpoint,headers:{"X-PageId":b,"X-Tealeaf-SaaS-AppKey":L.tlAppKey,"X-Tealeaf-EndpointCheck":!0},async:!0,error:function(e){e.success||(E.endpointCheckFailed=!0)}}))}const I=function(e){const o={type:"load",target:window.window,srcElement:window.window,currentTarget:window.window,bubbles:!0,cancelBubble:!1,cancelable:!0,timeStamp:+new Date,customLoad:!0},i=new t.WebEvent(o);X._publishEvent(i),e&&n.unsubscribe(v,T,I)};if(l.screenviewLoadEvent?(v=l.screenviewLoadEvent.name,T=l.screenviewLoadEvent.target||window,n.subscribe(v,T,I)):I(),X.isInitialized()&&(O="initialized",F(g),u=function(e){"mousemove"===e.type&&(p=!0),n.unsubscribe("mousemove",document,u),u=null},n.subscribe("mousemove",document,u,{once:!0})),"function"==typeof A)try{"function"==typeof f?f(O):A(O)}catch(e){d.clog("Error in callback.",e)}},function(){let e,t,n=null;for(n in k)if(Object.prototype.hasOwnProperty.call(k,n))for(e=0,t=k[n].length;e<t;e+=1)!function(e,t){X[t]=function(){const n=this.getService(e);if(n)return n[t].apply(n,arguments)}}(n,k[n][e])}(),X}(),function(){"use strict";const e=window.navigator.userAgent.toLowerCase(),t=-1!==e.indexOf("msie")||-1!==e.indexOf("trident"),n=function(){const e=!!window.performance;return t&&(!e||document.documentMode<11)}(),o=t&&11===document.documentMode,i=-1!==e.indexOf("android"),r=/(ipad|iphone|ipod)/.test(e),a=-1!==e.indexOf("opera mini"),s=window.self!==window.top,l=-1===e.indexOf("chrome")&&-1!==e.indexOf("safari"),c={"a:":"link","button:button":"button","button:submit":"button","input:button":"button","input:checkbox":"checkBox","input:color":"colorPicker","input:date":"datePicker","input:datetime":"datetimePicker","input:datetime-local":"datetime-local","input:email":"emailInput","input:file":"fileInput","input:image":"button","input:month":"month","input:number":"numberPicker","input:password":"textBox","input:radio":"radioButton","input:range":"slider","input:reset":"button","input:search":"searchBox","input:submit":"button","input:tel":"tel","input:text":"textBox","input:time":"timePicker","input:url":"urlBox","input:week":"week","select:":"selectList","select:select-one":"selectList","textarea:":"textBox","textarea:textarea":"textBox"},u={isIE:t,isLegacyIE:n,isIE11:o,isAndroid:i,isLandscapeZeroDegrees:!1,isiOS:r,isOperaMini:a,isSafari:l,isInIframe:s,getParentOrigin:function(){try{return document.referrer?new URL(document.referrer).origin:null}catch(e){return null}},isUndefOrNull:function(e){return null==e},isEmpty:function(e){for(const t in e)if(Object.hasOwn(e,t))return!1;return!0},isArray:function(e){return!(!e||"[object Array]"!==Object.prototype.toString.call(e))},getSerialNumber:function(){const e=d;return d+=1,e},getRandomString:function(e,t){let n,o,i="";if(!e)return i;for("string"!=typeof t&&(t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789"),n=0,o=t.length;n<e;n+=1)i+=t.charAt(Math.floor(Math.random()*o));return i},getValue:function(e,t,n){let o,i;if(n=void 0===n?null:n,!e||"object"!=typeof e||"string"!=typeof t)return n;const r=t.split(".");for(o=0,i=r.length;o<i;o+=1){if(!e||void 0===e[r[o]])return n;e=e[r[o]]}return e},indexOf:function(e,t){return e&&e.indexOf?e.indexOf(t):-1},forEach:function(e,t,n){let o;if(!(e&&e.length&&t&&t.call))return 0;for(o=0;o<e.length;o+=1)t.call(n,e[o],o,e);return 1},some:function(e,t){let n,o,i=!1;for(n=0,o=e.length;n<o;n+=1)if(i=t(e[n],n,e),i)return i;return i},convertToArray:function(e){let t=0;const n=[];for(;t<e.length;)n.push(e[t]),t+=1;return n},mixin:function(e){let t,n,o,i;for(o=1,i=arguments.length;o<i;o+=1)for(t in n=arguments[o],n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e},extend:function(e,t,n){let o="";for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e&&"[object Object]"===Object.prototype.toString.call(n[o])?(void 0===t[o]&&(t[o]={}),this.extend(e,t[o],n[o])):t[o]=n[o]);return t},clone:function(e){let t,n;if(null===e||"object"!=typeof e)return e;if(e instanceof Object){for(n in t="[object Array]"===Object.prototype.toString.call(e)?[]:{},e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=this.clone(e[n]));return t}},parseVersion:function(e){let t,n,o=[];if(!e||!e.length)return o;for(o=e.split("."),t=0,n=o.length;t<n;t+=1)o[t]=/^\d+$/.test(o[t])?parseInt(o[t],10):o[t];return o},isEqual:function(e,t){let n,o,i,r,a;if(e===t)return!0;if(typeof e!=typeof t)return!1;if(e instanceof Object&&t instanceof Object){if("[object Array]"===Object.prototype.toString.call(e)&&"[object Array]"===Object.prototype.toString.call(t)){if(e.length!==t.length)return!1;for(n=0,a=e.length;n<a;n+=1)if(!this.isEqual(e[n],t[n]))return!1;return!0}if("[object Object]"===Object.prototype.toString.call(e)&&"[object Object]"===Object.prototype.toString.call(t)){for(n=0;n<2;n+=1){for(i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(!Object.prototype.hasOwnProperty.call(t,i))return!1;if(o=this.isEqual(e[i],t[i]),!o)return!1}r=e,e=t,t=r}return!0}}return!1},calculateRelativeXY:function(e){if(u.isUndefOrNull(e)||u.isUndefOrNull(e.x)||u.isUndefOrNull(e.y)||u.isUndefOrNull(e.width)||u.isUndefOrNull(e.height))return"0.5,0.5";let t=Math.abs(e.x/e.width).toFixed(4),n=Math.abs(e.y/e.height).toFixed(4);return(t>1||t<0)&&(t=.5),(n>1||n<0)&&(n=.5),t+","+n},createObject:function(){let e=null,t=null;return"function"==typeof Object.create?e=Object.create:(t=function(){},e=function(e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object prototype need to be an object!");return t.prototype=e,new t}),e}(),access:function(e,t){let n,o=t||window;if("string"!=typeof e||"object"!=typeof o)return;const i=e.split("."),r=i.length;for(n=0;n<r;n+=1)if(0!==n||"window"!==i[n]){if(!Object.prototype.hasOwnProperty.call(o,i[n]))return;if(o=o[i[n]],n<r-1&&!(o instanceof Object))return}return o},isNumeric:function(e){let t=!1;return u.isUndefOrNull(e)||!/\S/.test(e)||(t=!isNaN(2*e)),t},isUpperCase:function(e){return e===e.toUpperCase()&&e!==e.toLowerCase()},isLowerCase:function(e){return e===e.toLowerCase()&&e!==e.toUpperCase()},extractResponseHeaders:function(e){let t,n=null;const o={},i=(e=e&&e.length?e.split("\n"):[]).length;for(t=0;t<i;t+=1)n=e[t].split(": "),2===n.length&&(o[n[0]]=n[1]);return o},getTargetState:function(e){let t=null,n=null,o=null,i="";const r=this.getTagName(e);let a={a:["innerText","href"],input:{range:["maxValue:max","value"],checkbox:["value","checked"],radio:["value","checked"],image:["src"]},select:["value"],button:["value","innerText"],textarea:["value"]}[r]||null;if(null!==a)for(i in"[object Object]"===Object.prototype.toString.call(a)&&(a=a[e.type]||["value"]),n={},a)Object.prototype.hasOwnProperty.call(a,i)&&(-1!==a[i].indexOf(":")?(o=a[i].split(":"),n[o[0]]=e[o[1]]):"innerText"===a[i]?n[a[i]]=this.trim(e.innerText||e.textContent):n[a[i]]=e[a[i]]);return"select"===r&&e.options&&!isNaN(e.selectedIndex)&&(n=n||{},n.index=e.selectedIndex,n.index>=0&&n.index<e.options.length&&(t=e.options[e.selectedIndex],n.value=t.getAttribute("value")||t.getAttribute("label")||t.text||t.innerText,n.text=t.text||t.innerText)),n&&e.disabled&&(n.disabled=!0),n},getDocument:function(e){let t=e;return e&&9!==e.nodeType&&(t=e.getRootNode?e.getRootNode():e.ownerDocument||e.document),t},getWindow:function(e){try{if(e.self!==e){const t=u.getDocument(e);return u.isUndefOrNull(t.defaultView)?t.parentWindow:t.defaultView}}catch(t){e=null}return e},getOriginAndPath:function(e){let t,n,o,i,r,a,s=[];const l={},c={};(e=e||window.location).origin?l.origin=e.origin:l.origin=(e.protocol||"")+"//"+(e.host||""),l.path=(e.pathname||"").split(";",1)[0],(l.origin.indexOf("file://")>-1||u.isiOS&&window.Ionic)&&(t=l.path.match(/(.*)(\/.*app.*)/),null!==t&&(l.path=t[2],l.origin="file://"));const d=e.search||"";try{n=new URLSearchParams(d),n.forEach((function(e,t){c[t]=e}))}catch(e){for(d.length>1&&"?"===d.charAt(0)&&(s=decodeURIComponent(d).substring(1).split("&")),r=0;r<s.length;r+=1)a=s[r].indexOf("="),a>-1&&(o=s[r].substring(0,a),i=s[r].substring(a+1),c[o]=i)}return l.queryParams=c,l},getIFrameWindow:function(e){let t=null;if(!e)return t;try{t=e.contentWindow||(e.contentDocument?e.contentDocument.parentWindow:null)}catch(e){}return t},getTagName:function(e){let t="";return u.isUndefOrNull(e)||(t=e==document||9===e.nodeType?"document":e==window||e==window.window?"window":"string"==typeof e?e.toLowerCase():(e.tagName||e.nodeName||"").toLowerCase()),t},getTlType:function(e){let t,n="";if(u.isUndefOrNull(e)||!e.type)return n;const o=e.type.toLowerCase();return t=o+":",e.subType&&(t+=e.subType.toLowerCase()),n=c[t]||o,n},isIFrameDescendant:function(e){const t=u.getWindow(e);return!!t&&t!=TLT._getLocalTop()},getOrientationMode:function(e){let t="INVALID";if("number"!=typeof e)return t;switch(e){case 0:case 180:case 360:t="PORTRAIT";break;case 90:case-90:case 270:t="LANDSCAPE";break;default:t="UNKNOWN"}return t},getOrientationAngle:function(){if("number"==typeof window.orientation)return window.orientation;let e=(screen.orientation||{}).angle;if("number"!=typeof e)switch(screen.mozOrientation||screen.msOrientation){case"landscape-primary":case"landscape-secondary":e=90;break;default:e=0}return e},clog:(window,function(){}),trim:function(e){return e&&e.toString?e.trim?e.trim():e.toString().replace(/^\s+|\s+$/g,""):e},ltrim:function(e){return e&&e.toString?e.trimStart?e.trimStart():e.toString().replace(/^\s+/,""):e},rtrim:function(e){return e&&e.toString?e.trimEnd?e.trimEnd():e.toString().replace(/\s+$/,""):e},setCookie:function(e,t,n,o,i,r,a){let s,l,c,u="";"None"===a?r=!0:"Lax"!==a&&(a="Strict");const d=";SameSite="+a,f=r?";Secure":"";if(!e)return;e=encodeURIComponent(e),t=encodeURIComponent(t);const p=(i||location.hostname).split("."),g=";Path="+(o||"/");for("number"==typeof n&&(this.isIE?(c=new Date,c.setTime(c.getTime()+1e3*n),u=";Expires="+c.toUTCString()):u=";Max-Age="+n),l=p.length,s=1===l?1:2;s<=l&&(document.cookie=e+"="+t+";Domain="+p.slice(-s).join(".")+g+u+f+d,this.getCookieValue(e)!==t);s+=1)1===l&&(document.cookie=e+"="+t+g+u+f+d)},getCookieValue:function(e,t){let n,o,i,r,a,s=null;try{if(t=t||document.cookie,!e||!e.toString)return null;for(a=(e+="=").length,r=t.split(";"),n=0,o=r.length;n<o;n+=1)if(i=r[n],i=u.ltrim(i),0===i.indexOf(e)){s=i.substring(a,i.length);break}}catch(e){s=null}return s},getQueryStringValue:function(e,t,n){let o,i,r,a,s=null;try{if(r=(n=n||window.location.search).length,!e||!e.toString||!r)return null;n=(t=t||"&")+n.substring(1),e=t+e+"=",o=n.indexOf(e),-1!==o&&(a=o+e.length,i=n.indexOf(t,a),-1===i&&(i=r),s=decodeURIComponent(n.substring(a,i)))}catch(e){}return s},addEventListener:window.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},matchTarget:function(e,t){let n,o,i,r,a,s,l,c,u=-1,d=document;if(!e||!t)return u;for(this.browserService&&this.browserBaseService||(this.browserService=TLT.getService("browser"),this.browserBaseService=TLT.getService("browserBase")),-2===t.idType&&(i=this.browserBaseService.getNodeFromID(t.id,t.idType),d=this.getDocument(i)),n=0,l=e.length;n<l&&-1===u;n+=1)if(c=e[n],"string"==typeof c){for(r=this.browserService.queryAll(c,d),o=0,a=r?r.length:0;o<a;o+=1)if(r[o]&&(s=this.browserBaseService.ElementData.prototype.examineID(r[o]),s.idType===t.idType&&s.id===t.id)){u=n;break}}else if(c&&c.id&&c.idType&&t.idType&&t.idType.toString()===c.idType.toString())switch(typeof c.id){case"string":c.id===t.id&&(u=n);break;case"object":c.cRegex||(c.cRegex=new RegExp(c.id.regex,c.id.flags)),c.cRegex.lastIndex=0,c.cRegex.test(t.id)&&(u=n)}return u},applyPrivacyPatterns:function(e,t){let n,o,i;if(!e)return"";if("number"==typeof e)return e;for(n=0,o=(t=t||[]).length;n<o;n+=1)i=t[n],i.cRegex.lastIndex=0,e=e.replace(i.cRegex,i.replacement);return e},WeakMap:function(){function e(e,t){let n,o;for(n=0,o=(e=e||[]).length;n<o;n+=1)if(e[n][0]===t)return n;return-1}return function(){let t=[];this.set=function(n,o){const i=e(t,n);t[i>-1?i:t.length]=[n,o]},this.get=function(n){const o=t[e(t,n)];return o?o[1]:void 0},this.clear=function(){t=[]},this.has=function(n){return e(t,n)>=0},this.remove=function(n){const o=e(t,n);o>=0&&t.splice(o,1)},this.delete=this.remove}}()};let d=1;"undefined"!=typeof TLT&&TLT||(window.TLT={}),TLT.utils=u}(),function(){"use strict";TLT.EventTarget=function(){this._handlers={}},TLT.EventTarget.prototype={constructor:TLT.EventTarget,publish:function(e,t){let n=0,o=0;const i=this._handlers[e],r={type:e,data:t};if(void 0!==i)for(o=i.length;n<o;n+=1)i[n](r)},subscribe:function(e,t){Object.prototype.hasOwnProperty.call(this._handlers,e)||(this._handlers[e]=[]),this._handlers[e].push(t)},unsubscribe:function(e,t){let n=0,o=0;const i=this._handlers[e];if(i)for(o=i.length;n<o;n+=1)if(i[n]===t)return void i.splice(n,1)}}}(),TLT.ModuleContext=function(){"use strict";const e=["broadcast","getConfig:getModuleConfig","listen","post","getXPathFromNode","performDOMCapture","performFormCompletion","isInitialized","getStartTime","normalizeUrl","getCurrentOffset","getTabId","setSessionCookieInfo"];return function(t,n){let o,i,r=null,a=null,s=null;const l={};for(o=0,i=e.length;o<i;o+=1)r=e[o].split(":"),r.length>1?(s=r[0],a=r[1]):(s=r[0],a=r[0]),l[s]=function(e){return function(){const o=n.utils.convertToArray(arguments);return o.unshift(t),n[e].apply(n,o)}}(a);return l.utils=n.utils,l}}(),TLT.addService("config",(function(e){"use strict";function t(t,n){e.utils.extend(!0,t,n),o.publish("configupdated",o.getConfig())}let n={core:{},modules:{},services:{}},o=e.utils.extend(!1,e.utils.createObject(new TLT.EventTarget),{getConfig:function(){return n},getDefaultConfig:function(){function e(e,t){let n;if(t.length>0)return n=e.replace(t,"xxxxxx"),n}const t={core:{buildNote:"Acoustic Tealeaf UIC "+window.TLT.getLibraryVersion(),blockedElements:[],ieExcludedLinks:['a[href*="javascript:void"]',"input[onclick*='javascript:']"],blockedUserAgents:[{regex:"(Google|Bing|Face|DuckDuck|Yandex|Exa)bot|spider|archiver",flags:"i"},"PhantomJS"],inactivityTimeout:174e4,frames:{enableCrossDomainCommunication:!1,eventProducer:{producerId:""},eventConsumer:{childFrameHostnameWhitelist:[]}},modules:{replay:{events:[{name:"change",attachToShadows:!0,recurseFrames:!0},{name:"click",recurseFrames:!0},{name:"dblclick",recurseFrames:!0},{name:"contextmenu",recurseFrames:!0},{name:"pointerdown",recurseFrames:!0},{name:"pointerup",recurseFrames:!0},{name:"hashchange",target:window},{name:"focus",recurseFrames:!0},{name:"blur",recurseFrames:!0},{name:"load",target:window},{name:"pagehide",target:window},{name:"resize",target:window},{name:"scroll",target:window},{name:"mousemove",recurseFrames:!0},{name:"orientationchange",target:window},{name:"touchend"},{name:"touchstart"},{name:"error",target:window},{name:"visibilitychange"}]},flushQueue:{events:[]},overstat:{enabled:!0,events:[{name:"click",recurseFrames:!0},{name:"mousemove",recurseFrames:!0},{name:"mouseout",recurseFrames:!0},{name:"submit",recurseFrames:!0}]},performance:{enabled:!0,events:[{name:"load",target:window},{name:"pagehide",target:window}]},ajaxListener:{enabled:!0,events:[{name:"load",target:window},{name:"pagehide",target:window}]},gestures:{enabled:!0,events:[{name:"tap",target:window},{name:"hold",target:window},{name:"drag",target:window},{name:"release",target:window},{name:"pinch",target:window}]},dataLayer:{enabled:!1,events:[{name:"load",target:window},{name:"pagehide",target:window}]},TLCookie:{enabled:!0}},screenviewAutoDetect:!0,framesBlacklist:[]},services:{queue:{asyncReqOnUnload:!0,useBeacon:!0,useFetch:!0,xhrEnabled:!0,queues:[{qid:"DEFAULT",endpoint:"",maxEvents:30,timerInterval:6e4,maxSize:3e5,checkEndpoint:!0,endpointCheckTimeout:4e3,encoder:"gzip"}]},message:{privacy:[{targets:["input[type=password]"],maskType:2},{targets:["input[id*=phone]","input[name*=phone]"],maskType:4,maskFunction:function(e){return e.slice(0,-3).replace(/\d/g,"X")+e.slice(-3)}},{exclude:!0,targets:["input[type=hidden]","input[type=radio]","input[type=checkbox]","input[type=submit]","input[type=button]","input[type=search]"],maskType:4,maskFunction:function(e){return e.replace(/[a-z]/gi,"X").replace(/\d/g,"9")}}],privacyPatterns:[{pattern:{regex:"\\d{3}-\\d{2}-\\d{4}",flags:"g"},replacement:"XXX-XX-XXXX"},{pattern:{regex:"<div[^<]*tlPrivate[^<]*>(.+?)</div>",flags:"g"},replacement:function(e,t){let n;if(t.length>0)return n=e.replace(t,"xxxxxx"),n}},{pattern:{regex:"<span[^<]*tlPrivate[^<]*>(.+?)</span>",flags:"g"},replacement:e},{pattern:{regex:"<p[^<]*tlPrivate[^<]*>(.+?)</p>",flags:"g"},replacement:e}]},encoder:{gzip:{encode:"window.pako.gzip",defaultEncoding:"gzip"}},domCapture:{diffEnabled:!0,options:{maxLength:1e7,captureShadowDOM:!0,captureDynamicStyles:!0,captureFrames:!0,debugVoidElementsEnabled:!1,debugVoidElementsTimer:1e4}},browser:{normalizeTargetToParentLink:!0}},modules:{overstat:{hoverThreshold:3e3},performance:{calculateRenderTime:!0,renderTimeThreshold:6e5,performanceAlert:{enabled:!0,threshold:3e3,maxAlerts:100,blacklist:[]}},replay:{tab:!1,domCapture:{enabled:!0,screenviewBlacklist:[],triggers:[{event:"change"},{event:"click"},{event:"dblclick"},{event:"contextmenu"},{event:"visibilitychange"},{event:"load",fullDOMCapture:!0,delay:300}]},mousemove:{enabled:!0,sampleRate:200,ignoreRadius:3}},ajaxListener:{urlBlocklist:[{regex:"brilliantcollector\\.com"}],filters:[{log:{requestHeaders:!0,requestData:!1,responseHeaders:!0,responseData:!1}}]},dataLayer:{dataObjects:[{dataObject:"window.dataLayer",rules:{screenviewBlocklist:[],propertyBlocklist:[],permittedProperties:[],includeEverything:!0}}]},TLCookie:{appCookieWhitelist:[{regex:".*"}],tlAppKey:"",disableTLTDID:!1}}};return(window.TLT.utils.isiOS||window.TLT.utils.isAndroid)&&function(){let e;t.services.queue.queues[0].maxEvents=10,t.services.queue.queues[0].maxSize=1e4,t.services.queue.queues[0].timerInterval=1e4,t.services.queue.queues[0].endpointCheckTimeout=1e4,window.TLT.utils.isiOS&&(e=window.navigator.userAgent.match(/OS (\d+)_/),e&&e[1]<13&&(t.services.queue.useBeacon=!1),t.core.modules.flushQueue&&t.core.modules.flushQueue.events?t.core.modules.flushQueue.events.push({name:"visibilitychange"}):console.log("Tealeaf Error: include the flushQueue module!"))}(),t},updateConfig:function(e){t(n,e)},getCoreConfig:function(){return n.core},updateCoreConfig:function(e){t(n.core,e)},getServiceConfig:function(e){return n.services[e]||{}},updateServiceConfig:function(e,o){void 0===n.services[e]&&(n.services[e]={}),t(n.services[e],o)},getModuleConfig:function(e){return n.modules[e]||{}},updateModuleConfig:function(e,o){void 0===n.modules[e]&&(n.modules[e]={}),t(n.modules[e],o)},destroy:function(){n={core:{},modules:{},services:{}}}});return o})),TLT.addService("queue",(function(e){"use strict";const t=e.utils;let n=null,o={},i=6e5;const r=e.getService("ajax"),a=e.getService("browser"),s=e.getService("encoder"),l=e.getService("serializer"),c=e.getService("config"),u=e.getService("message");let d=null,f={},p=!0,g=!0;const h={5:{limit:300,count:0},6:{limit:400,count:0}},m=[];let y=!0,w=!1,b=!0,v=!0,T=!1;const S=function(){let n={};function i(e){return void 0!==n[e]}function r(e){return i(e)?n[e]:null}function a(e){const t=r(e);null!==t&&(t.data=[])}function s(e,t){if(e){let n;try{n=l.parse(e)}catch{n=e}return Array.isArray(n)?n.unshift([t]):"string"==typeof n&&(n=[[t],[n]]),l.serialize(n)}return e}function c(e,t){const n=l.parse(e);delete n.count,delete n.offset,delete n.screenviewOffset,delete n.focusInOffset,n.frameId=t;const o=s(n&&n.target&&n.target.id?n.target.id:null,t);if(o&&(n.target.id=o,delete n.target.xPath,n.target.idType=-2),12===n.type){const e=n&&n.domCapture&&n.domCapture.diffs?n.domCapture.diffs:null;e&&e.length&&e.forEach((e=>{const n=s(e&&e.xpath?e.xpath:null,t);n&&(e.xpath=n)}));const o=n&&n.domCapture&&n.domCapture.shadows?n.domCapture.shadows:null;o&&o.length&&o.forEach((e=>{const n=s(e&&e.xpath?e.xpath:null,t);n&&(e.xpath=n)}))}else if(18===n.type){const e=n&&n.mousemove&&n.mousemove.elements?n.mousemove.elements:null;e&&e.length&&e.forEach((e=>{const n=s(e&&e.id?e.id:null,t);n&&(e.id=n,e.idType=-2)}))}else if(11===n.type){const e=n.touches;e&&e.length&&e.forEach((e=>{e.forEach((e=>{const n=s(e&&e.control&&e.control.id?e.control.id:null,t);n&&(e.control.id=n)}))}))}return n}return{exists:i,add:function(e,t){return i(e)||(n[e]={lastOffset:0,data:[],queueId:e,url:t.url,eventThreshold:t.eventThreshold,sizeThreshold:t.sizeThreshold||0,timerInterval:t.timerInterval,size:-1,serializer:t.serializer,encoder:t.encoder,crossDomainEnabled:!!t.crossDomainEnabled,crossDomainIFrame:t.crossDomainIFrame}),n[e]},remove:function(e){i(e)&&delete n[e]},reset:function(){n={}},get:r,clear:a,flush:function(e){let t=null;return i(e)&&(t=r(e).data,a(e)),t},push:function(n,a){let s=null,u=null;const d=window.tlBridge,f=window.iOSJSONShuttle;try{u=l.serialize(a)}catch(e){u="Serialization failed: "+(e.name?e.name+" - ":"")+e.message,a={error:u}}if(void 0!==d&&"function"==typeof d.addMessage)d.addMessage(u);else if(void 0!==f&&"function"==typeof f)f(u);else if(o&&o.frames&&o.frames.enableCrossDomainCommunication&&t.isInIframe)!function(e){const t=o&&o.frames&&o.frames.eventProducer&&o.frames.eventProducer.producerId?o.frames.eventProducer.producerId:null;try{const n={data:c(e,t),producerId:t};window.top.postMessage(n,"*")}catch(e){}}(u);else if(i(n))return s=r(n),s.data.push(a),s.data=e.redirectQueue(s.data),s.sizeThreshold&&(u=l.serialize(s.data),s.size=u.length),s.data.length;return 0}}}();function C(e){const t=e.origin,n=o&&o.frames&&o.frames.eventConsumer&&o.frames.eventConsumer.childFrameHostnameWhitelist?o.frames.eventConsumer.childFrameHostnameWhitelist:null,i=!(!t||!n)&&n.includes(new URL(t).hostname);if(n&&!n.length||i){const t=e.data,n=t&&t.producerId?t.producerId:null,o=t&&t.data?t.data:null;if(n&&o){if(!!(12===o.type&&o&&o.domCapture&&o.domCapture.fullDOM)&&o.domCapture.fullDOM||1===o.type||2===o.type||14===o.type)return;TLT.getService("queue").post("",o)}}}function x(e){b&&(v=!0),e&&e.id&&t.extend(!0,m[e.id-1],{rspEnd:u.getCurrentOffset(),success:e.success,statusCode:e.statusCode,statusText:e.statusText})}function O(){const n=t.getOriginAndPath(window.location);return e.normalizeUrl("",n.path)}function L(e,t,n,o){const i=S.get(e),r={name:t,value:n};let a=null;"string"==typeof t&&"string"==typeof n&&(i.headers||(i.headers={once:[],always:[]}),a=o?i.headers.always:i.headers.once,a.push(r))}function E(o,a){const c=S.get(o);if(!c)return;let d=c.url?S.flush(o):null;const f=d?d.length:0,p={"Content-Type":"application/json","X-PageId":e.getPageId(),"X-Tealeaf":"device (UIC) Lib/6.4.157","X-TealeafType":"GUI","X-TeaLeaf-Page-Url":O(),"X-Tealeaf-SyncXHR":(!!a).toString()};let g=null;const h=u.getCurrentOffset(),w=c.serializer||"json",b=c.encoder;let T,C;const E=n.tltWorker,k="unloading"===e.getState(),I=t.getOriginAndPath().origin,P=e.isCrossOrigin(c.url,I);let D,M=null;if(!f||!c)return;const R=h-d[f-1].offset;if(!(i&&R>i+6e4)){if(v=!1,c.lastOffset=d[f-1].offset,p["X-Tealeaf-MessageTypes"]=function(e){let t,n,o="";const i=[];if(!e||!e.length)return o;for(t=0,n=e.length;t<n;t+=1)i[e[t].type]=!0;for(t=0,n=i.length;t<n;t+=1)i[t]&&(o&&(o+=","),o+=t);return o}(d),d=u.wrapMessages(d),g=d.serialNumber,m[g-1]={serialNumber:g,reqStart:h},y&&(d.log={requests:m}),n.endpointCheckFailed&&(d.log.endpointCheckFailed=!0),function(){let t,n,o=0;const i=e.provideRequestHeaders();if(i&&i.length)for(t=i.length;o<t;o+=1)n=i[o],L("DEFAULT",n.name,n.value,n.recurring)}(),function(e,t){let n,o;const i=S.get(e).headers;let r=null;function a(e,t){let n,o,i=null;for(n=0,o=e.length;n<o;n+=1)i=e[n],t[i.name]=i.value}if(t=t||{},i)for(r=[i.always,i.once],n=0,o=r.length;n<o;n+=1)a(r[n],t)}(o,p),!E||a||k)if(w&&(d=l.serialize(d,w)),b&&(C=s.encode(d,b),C&&(C.data&&!C.error&&(C.data instanceof window.ArrayBuffer?C.data.byteLength<d.length?(d=C.data,p["Content-Encoding"]=C.encoding):C.error=b+" encoder did not reduce payload ("+C.data.byteLength+") compared to original data ("+d.length+")":C.error="Encoder did not apply "+b+" encoding."),C.error&&e.logExceptionEvent("EncoderError: "+C.error,"UIC",-1))),c.crossDomainEnabled){if(M=t.getIFrameWindow(c.crossDomainIFrame),!M)return;if(T={request:{id:g,url:c.url,async:!a,headers:p,data:d}},"function"==typeof window.postMessage)M.postMessage(T,c.crossDomainIFrame.src);else try{M.sendMessage(T)}catch(e){return}v=!0}else r.sendRequest({id:g,oncomplete:x,url:c.url,async:!a,isUnloading:k,isCrossOrigin:P,headers:p,data:d});else E.onmessage=function(e){x(e.data)},D={id:g,url:c.url,headers:p,data:d,isUnloading:k,isCrossOrigin:P},E.postMessage(D);!function(e){let t=null;if(!S.exists(e))throw new Error("Queue: "+e+" does not exist!");const n=S.get(e);t=n?n.headers:null,t&&(t.once=[])}(o)}}function k(e){let t,o=null;const i=n.queues;for(t=0;t<i.length;t+=1)o=i[t],E(o.qid,e);return!0}function I(t,o){let r,a,s;const l=u.createMessage(o),c=S.get(t);if(a=c.data.length,a&&(s=l.offset-c.data[a-1].offset,i&&s>i))return e.setAutoFlush(!1),void e.destroy(!1,"inactivity(2)");a=S.push(t,l);const d=c.size;b&&!v||(a>=c.eventThreshold||d>=c.sizeThreshold)&&p&&"unloading"!==e.getState()&&(r=e.getCurrentWebEvent(),"click"!==r.type||n.ddfoc?E(t):g&&(g=!1,window.setTimeout((function(){S.exists(t)&&(E(t),g=!0)}),500)))}function P(e,t){f[e]=window.setTimeout((function n(){p&&(!b||b&&v)&&E(e),f[e]=window.setTimeout(n,t)}),t)}function D(e){let t=!1;return e&&f[e]&&(window.clearTimeout(f[e]),delete f[e],t=!0),t}function M(e){}function R(){p&&k(!n.asyncReqOnUnload),c.unsubscribe("configupdated",M),function(){let e=0;for(e in f)Object.prototype.hasOwnProperty.call(f,e)&&D(e);f={}}(),S.reset(),T&&(window.removeEventListener("message",C),T=!1),n=null,d=null,w=!1}return{init:function(){var r;w||(r=c.getServiceConfig("queue")||{},n=r,o=e.getCoreConfig(),i=t.getValue(o,"inactivityTimeout",6e5),b=t.getValue(n,"serializePost",!0),t.forEach(n.queues,(function(t,n){let o=null;"DEFAULT"===t.qid&&(d=t),t.crossDomainEnabled&&(o=a.query(t.crossDomainFrameSelector),o||e.fail("Cross domain iframe not found")),S.add(t.qid,{url:t.endpoint,eventThreshold:t.maxEvents,sizeThreshold:t.maxSize||0,serializer:t.serializer,encoder:t.encoder,timerInterval:t.timerInterval||0,crossDomainEnabled:t.crossDomainEnabled||!1,crossDomainIFrame:o}),void 0!==t.timerInterval&&t.timerInterval>0&&P(t.qid,t.timerInterval)})),c.subscribe("configupdated",M),w=!0,o&&o.frames&&o.frames.enableCrossDomainCommunication&&!T&&(window.addEventListener("message",C),T=!0))},destroy:function(){R()},_getQueue:function(e){return S.get(e).data},setAutoFlush:function(e){p=!0===e},flush:function(e){if(e=e||d.qid,!S.exists(e))throw new Error("Queue: "+e+" does not exist!");E(e)},flushAll:function(e){return k(!!e)},post:function(t,o,i){e.isInitialized()&&(i=i||function(e){let t,o,i,r,a=null,s="";const l=n.queues;for(t=0,i=l.length;t<i;t+=1)if(a=l[t],a&&a.modules)for(o=0,r=a.modules.length;o<r;o+=1)if(s=a.modules[o],s===e)return a.qid;return d.qid}(t),S.exists(i)&&(function(e){let t=!1;if(!e||!e.type)return!0;const n=h[e.type];return n&&(n.count+=1,n.count>n.limit&&(t=!0,n.count===n.limit+1&&I("DEFAULT",{type:16,dataLimit:{messageType:e.type,maxCount:n.limit}}))),t}(o)||I(i,o)))},resetFlushTimer:function(e){e=e||d.qid,S.exists(e)&&function(e){let t;e&&D(e)&&(t=S.get(e),t.timerInterval&&P(e,t.timerInterval))}(e)},setXHRLog:function(){y=!y}}})),TLT.addService("browserBase",(function(e){"use strict";let t;const n=e.utils,o={optgroup:!0,option:!0,nobr:!0},i={};let r,a,s,l,c,u,d=null,f=!1;function p(){r=e.getService("config"),d=e.getService("serializer"),a=r?r.getServiceConfig("browser"):{},s=a.blacklist||[],l=a.customid||[],c=n.getValue(a,"normalizeTargetToParentLink",!0),u=n.getValue(a,"logAttributes",[])}function g(e,t){let n,o,i;if(!e)return null;if(i=void 0!==t?t:e.id,!i||"string"!=typeof i)return null;for(n=0,o=s.length;n<o;n+=1)if("string"==typeof s[n]){if(i===s[n])return null}else if("object"==typeof s[n]&&(s[n].cRegex||(s[n].cRegex=new RegExp(s[n].regex,s[n].flags)),s[n].cRegex.lastIndex=0,s[n].cRegex.test(i)))return null;return i}const h=function(){const t={nobr:!0};return function(o,i,r,a){let s,l,c,u,d=null,f=null,p=null,h=!0,m="",y=!1;const w=document.documentElement,b=[],v=e._getLocalTop();if(!o||!o.nodeType)return b;if(11===o.nodeType){if(!(o=o.host))return b;y=!0}for(;h;)if(h=!1,m=n.getTagName(o),"window"!==m)if(m&&!y&&t[m])o=o.parentNode,h=!0;else{for(l=g(o,a);o&&(1===o.nodeType||9===o.nodeType)&&o!=document&&(i||!l);l=g(o))if(p=o.parentNode,p){if(d=p.firstChild,!d){b.push(["XPath Error(1)"]),o=null;break}for(s=0;d;d=d.nextSibling)if(1===d.nodeType&&n.getTagName(d)===m){if(d===o){c=[m,s],y&&(c.push("h"),y=!1),b[b.length]=c;break}s+=1}11===p.nodeType?(o=p.host,y=!0):o=p,m=n.getTagName(o)}else{if(f=n.getWindow(o),!f||r)return c=[m,0],b[b.length]=c,b.reverse();if(f===v)return b.reverse();o=f.frameElement,m=n.getTagName(o),p=o.parentNode}l&&!i&&(c=[l],y&&(c.push("h"),y=!1),b[b.length]=c,n.isIFrameDescendant(o)?(h=!0,o=n.getWindow(o).frameElement):r||w.contains(o)||o.getRootNode&&(u=o.getRootNode(),u&&(o=u.host,y=!0,h=!0))),a=void 0}return b.reverse()}}();function m(e){let t="null";return e&&e.length?(t=d.serialize(e,"json"),t):t}function y(e,t,n,o){let i;const r=h(e,!!t,!!o);return i=n?r:m(r),i}function w(e){return e&&void 0!==e.originalEvent&&void 0!==e.isDefaultPrevented&&!e.isSimulated}function b(e){return e?(e.type&&0===e.type.indexOf("touch")&&(w(e)&&(e=e.originalEvent),"touchstart"===e.type?e=e.touches[e.touches.length-1]:"touchend"===e.type&&(e=e.changedTouches[0])),e):null}function v(e){let t=0,n=0;const o=document.documentElement,i=document.body;return(e=b(e))&&(e.pageX||e.pageY?(t=e.pageX,n=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX,n=e.clientY,o?(t=e.clientX+o.scrollLeft-o.clientLeft,n=e.clientY+o.scrollTop-o.clientTop):i&&(t=e.clientX+i.scrollLeft-i.clientLeft,n=e.clientY+i.scrollTop-i.clientTop))),{x:t,y:n}}function T(e,t){this.x=Math.round(e||0),this.y=Math.round(t||0)}function S(e,t){this.width=Math.round(e||0),this.height=Math.round(t||0)}function C(e,t){const i=function(e){let t,i,r,a=null;if(!e||!e.type)return null;if(0===e.type.indexOf("touch"))a=b(e).target;else if("function"==typeof e.composedPath)if(r=e.composedPath(),r&&r.length){if(a=r[0],c)for(t=0,i=r.length;t<i;t+=1)if("a"===n.getTagName(r[t])){a=r[t];break}}else a=e.target||window.window;else a=e.srcElement?e.srcElement:e.target;for(;a&&o[n.getTagName(a)]&&a.parentElement;)a=a.parentElement;return 9===a.nodeType&&a.documentElement&&(a=a.documentElement),a}(e),r=this.examineID(i),a=function(e){const t={type:null,subType:null};return e?(t.type=n.getTagName(e),t.subType=e.type||null,t):t}(i),s=this.examinePosition(e,i),l=i&&i.getAttribute?i.getAttribute("aria-label"):null;l&&(this.accessibility={id:l}),this.attributes=function(e){let t,n,o,i,r;const a={};if(!e||!e.hasAttribute)return a;for(t=0,n=u.length,r=0;t<n&&r<5;t+=1)o=u[t],e.hasAttribute(o)&&(i=e.getAttribute(o)||"",a[o]=i.slice(0,60),r+=1);return a}(i),i&&i.innerText&&(this.attributes.innerText=n.trim(i.innerText).slice(0,60)),this.element=i,this.id=r.id,this.idType=r.idType,this.type=a.type,this.subType=a.subType,this.state=this.examineState(i),this.position=new T(s.x,s.y),this.position.relXY=s.relXY,this.size=new S(s.width,s.height),this.xPath=r.xPath,this.name=r.name}function x(e){let t,o,i;if(!e||!e.getBoundingClientRect)return{x:0,y:0,width:0,height:0};try{t=e.getBoundingClientRect(),i=function(e){const t={left:-1,top:-1},n=(e=e||document).documentElement||e.body.parentNode||e.body;return t.left=Math.round("number"==typeof window.pageXOffset?window.pageXOffset:n.scrollLeft),t.top=Math.round("number"==typeof window.pageYOffset?window.pageYOffset:n.scrollTop),t}(document)}catch(e){return{x:0,y:0,width:0,height:0}}const r={x:t.left+i.left,y:t.top+i.top,width:t.right-t.left,height:t.bottom-t.top};return n.isIE&&(r.x-=document.documentElement.clientLeft,r.y-=document.documentElement.clientTop,o=function(){let e,t,n,o=1;if(document.body.getBoundingClientRect){try{e=document.body.getBoundingClientRect()}catch(e){return o}t=e.right-e.left,n=document.body.offsetWidth,o=Math.round(t/n*100)/100}return o}(),1!==o&&(r.x=Math.round(r.x/o),r.y=Math.round(r.y/o),r.width=Math.round(r.width/o),r.height=Math.round(r.height/o))),r}function O(){let e=n.getOrientationAngle();return n.isLandscapeZeroDegrees&&(180===Math.abs(e)||0===Math.abs(e)?e=90:90!==Math.abs(e)&&270!==Math.abs(e)||(e=0)),e}function L(o){let i;return t=function(t){let n,o,i,r;if(t)return t;const a=(e.getCoreConfig()||{}).modules;for(r in t={},a)if(Object.prototype.hasOwnProperty.call(a,r)&&a[r].events)for(n=0,o=a[r].events.length;n<o;n+=1)i=a[r].events[n],i.state&&(t[i.name]=i.state);return t}(t),t[o.type]&&(i=n.getValue(o,t[o.type],null)),i}function E(e){this.data=e.data||null,this.delegateTarget=e.delegateTarget||null,(e.gesture||e.originalEvent&&e.originalEvent.gesture)&&(this.gesture=e.gesture||e.originalEvent.gesture,this.gesture.idType=new C(this.gesture,this.gesture.target).idType);const t=v(e=function(e){let t,o,i,r=e||window.event,a=!1,s=null;const l=document.documentElement,c=document.body;if(w(r)&&(r=r.originalEvent),void 0!==e&&void 0!==r.target||(r.target=r.srcElement||window.window,r.timeStamp=Number(new Date),null!==r.pageX&&void 0!==r.pageX||(r.pageX=r.clientX+(l&&l.scrollLeft||c&&c.scrollLeft||0)-(l&&l.clientLeft||c&&c.clientLeft||0),r.pageY=r.clientY+(l&&l.scrollTop||c&&c.scrollTop||0)-(l&&l.clientTop||c&&c.clientTop||0)),r.preventDefault=function(){this.returnValue=!1},r.stopPropagation=function(){this.cancelBubble=!0}),"click"===r.type){for(t=r.composedPath?r.composedPath():[],i=0;i<t.length;i+=1)if(o=n.getTagName(t[i]),"button"===o){a=!0,s=t[i];break}if(a)return{originalEvent:r,target:s,srcElement:s,type:r.type,pageX:r.pageX,pageY:r.pageY}}return r}(e));this.custom=!1,this.nativeEvent=!0===this.custom?null:e,this.position=new T(t.x,t.y),this.target=new C(e,e.target),this.orientation=O();const o=L(e);o&&(this.target.state=o),this.timestamp=(new Date).getTime();const i=function(e){const t={type:null,subType:null};if(!e)return t;let n=e.type;switch(n){case"focusin":n="focus";break;case"focusout":n="blur"}return t.type=n,t}(e,this.target);this.type=i.type,this.subType=i.subType}function k(e,t,o){let i=[],r=[];if(!(this instanceof k))return null;if(!e||!e.nodeType)return this.fullXpath="",this.xpath="",this.fullXpathList=[],void(this.xpathList=[]);3===e.nodeType&&(e=e.parentElement),r=h(e,!1,t,o);const a=r[0];i=r.length&&(1===a.length||2===a.length&&"h"===a[1])?h(e,!0,t):n.clone(r),this.xpath=m(r),this.xpathList=r,this.fullXpath=m(i),this.fullXpathList=i;const s=i[i.length-1];this.isShadowHost=!!s&&"h"===s[s.length-1],this.applyPrefix=function(e){let t;if(!(e instanceof k&&e.fullXpathList.length))return;const o=e.fullXpathList[e.fullXpathList.length-1];t=this.fullXpathList.shift(),n.isEqual(t[0],o[0])?(this.fullXpathList=e.fullXpathList.concat(this.fullXpathList),this.fullXpath=m(this.fullXpathList),t=this.xpathList.shift(),1!==t.length?(this.xpathList=e.xpathList.concat(this.xpathList),this.xpath=m(this.xpathList)):this.xpathList.unshift(t)):this.fullXpathList.unshift(t)},this.compare=function(e){return e instanceof k?this.fullXpathList.length-e.fullXpathList.length:0},this.isSame=function(e){let t=!1;return e instanceof k?(0===this.compare(e)&&(t=this.fullXpath===e.fullXpath),t):t},this.containedIn=function(e,t){let o,i,r,a;if(!(e instanceof k))return!1;if(e.fullXpathList.length>this.fullXpathList.length)return!1;for(o=0,r=e.fullXpathList.length;o<r;o+=1)if(!n.isEqual(e.fullXpathList[o],this.fullXpathList[o]))return!1;if(!t)for(i=o,r=this.fullXpathList.length;i<r;i+=1)if(a=this.fullXpathList[i],"h"===a[a.length-1])return!1;return!0}}return i.xpath=function(e,t){let o,i,r,a,s,l,c,u=null,f=null,p=!1;if(!e)return null;if(u=d.parse(e),o=t=t||document,!u)return null;for(r=0,l=u.length;r<l&&o;r+=1){if(f=u[r],p=f.length>1&&"h"===f[f.length-1],1===f.length||2===f.length&&p)o=t.getElementById?t.getElementById(f[0]):t.querySelector?t.querySelector("#"+f[0]):null;else{for(a=0,s=-1,c=o.childNodes.length;a<c;a+=1)if(1===o.childNodes[a].nodeType&&n.getTagName(o.childNodes[a])===f[0].toLowerCase()&&(s+=1,s===f[1])){o=o.childNodes[a];break}if(s!==f[1])return null}if(!o)return null;if(p&&r<l-1){if(!o.shadowRoot)return null;o=o.shadowRoot,t=o}i=n.getTagName(o),("frame"===i||"iframe"===i)&&r<l-1&&(o=n.getIFrameWindow(o).document,t=o)}return o!==t&&o?o:null},C.HTML_ID=-1,C.XPATH_ID=-2,C.ATTRIBUTE_ID=-3,C.prototype.examineID=function(e,t){const o={id:"",idType:0,xPath:"",name:""};let i,r,a=l.length;const s=document.documentElement;if(!e)return o;o.xPath=y(e,!1,!1,t),o.name=e.name;try{if(r="function"!=typeof s.contains||s.contains(e),(t||r)&&(!n.getWindow(e)||!n.isIFrameDescendant(e)))if(g(e))o.id=e.id,o.idType=C.HTML_ID;else if(l.length&&e.attributes)for(;a;)a-=1,i=e.attributes[l[a]],void 0!==i&&(o.id=l[a]+"="+(i.value||i),o.idType=C.ATTRIBUTE_ID)}catch(e){}return o.id||(o.id=o.xPath,"null"!==o.id&&(o.idType=C.XPATH_ID)),o},C.prototype.examineState=function(e){return n.getTargetState(e)},C.prototype.examinePosition=function(e,t){const o=v(e),i=x(t);return i.x=o.x||o.y?Math.round(Math.abs(o.x-i.x)):i.width/2,i.y=o.x||o.y?Math.round(Math.abs(o.y-i.y)):i.height/2,i.relXY=n.calculateRelativeXY(i),i},k.prototype={},{init:function(){f||(p(),r&&r.subscribe("configupdated",p),f=!0)},destroy:function(){r&&r.unsubscribe("configupdated",p),f=!1},WebEvent:E,ElementData:C,Xpath:k,processDOMEvent:function(t){e.isInitialized()&&e._publishEvent(new E(t))},getNormalizedOrientation:O,getXPathFromNode:function(e,t,n,o,i){return y(t,n,o,i)},getNodeFromID:function(e,t,n){const o="-1",r="-2",a="-3";let s,l=null;if(!e||!t)return l;try{const c=n||window.document;(t=t.toString())==o?c.getElementById?l=c.getElementById(e):c.querySelector&&(l=c.querySelector("#"+e)):t==a?(s=e.split("="),c.querySelector&&(l=c.querySelector("["+s[0]+'="'+s[1]+'"]'))):t==r&&(l=i.xpath(e,c))}catch{}return l},queryDom:i}})),TLT.addService("browser",(function(e){"use strict";const t=e.utils,n=e.getService("config"),o=e.getService("browserBase");let i=null,r=null;const a=n?n.getServiceConfig("browser"):{},s=t.getValue(a,"useCapture",!0),l=t.getValue(a,"usePassive",!0);let c=!1;const u="NOQUERYSELECTOR",d={list2Array:function(e){const t=e.length,n=[];if(void 0===e.length)return[e];for(let o=0;o<t;o+=1)n[o]=e[o];return n},find:function(e,t,n){return n=n||"css",this.list2Array(this[n](e,t))},css:function(e,t){return(t=t||document).querySelectorAll(e)}},f=function(){const e=new t.WeakMap;return{add:function(t){const n=e.get(t)||[(i=t,function(e){const t=new o.WebEvent(e);"resize"===e.type||"hashchange"===e.type?setTimeout((function(){i(t)}),5):i(t)}),0];var i;return n[1]+=1,e.set(t,n),n[0]},find:function(t){const n=e.get(t);return n?n[0]:null},remove:function(t){const n=e.get(t);n&&(n[1]-=1,n[1]<=0&&e.remove(t))}}}();function p(e){const n={capture:s,passive:l};return t.isIE?s:t.mixin(n,e)}function g(){if(d.xpath=o.queryDom.xpath,document.querySelectorAll||e.fail("querySelectorAll does not exist!",u),"function"==typeof document.addEventListener)i=function(e,t,n,o){o=p(o),e.addEventListener(t,n,o)},r=function(e,t,n,o){o=p(o),e.removeEventListener(t,n,o)};else{if(void 0===document.attachEvent)throw new Error("Unsupported browser");i=function(e,t,n){e.attachEvent("on"+t,n)},r=function(e,t,n){e.detachEvent("on"+t,n)}}c=!0}return{init:function(){c||g()},destroy:function(){c=!1},getServiceName:function(){return"W3C"},query:function(e,t,n){try{return d.find(e,t,n)[0]||null}catch(e){return[]}},queryAll:function(e,t,n){try{return d.find(e,t,n)}catch(e){return[]}},matches:function(e,t){let n=!1;try{t&&e&&(t.matches?n=t.matches(e):t.msMatchesSelector&&(n=t.msMatchesSelector(e)))}catch(e){}return n},subscribe:function(e,t,n,o){const r=f.add(n);i(t,e,r,o)},unsubscribe:function(e,t,n,o){const i=f.find(n);if(i){try{r(t,e,i,o)}catch(e){}f.remove(n)}}}})),TLT.addService("ajax",(function(e){"use strict";const t=e.utils;let n,o=!1,i=!1,r=!1;function a(e){let t,n=!1;const o=function(e){let t="",n="?";for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n+=encodeURIComponent(t)+"="+encodeURIComponent(e[t])+"&");return n.slice(0,-1)}(e.headers);return t="string"==typeof e.data?e.data:e.data?new Uint8Array(e.data):"",n=navigator.sendBeacon(e.url+o,t),n}function s(e){let o,i,r=n(),a=[["X-Requested-With","XMLHttpRequest"]],s=0,l="",c=null;const u="boolean"!=typeof e.async||e.async;for(e.headers&&(a=a.concat(function(e){let t="";const n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}(e.headers))),e.contentType&&a.push(["Content-Type",e.contentType]),r.open(e.type.toUpperCase(),e.url,u),o=0,i=a.length;o<i;o+=1)l=a[o],l[0]&&l[1]&&r.setRequestHeader(l[0],l[1]);e.error&&(e.error=function(e){if("function"==typeof e)return function(n){let o=!1;if(!n)return;const i=n.target;if(!i)return e(n);const r=i.status;r>=200&&r<300&&(o=!0),e({headers:t.extractResponseHeaders(i.getAllResponseHeaders()),responseText:i.responseText,statusCode:r,statusText:i.statusText,id:i.id,success:o})}}(e.error),r.addEventListener("error",e.error)),r.onreadystatechange=c=function(){4===r.readyState&&(r.onreadystatechange=c=function(){},e.timeout&&window.clearTimeout(s),e.oncomplete({id:e.id,headers:t.extractResponseHeaders(r.getAllResponseHeaders()),responseText:r.responseText||null,statusCode:r.status,statusText:r.statusText,success:r.status>=200&&r.status<300}),r=null)},r.send(e.data||null),c(),e.timeout&&(s=window.setTimeout((function(){r&&(r.onreadystatechange=function(){},4!==r.readyState&&(r.abort(),"function"==typeof e.error&&e.error({id:e.id,statusCode:r.status,statusText:"timeout",success:!1})),e.oncomplete({id:e.id,headers:t.extractResponseHeaders(r.getAllResponseHeaders()),responseText:r.responseText||null,statusCode:r.status,statusText:"timeout",success:!1}),r=null)}),e.timeout))}return{init:function(){r||function(){const a=e.getServiceConfig("queue");n=void 0!==window.XMLHttpRequest?function(){return new XMLHttpRequest}:function(){return new ActiveXObject("Microsoft.XMLHTTP")},a&&(o=t.getValue(a,"useBeacon",!0)&&"function"==typeof navigator.sendBeacon,i=t.getValue(a,"useFetch",!0)&&"function"==typeof window.fetch),r=!0}()},destroy:function(){r=!1},sendRequest:function(e){let t,n=!0;e.type=e.type||"POST",!e.isUnloading&&e.async||!o||(n=!1,t=a(e),t||(n=!0)),n&&(e.async&&i&&!e.timeout?function(e){const t=e.headers||{},n=e.id||0,o={method:e.type,headers:t,body:e.data,mode:e.isCrossOrigin?"cors":"same-origin",credentials:e.isCrossOrigin?"omit":"same-origin",keepalive:!e.isCrossOrigin&&e.isUnloading,cache:"no-store"},i=e.oncomplete||function(){};t["X-Requested-With"]="fetch",window.fetch(e.url,o).then((function(e){const t={success:e.ok,statusCode:e.status,statusText:e.statusText,id:n};t.success?e.text().then((function(e){try{t.data=JSON.parse(e)}catch(n){t.data=e}i(t)})).catch((function(e){t.statusCode=1,t.statusText=e.message,i(t)})):i(t)})).catch((function(e){const t={success:!1,statusCode:2,statusText:e.message,id:n};i(t)}))}(e):s(e))}}})),TLT.addService("domCapture",(function(e){"use strict";let t=e.getService("config");const n=e.getService("browserBase"),o=e.getService("browser");let i,r=e.getService("message");const a={maxMutations:100,maxLength:1e6,captureShadowDOM:!1,captureDynamicStyles:!1,captureHREFStyles:!1,captureFrames:!1,removeScripts:!0,removeComments:!0,captureStyle:!0},s={childList:!0,attributes:!0,attributeOldValue:!0,characterData:!0,subtree:!0};let l,c=void 0!==window.MutationObserver,u=s;const d=[],f=[];let p;const g=[];let h=[],m=[],y=[],w=0,b=100,v=!1,T=!1,S=!1,C=!1,x=function(){},O=function(){},L=function(){};const E=e._publishEvent;let k=!1;const I=e.utils;let P,D;const M=Object.getOwnPropertyDescriptor(Document.prototype,"styleSheets"),R=Object.getOwnPropertyDescriptor(Document.prototype,"adoptedStyleSheets"),j={},A={},N={};let F;const V={};function U(e){let t,n;if(e)for(t=0,n=e.length;t<n;t+=1)delete e[t].oldValue;return e}function z(e,t){let n,o,i=-1;if(!e||!t)return i;for(n=0,o=e.length;n<o;n+=1)if(e[n].name===t){i=n;break}return i}function X(e,t){let n,o,i,r;for(n=0,o=e.length,r=!1;n<o;n+=1)if(i=e[n],i.name===t.name){i.oldValue===t.value?e.splice(n,1):i.value=t.value,r=!0;break}return r||e.push(t),e}function q(e,t){let n,o,i,r,a,s,l,c=0;for(e.removedNodes=t.removedNodes.length,e.addedNodes=I.convertToArray(t.addedNodes),n=0,r=h.length;n<r;n+=1)if(s=h[n],e.isSame(s)){if(e.removedNodes)for(o=0;o<t.removedNodes.length;o+=1)i=s.addedNodes.indexOf(t.removedNodes[o]),-1!==i&&(s.addedNodes.splice(i,1),e.removedNodes-=1);if(s.removedNodes+=e.removedNodes,s.addedNodes.concat(e.addedNodes),!s.removedNodes&&!s.addedNodes.length){for(l=!1,o=0;o<h.length;o+=1)if(s!==h[o]&&h[o].containedIn(s)){l=!0;break}l||(h.splice(n,1),c=-1)}a=!0;break}return a||(h.push(e),c=1),c}function _(e,t){let n,o,i,r,a,s=!1;for(n=0,i=h.length;!s&&n<i;n+=1)if(a=h[n],e.containedIn(a))for(r=a.addedNodes,o=0;o<r.length;o+=1)if(r[o].contains&&r[o].contains(t)){s=!0;break}return s}function W(e,t){let o,i,a,s=null,l=0;const c=t.attributeName;if("checked"===c||"selected"===c){if(s=n.ElementData.prototype.examineID(t.target),r.isPrivacyMatched(s))return l;s=null}"value"===c&&(s=n.ElementData.prototype.examineID(t.target),s.currState=I.getTargetState(t.target)||{},s.currState.value?r.applyPrivacyToTarget(s):s=null),e.attributes=[{name:c,oldValue:t.oldValue,value:s?s.currState.value:t.target.getAttribute(c)}];const u=e.attributes[0];if(u.oldValue===u.value)return l;for(o=0,i=y.length,a=!1;o<i;o+=1)if(s=y[o],e.isSame(s)){s.attributes=X(s.attributes,u),s.attributes.length?_(e,t.target)&&(y.splice(o,1),l=-1):(y.splice(o,1),l=-1),a=!0;break}return a||_(e,t.target)||(y.push(e),l=1),l}function H(){return new window.MutationObserver((function(t){t&&(!function(e){let t,o,i,r,a;if(e&&e.length)if(v)w+=e.length;else{for(t=0,o=e.length;t<o&&w<b;t+=1)if(r=e[t],a=new n.Xpath(r.target),a&&(i=a.fullXpathList,i.length&&"html"===i[0][0]))switch(r.type){case"characterData":case"childList":w+=q(a,r);break;case"attributes":w+=W(a,r);break;default:I.clog("Unknown mutation type: "+r.type)}w>=b&&(v=!0,w+=o-t)}}(t),I.clog("Processed ["+t.length+"] mutation records."),e.invokeMutationCallbacks(t))}))}function B(e){const t=p.call(this,e);return l&&t&&l.observe(t,u),t}function K(e,t){return this.updateOwner(),this.insertRuleOriginal(e,t)}function Y(e){this.deleteRuleOriginal(e),this.updateOwner()}function Q(e){this.updateOwner(),this.replaceSyncOriginal(e)}function J(e){return this.updateOwner(),this.replaceOriginal(e)}function G(){if(this.ownersReference){const e=Object.keys(this.ownersReference);for(let t=0;t<e.length;t+=1){const n=e[t];j[n]||(m.push(n),j[n]=!0)}}}function $(e){this.ownersReference||(this.ownersReference={}),this.ownersReference[e]=!0,j[e]=!0}function Z(e){this.ownersReference&&delete this.ownersReference[e]}function ee(e){e.domId=Math.random().toString(16).slice(2),A[e.domId]=e,j[e.domId]=!0;let t=[].concat.apply([],e.adoptedStyleSheets);if(t=t.concat.apply(t,e.styleSheets),t)for(let n=0;n<t.length;n+=1){const o=t[n];o.ownersReference||(o.ownersReference={}),o.ownersReference[e.domId]=!0}}function te(e){if(e&&e.alreadyModified)return;e.alreadyModified=!0;const t=Object.getOwnPropertyDescriptor(e.Document.prototype,"adoptedStyleSheets"),n=Object.getOwnPropertyDescriptor(e.Document.prototype,"styleSheets");return Object.defineProperty(e.Document.prototype,"adoptedStyleSheets",{set:function(e){let n,o;this.domId||ee(this);const i=this.adoptedStyleSheets;if(i.length>0)for(n=0;n<i.length;n+=1)o=i[n],o.removeOwnership(this.domId);for(n=0;n<e.length;n+=1)o=e[n],o.publishOwnership(this.domId);t.set.call(this,e)}}),Object.defineProperty(e.Document.prototype,"styleSheets",{get:function(){let e,t;const o=n.get.call(this);for(this.domId||ee(this),e=0;e<o.length;e+=1)t=o[e],t.publishOwnership(this.domId);return o}}),e.CSSStyleSheet.prototype.insertRuleOriginal=e.CSSStyleSheet.prototype.insertRule,e.CSSStyleSheet.prototype.deleteRuleOriginal=e.CSSStyleSheet.prototype.deleteRule,e.CSSStyleSheet.prototype.insertRule=K,e.CSSStyleSheet.prototype.deleteRule=Y,e.CSSStyleSheet.prototype.replaceSyncOriginal=e.CSSStyleSheet.prototype.replaceSync,e.CSSStyleSheet.prototype.replaceOriginal=e.CSSStyleSheet.prototype.replace,e.CSSStyleSheet.prototype.replaceSync=Q,e.CSSStyleSheet.prototype.replace=J,e.CSSStyleSheet.prototype.publishOwnership=$,e.CSSStyleSheet.prototype.removeOwnership=Z,void(e.CSSStyleSheet.prototype.updateOwner=G)}function ne(n){let o,f,h,m,y,w;const v=t.getCoreConfig();if(t.subscribe("configupdated",L),r=e.getService("message"),i=n,i.options=I.mixin({},a,i.options),F=I.getValue(i.options,"removeInnerHTMLRegex"),c=c&&I.getValue(i,"diffEnabled",!0),b=I.getValue(i.options,"maxMutations",100),c&&(u=I.getValue(i,"diffObserverConfig",s),l=H(),d.push(window)),w=i.options.captureShadowDOM&&Element.prototype.attachShadow,w&&window.ShadyDOM&&window.ShadyDOM.inUse&&(i.options.captureShadowDOM=!1,w=!1),w)for(h in v.modules)if(Object.prototype.hasOwnProperty.call(v.modules,h))for(y=v.modules[h].events||[],o=0,f=y.length;o<f;o+=1)y[o].attachToShadows&&(m=y[o].name,-1===I.indexOf(g,m)&&g.push(m));i.options.captureDynamicStyles&&document.adoptedStyleSheets&&(te(window),w&&(P=Object.getOwnPropertyDescriptor(ShadowRoot.prototype,"adoptedStyleSheets"),D=Object.getOwnPropertyDescriptor(ShadowRoot.prototype,"styleSheets"),Object.defineProperty(ShadowRoot.prototype,"adoptedStyleSheets",{set:function(e){let t,n;this.domId||ee(this);const o=this.adoptedStyleSheets;if(o.length>0)for(t=0;t<o.length;t+=1)n=o[t],n.removeOwnership(this.domId);for(t=0;t<e.length;t+=1)n=e[t],n.publishOwnership(this.domId);P.set.call(this,e)}}),Object.defineProperty(ShadowRoot.prototype,"styleSheets",{get:function(){let e,t;const n=D.get.call(this);for(this.domId||ee(this),e=0;e<n.length;e+=1)t=n[e],t.publishOwnership(this.domId);return n}})),ee(document)),l&&(l.observe(window.document,u),!p&&I.getValue(i,"options.captureShadowDOM",!1)&&(p=Element.prototype.attachShadow,Element.prototype.attachShadow=B),k=!0),S=!0}function oe(){t.unsubscribe("configupdated",L),l&&(l.disconnect(),l=null),p&&Element.prototype.attachShadow===B&&(Element.prototype.attachShadow=p,p=null);const e=ie(window);for(const t of e)re(t);C&&window.removeEventListener("message",be)}function ie(t){const n=[...t.document.querySelectorAll(["iframe","frame"])];if(0===n.length)return[t];const o=n.map((e=>e.contentWindow)),i=[t];for(const t of o)e._hasSameOrigin(t)&&i.push(...ie(t));return i}function re(e){R&&Object.defineProperty(e.Document.prototype,"adoptedStyleSheets",R),M&&Object.defineProperty(e.Document.prototype,"styleSheets",M),P&&Object.defineProperty(e.ShadowRoot.prototype,"adoptedStyleSheets",P),D&&Object.defineProperty(e.ShadowRoot.prototype,"styleSheets",D),e.CSSStyleSheet.prototype.insertRuleOriginal&&(e.CSSStyleSheet.prototype.insertRule=e.CSSStyleSheet.prototype.insertRuleOriginal),e.CSSStyleSheet.prototype.deleteRuleOriginal&&(e.CSSStyleSheet.prototype.deleteRule=e.CSSStyleSheet.prototype.deleteRuleOriginal),e.CSSStyleSheet.prototype.replaceSyncOriginal&&(e.CSSStyleSheet.prototype.replaceSync=e.CSSStyleSheet.prototype.replaceSyncOriginal),e.CSSStyleSheet.prototype.replaceOriginal&&(e.CSSStyleSheet.prototype.replace=e.CSSStyleSheet.prototype.replaceOriginal),delete e.CSSStyleSheet.prototype.publishOwnership,delete e.CSSStyleSheet.prototype.removeOwnership,delete e.CSSStyleSheet.prototype.updateOwner,delete e.CSSStyleSheet.prototype.insertRuleOriginal,delete e.CSSStyleSheet.prototype.deleteRuleOriginal,delete e.CSSStyleSheet.prototype.replaceSyncOriginal,delete e.CSSStyleSheet.prototype.replaceOriginal,delete e.alreadyModified}function ae(e,t,n){let o,i,r,a;const s=[];if(!e||!t)return s;n&&2===n.length&&(i=n[0],r=n[1]);const l=e.querySelectorAll(t);if(l&&l.length)for(o=l.length-1;o>=0;o-=1)a=l[o],i?a[i]===r&&s.push(a):s.push(a);return s}function se(e,t,n){let o,i;const r=ae(e,t,n);for(o=r.length-1;o>=0;o-=1)i=r[o],i.parentNode.removeChild(i);return e}function le(e,t){let n,o;for(n=0;e.hasChildNodes()&&n<e.childNodes.length;n+=1)o=e.childNodes[n],o.nodeType===t?(e.removeChild(o),n-=1):o.hasChildNodes()&&le(o,t);return e}function ce(e,t){let n,o,r;i.options.captureShadowDOM&&console.warn("Please disable the captureShadoDOM flag in the configuration file as this website is most likely using a synthetic Shadow DOM polyfill");const a=e&&e.querySelectorAll("*"),s=a&&a.length||0;for(n=0;n<s;n+=1)o=a[n],r=o.shadowRoot,r?r.children.length>0&&ce(r,t):"INPUT"===o.tagName&&(t[t.length]=o)}function ue(e,t,n){let o,i,r;const a=t.length;if(e.length===a||(ce(n,e=[]),e.length===a))for(o=0;o<a;o+=1)switch(i=e[o],r=t[o],r.type){case"checkbox":case"radio":i.checked?r.setAttribute("checked","checked"):r.removeAttribute("checked");break;default:r.setAttribute("value",i.value),r.getAttribute("type")||r.setAttribute("type","text")}}function de(e,t){let n,o=null;if(e)switch(n=e.nodeType||-1,n){case 11:o=e.innerHTML;break;case 9:o=e.documentElement?e.documentElement.outerHTML:"";break;case 1:o=t?e.innerHTML:e.outerHTML}return o}function fe(e){let t,n,i;for(e.TLTListeners=e.TLTListeners||{},t=0,n=g.length;t<n;t+=1)i=g[t],e.TLTListeners[i]||(o.subscribe(i,e,E),e.TLTListeners[i]=!0)}function pe(e,t,o,i){let r,a,s,d,p,g;const h={shadows:[]};if(!e||!i&&!e.children)return h;for(p=i?[e]:e.children,r=0,a=p.length;r<a;r+=1){if(d=p[r],d.shadowRoot){g=new n.Xpath(d),s=O(d.ownerDocument,d.shadowRoot,"",o);const e={root:s.root,originalSize:s.originalSize,xpath:g.xpath};if(s.frames&&s.frames.length>0&&(e.frames=s.frames),h.shadows.push(e),h.shadows=h.shadows.concat(s.shadows),fe(d.shadowRoot),c)try{l.observe(d.shadowRoot,u),d.shadowRoot.TLTListeners.mutation=!0,-1===I.indexOf(f,d)&&f.push(d)}catch(e){I.clog("Failed to observe shadow root.",e,d)}}s=pe(d,null,o),h.shadows=h.shadows.concat(s.shadows)}return h}function ge(e){let t,n,o,i=[];if(!e||!e.children)return i;const r=e.children;for(t=0,n=r.length;t<n;t+=1)o=r[t],o.shadowRoot&&(o.shadowRoot.TLTListeners||i.push([o,o.shadowRoot]),i=i.concat(ge(o.shadowRoot))),i=i.concat(ge(o));return i}function he(e,t){let n,o,i,r;if(!e||!t)return;if(!t.captureShadowDOM)return;const a=ge(e);for(n=0,o=a.length,i=[];n<o;n+=1)r=pe(a[n][0],0,t,!0),i=i.concat(r.shadows);return i}function me(t,n){let o;o=O(t,t,null,n),o||(o={}),o.charset=t.characterSet||t.charset;const i=I.getOriginAndPath(t.location);return o.host=i.origin,o.url=e.normalizeUrl("",i.path,12),o}function ye(e){let t,o,i,r,a,s,l,c,u,d,f;const p=new RegExp("^data:image/(.*?);base64"),g={fullDOM:!1,diffs:[],attributeDiffs:{}};!function(e){let t,n,o;if(e&&e.length)for(e=e.sort((function(e,t){return e.compare(t)})),t=0;t<e.length;t+=1)for(o=e[t],n=t+1;n<e.length;n+=0)e[n].containedIn(o)?e.splice(n,1):n+=1}(h),function(){let e,t,n,o;for(e=0,n=h.length;e<n&&y.length;e+=1)for(o=h[e],t=0;t<y.length;t+=1)y[t].containedIn(o)&&(y.splice(t,1),t-=1)}();const w=e.captureShadowDOM;for(e.captureShadowDOM=!1,t=0,o=h.length;t<o;t+=1)if(d=h[t],u=n.getNodeFromID(d.xpath,-2),u&&(!d.isShadowHost||(u=u.shadowRoot,u.TLTListeners))){if(u===window.document.body||u===window.document.documentElement)return e.captureShadowDOM=w,me(window.document,e);i=O(window.document,u,d,e),delete i.originalSize,i.shadows&&0===i.shadows.length&&delete i.shadows,i.frames&&0===i.frames.length&&delete i.frames,i.xpath=d.xpath,g.diffs.push(i)}for(t=0;t<m.length;t+=1)a=m[t],s=A[a],c=we(s),l=new n.Xpath(s),l&&"null"!==l.xpath?(l=l.xpath.slice(0,-1),l+=',["'+a+'"]]'):l='[["'+a+'"]]',i={root:c,xpath:l},j[a]=!1,g.diffs.push(i);function b(e,t){e&&e.name&&(g.attributeDiffs[i.xpath][e.name]={value:e.value})}function v(t){let n,o,i;for(n=0,i=t.length;n<i;n+=1)if(o=t[n],"src"===o.name&&p.test(o.value)&&o.value.length>e.discardBase64){o.value="",t.push({name:"removedByUIC",value:!0});break}return t}for(t=0,o=y.length;t<o;t+=1)d=y[t],r=z(d.attributes,"id"),r>-1&&(u=n.getNodeFromID(d.fullXpath,-2),u&&(d.xpath=d.fullXpath)),f=U(d.attributes),Object.prototype.hasOwnProperty.call(e,"discardBase64")&&(u=n.getNodeFromID(d.xpath,-2),u||(u=n.getNodeFromID(d.fullXpath,-2)),u&&"img"===u.tagName.toLowerCase()&&f&&(f=v(f))),i={xpath:d.xpath,attributes:f},g.diffs.push(i),g.attributeDiffs[i.xpath]={},I.forEach(i.attributes,b);e.captureShadowDOM=w;const T=he(window.document,e);return T&&T.length&&(g.shadows=T),g}function we(e){let t,n,o,r,a,s,l;const c=i.options.captureHREFStyles;if(!j[e.domId])return N[e.domId];if(r=[].concat.apply([],e.adoptedStyleSheets),r=r.concat.apply(r,e.styleSheets),r&&r.length>0){for(t=[],s=0;s<r.length;s+=1)if(a=r[s],!(!c&&!e.isDocumentFromIframe&&a.href||a.ownerNode&&a.ownerNode.textContent)){try{o=a.cssRules}catch(e){continue}for(l=0;l<o.length;l+=1)t.push(o[l].cssText)}t.length>0&&(n='<style id="'+e.domId+'">'+t.join(" ")+"</style>",N[e.domId]=n)}return j[e.domId]=!1,n}function be(e){const n=e.origin,o=t.getCoreConfig(),i=o&&o.frames&&o.frames.eventConsumer&&o.frames.eventConsumer.childFrameHostnameWhitelist?o.frames.eventConsumer.childFrameHostnameWhitelist:void 0,r=n&&i&&i.includes(new URL(n).hostname)?i.includes(new URL(n).hostname):void 0;if(i&&!i.length||r){const t=e.data,n=t&&t.producerId?t.producerId:void 0,o=t&&t.data?t.data:void 0;n&&o.type&&12===o.type&&o&&o.domCapture&&o.domCapture.fullDOM&&(V[n]=o.domCapture,TLT.logScreenviewLoad("rootWithFrames"))}}return x=function(e){let t=null;return function(e){let t,n=!1;if(e&&"object"==typeof e)switch(t=e.nodeType||-1,t){case 9:case 1:n=!0}return n}(e)&&(t=e.cloneNode(!0),!t&&e.documentElement&&(t=e.documentElement.cloneNode(!0))),t},O=function(t,n,o,a){let s,l,c,u,d,f,p=!0,g={};const h=i.options.captureDynamicStyles;if(!t||!n)return g;const m=de(n);if(m&&(g.originalSize=m.length),s=x(n),!s&&n.host)p=!1,u=document.createElement("div"),u.id="srph-"+Date.now(),f=de(n),F&&(f=f.replace(F,"")),u.innerHTML=f,s=u;else if(!s)return g;s&&(a.removeScripts&&(se(s,"script"),se(s,"noscript")),a.keepImports||se(s,"link",["rel","import"]),a.removeComments&&le(s,8),a.captureStyle?a.useACS&&function(e,t){let n,o,i,r,a,s,l;if(!e||!t||!t.querySelectorAll)return;const c=e.querySelectorAll("style"),u=t.querySelectorAll("style");for(n=0,l=c.length;n<l;n+=1)if(s=c[n],s.sheet){for(i=s.sheet.cssRules,o=0,r=i.length,a=[];o<r;o+=1)a.push(i[o].cssText);a.length&&(u[n].innerHTML=a.join("\n"))}}(n,s):se(s,"style"),Object.prototype.hasOwnProperty.call(a,"discardBase64")&&function(e,t){let n,o;const i=ae(e,"img"),r=new RegExp("^data:image/(.*?);base64");for(n=0;n<i.length;n++)o=i[n],r.test(o.src)&&o.src.length>t&&(o.src="",o.setAttribute("removedByUIC",!0))}(s,a.discardBase64),function(e,t){let n,o,i,r,a;if(!e||!t)return;const s=e.querySelectorAll("select"),l=t.querySelectorAll("select");if(s)for(i=0,a=s.length;i<a;i+=1)for(n=s[i],o=l[i],r=0;r<n.options.length;r+=1)r===n.selectedIndex||n.options[r].selected?o.options[r].setAttribute("selected","selected"):o.options[r].removeAttribute("selected")}(n,s),function(e,t){if(!t)return;const n=e.querySelectorAll("input"),o=t.querySelectorAll("input");o&&ue(n,o,e)}(n,s),function(e,t){let n,o,i,r;if(!e||!t)return;const a=e.querySelectorAll("textarea"),s=t.querySelectorAll("textarea");if(a&&s)for(n=0,o=a.length;n<o;n+=1)i=a[n],r=s[n],r.setAttribute("value",i.value),r.value=r.textContent=i.value}(n,s),s=r.applyPrivacyToNode(s,o,t),a.captureFrames&&(l=function(t,n,o){let i,r,a,s,l,c;const u={frames:[]},d=["iframe","frame"];for(r=0;r<d.length;r+=1)if(s=d[r],l=t.querySelectorAll(s),c=n.querySelectorAll(s),l)for(i=0,a=l.length;i<a;i+=1)try{let t,n,r,a,s,d,f;if(t=l[i],n=I.getIFrameWindow(t),n){const t=e._hasSameOrigin(n);t||(a=c[i].getAttribute("id"),s=V[a]),(s||t&&n.document&&(o.captureAboutBlankFrames||"about:blank"!==n.location.href))&&(s||(r=n.document,r.isDocumentFromIframe||(te(n),r.isDocumentFromIframe=!0),s=O(r,r,"",o),f=I.getOriginAndPath(r.location),s.host=f.origin,s.url=e.normalizeUrl("",f.path,12),s.charset=r.characterSet||r.charset),a||(a="tlt-"+I.getSerialNumber()),c[i].setAttribute("tltid",a),s.tltid=a,c[i].removeAttribute("srcdoc"),d=c[i].getAttribute("src"),d||(d=n.location.href,c[i].setAttribute("src",d)),s.root||(s.root="<html></html>"),s.frames&&(u.frames=u.frames.concat(s.frames),delete s.frames),u.frames.push(s))}}catch(e){}return u}(n,s,a))),a.captureShadowDOM&&(c=pe(n,0,a)),l&&(g=I.mixin(g,l)),c&&(g=I.mixin(g,c));const y=(function(e){let t,n,o=null;if(!e)return o;switch(e.nodeType){case 1:t=e.ownerDocument,t&&t.documentElement===e&&(n=t.doctype);break;case 9:n=e.doctype}return n&&(o="<!DOCTYPE "+n.name+(n.publicId?' PUBLIC "'+n.publicId+'"':"")+(!n.publicId&&n.systemId?" SYSTEM":"")+(n.systemId?' "'+n.systemId+'"':"")+">"),o}(n)||"")+de(s||n,!p);return g.root=r.applyPrivacyPatterns(y),h&&document.adoptedStyleSheets&&(n instanceof Document||n instanceof ShadowRoot||n.isDocumentFromIframe||"BODY"===n.nodeName&&n.ownerDocument.isDocumentFromIframe)&&("BODY"===n.nodeName&&(n=n.ownerDocument),n.domId||ee(n),d=we(n),d&&(n instanceof ShadowRoot?g.root+=d:g.root=g.root.replace("</body>",d+"</body>"))),g},L=function(){t=e.getService("config"),ne(t.getServiceConfig("domCapture")||{})},{init:function(){t=e.getService("config"),S||(ne(t.getServiceConfig("domCapture")||{}),function(){const e=t.getCoreConfig();e&&e.frames&&e.frames.enableCrossDomainCommunication&&!C&&i&&i.options&&i.options.captureFrames&&(window.addEventListener("message",be),C=!0)}())},destroy:function(){oe()},observeWindow:function(e){e&&(I.getValue(i,"options.captureFrames",!1)||e===window!=0)&&-1===I.indexOf(d,e)&&(d.push(e),l&&k&&l.observe(e.document,u))},captureDOM:function(e,t){let n,o,r,a=null,s=0;if(!S||I.isIE&&document.documentMode<11)return a;if(t=I.mixin({},i.options,t),e=e||window.document,!T||!c||v||t.forceFullDOM){if(l&&l.disconnect(),a=me(e,t),a.fullDOM=!0,a.forced=!(!v&&!t.forceFullDOM),T=!0,l)for(n=0,o=d.length;n<o;n+=1){r=d[n];try{l.observe(r.document,u)}catch(e){d.splice(n,1),o=d.length,n-=1}}}else a=ye(t),a.fullDOM=!a.diffs;return c&&(a.mutationCount=w),h=[],y=[],m=[],w=0,v=!1,t.maxLength&&(s=function(e){let t,n,o,i,r,a,s,l,c=0;if(!e)return c;if(e.root){if(c+=e.root.length,e.frames)for(s=e.frames,t=0,o=s.length;t<o;t+=1)s[t].root&&(c+=s[t].root.length)}else if(e.diffs)for(t=0,o=e.diffs.length;t<o;t+=1)if(a=e.diffs[t],c+=a.xpath.length,a.root)c+=a.root.length;else if(a.attributes)for(n=0,i=a.attributes.length;n<i;n+=1)r=a.attributes[n],c+=r.name.length,r.value&&(c+=r.value.length);if(e.shadows)for(l=e.shadows,t=0,o=l.length;t<o;t+=1)l[t].root&&(c+=l[t].root.length);return c}(a),s>t.maxLength&&(a={errorCode:101,error:"Captured length ("+s+") exceeded limit ("+t.maxLength+")."})),a}}})),TLT.addService("encoder",(function(e){"use strict";let t={},n=null,o=null,i=!1;function r(e){t=e,n.subscribe("configupdated",o),i=!0}return o=function(){n=e.getService("config"),r(n.getServiceConfig("encoder")||{})},{init:function(){n=e.getService("config"),i||r(n.getServiceConfig("encoder")||{})},destroy:function(){n.unsubscribe("configupdated",o),i=!1},encode:function(n,o){let i;const r={data:null,encoding:null,error:null};if("string"!=typeof n&&!n||!o)return r.error="Invalid "+(n?"type":"data")+" parameter.",r;const a=function(n){let o=null;return n?(o=t[n],o&&"string"==typeof o.encode&&(o.encode=e.utils.access(o.encode)),o):o}(o);if(!a)return r.error="Specified encoder ("+o+") not found.",r;if("function"!=typeof a.encode)return r.error="Configured encoder ("+o+") 'encode' method is not a function.",r;try{i=a.encode(n)}catch(e){return r.error="Exception "+(e.name?e.name+" - ":"")+(e.message||e),r}return i&&null!==e.utils.getValue(i,"buffer",null)?(r.data=i.buffer,r.encoding=a.defaultEncoding,r):(r.error="Encoder ("+o+") returned an invalid result.",r)}}})),TLT.addService("message",(function(e){"use strict";const t=e.utils,n=e.getTabId(),o=[];let i=0,r=0;const a=e.getStartTime(),s=window.performance&&performance.timeOrigin&&performance.timeOrigin<a?Math.round(performance.timeOrigin):a,l=Date.now()-s+10,c=(new Date).getTimezoneOffset(),u=e.getService("browserBase"),d=e.getService("browser");let f=e.getService("config"),p=f.getCoreConfig(),g=f.getServiceConfig("message")||{};const h=e.normalizeUrl("",window.location.href),m=window.location.hostname;let y,w,b=Object.prototype.hasOwnProperty.call(g,"privacy")?g.privacy:[],v=Object.prototype.hasOwnProperty.call(g,"privacyPatterns")?g.privacyPatterns:[];const T={},S="x",C="X",x="9",O="@",L=parseFloat((window.devicePixelRatio||1).toFixed(2)),E=window.screen||{},k=E.width||0,I=E.height||0,P=u.getNormalizedOrientation();let D=k,M=I;const R=window.screen?window.screen.height-window.screen.availHeight:0,j=window.innerWidth||document.documentElement.clientWidth,A=window.innerHeight||document.documentElement.clientHeight;let N=!1;const F={};let V=!1;function U(){const e=Date.now()-s;let t=window.performance&&performance.now?Math.round(performance.now()):e;return e-t>l&&(t=e),t}function z(e){let t="";if(delete e.timestamp,this.type=e.type,this.offset=U(),2===e.type&&"LOAD"===e.screenview.type?(o.push(U()),this.screenviewOffset=0):o.length?(this.screenviewOffset=U()-o[o.length-1],2===e.type&&"UNLOAD"===e.screenview.type&&o.pop()):this.screenviewOffset=0,this.type)for(t in this.count=r+=1,this.fromWeb=!0,e)Object.prototype.hasOwnProperty.call(e,t)&&(this[t]=e[t])}function X(e,n,o){let i=T.PVC_MASK_BASIC;return"string"!=typeof n?n:(e?e.maskType===T.PVC_MASK_EMPTY.maskType?i=T.PVC_MASK_EMPTY:e.maskType===T.PVC_MASK_BASIC.maskType?i=T.PVC_MASK_BASIC:e.maskType===T.PVC_MASK_TYPE.maskType?i=T.PVC_MASK_TYPE:e.maskType===T.PVC_MASK_CUSTOM.maskType&&(i="string"==typeof e.maskFunction?t.access(e.maskFunction):e.maskFunction,"function"!=typeof i&&(i=T.PVC_MASK_BASIC)):i=T.PVC_MASK_BASIC,i(n,o))}function q(e,t){let n;if(e&&t)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&("value"===n?t[n]=X(e,t[n]):delete t[n])}function _(e,n){return-1!==t.matchTarget(e,n)}function W(e,t){let n,o=null;if(!(e&&e.maskAttributes&&t&&t.attributes))return o;if("function"==typeof e.maskAttributes)try{o=e.maskAttributes(t.id,t.attributes)}catch(e){}else for(n in o=t.attributes,t.attributes)Object.prototype.hasOwnProperty.call(t.attributes,n)&&(o[n]=X(e,t.attributes[n]));return o}function H(e){let n,o,i,r,a=!1;if(!e||!e.currState&&!e.prevState&&!e.attributes||!e.id)return e;const s=e.prevState,l=e.currState;for(n=0,o=b.length;n<o;n+=1)if(r=b[n],i=t.getValue(r,"exclude",!1),_(r.targets,e)!==i){s&&Object.prototype.hasOwnProperty.call(s,"value")&&q(r,s),l&&Object.prototype.hasOwnProperty.call(l,"value")&&q(r,l),s&&Object.prototype.hasOwnProperty.call(s,"innerText")&&(s.innerText=X(r,s.innerText)),l&&Object.prototype.hasOwnProperty.call(l,"innerText")&&(l.innerText=X(r,l.innerText)),r.maskAttributes&&e.attributes&&(e.attributes=W(r,e)),a=!0;break}return a||(s&&s.value&&(s.value=t.applyPrivacyPatterns(s.value,v)),l&&l.value&&(l.value=t.applyPrivacyPatterns(l.value,v))),e}function B(e){return e&&e.target?(H(e.target),e):e}function K(e,n){let o,i,r,a;if(n&&e)if(e.value?(r=X(n,e.value,e),e.setAttribute("value",r),e.value=r):n.maskType===T.PVC_MASK_CUSTOM.maskType&&X(n,"",e),e.checked&&e.removeAttribute("checked"),"select"===t.getTagName(e))for(e.selectedIndex=-1,o=0,i=e.options.length;o<i;o+=1)a=e.options[o],a.removeAttribute("selected"),a.selected=!1;else"textarea"===t.getTagName(e)&&(e.textContent=e.value)}function Y(){let n,o,i,r,a,s,l,c;for(f=e.getService("config"),g=f.getServiceConfig("message")||{},p=f.getCoreConfig(),b=g.privacy||[],v=g.privacyPatterns||[],V=t.getValue(g,"shadowDOMCacheEnabled",!0),n=0,a=b.length;n<a;n+=1)for(r=b[n],l=r.targets,o=0,c=l.length;o<c;o+=1)s=l[o],"object"==typeof s&&("string"==typeof s.idType&&(s.idType=+s.idType),"object"==typeof s.id&&(s.cRegex=new RegExp(s.id.regex,s.id.flags)));for(i=v.length,n=i-1;n>=0;n-=1)r=v[n],"object"==typeof r.pattern?r.cRegex=new RegExp(r.pattern.regex,r.pattern.flags):v.splice(n,1)}return t.isiOS?90===Math.abs(P)&&(D=I,D=k):(D=k,M=I),T.PVC_MASK_EMPTY=function(e){return""},T.PVC_MASK_BASIC=function(e){return"string"!=typeof e?"":e.length?"XXXXX":""},T.PVC_MASK_TYPE=function(e){let n,o,i="";if("string"!=typeof e)return i;const r=e.split("");for(n=0,o=r.length;n<o;n+=1)t.isNumeric(r[n])?i+=x:t.isUpperCase(r[n])?i+=C:t.isLowerCase(r[n])?i+=S:i+=O;return i},T.PVC_MASK_EMPTY.maskType=1,T.PVC_MASK_BASIC.maskType=2,T.PVC_MASK_TYPE.maskType=3,T.PVC_MASK_CUSTOM={maskType:4},{init:function(){if(!N){f.subscribe&&f.subscribe("configupdated",Y),Y(),N=!0;try{y=sessionStorage.getItem("tl.TR"),w=sessionStorage.getItem("tl.PU"),sessionStorage.removeItem("tl.TR"),sessionStorage.removeItem("tl.PU")}catch(e){y=null}}},destroy:function(){f.unsubscribe("configupdated",Y),N=!1},applyPrivacyToNode:function(e,n,o){let i,r,a,s,l,c,f,p,g,h,m,y,w,v=[];const T=[];if(!e||!o)return null;for(i=0,f=b.length;i<f;i+=1)for(p=b[i],l=t.getValue(p,"exclude",!1),l&&(c=p),y=p.targets,r=0,w=y.length;r<w;r+=1)if(m=y[r],"string"==typeof m)if(e.id&&/srph-\d{13}/.test(e.id)||!d.matches(m,e)||(l?v.push(e):K(e,p)),g=d.queryAll(m,e),l)v=v.concat(g);else for(a=0,h=g.length;a<h;a+=1)s=g[a],K(s,p);else if("string"==typeof m.id)switch(m.idType){case-1:case-3:s=u.getNodeFromID(m.id,m.idType,e),l?v.push(s):K(s,p);break;case-2:T.push({ruleIndex:i,targetIndex:r,exclude:l})}else T.push({ruleIndex:i,targetIndex:r,exclude:l});return function(e,n,o,i,r,a){let s,l,c,f,p,g,h,m,y,w,v=[];if(!e.length&&!r.length&&!a)return[];const T=d.queryAll("input, select, textarea",n);if(!T||!T.length)return[];for(s=0,f=r.length;s<f;s+=1)l=T.indexOf(r[s]),-1!==l&&T.splice(l,1);if(e.length)for(s=0,f=T.length,v=[];s<f;s+=1)T[s].value&&(g=u.ElementData.prototype.examineID(T[s],!0),-2===g.idType&&(h=new u.Xpath(T[s],!0),h.applyPrefix(o),g.id=h.xpath),v.push({id:g.id,idType:g.idType,element:T[s]}));for(s=0,f=e.length;s<f;s+=1)if(y=b[e[s].ruleIndex],m=t.getValue(y,"exclude",!1),w=y.targets[e[s].targetIndex],"string"==typeof w.id&&-2===w.idType)for(l=0;l<v.length;l+=1)v[l].idType===w.idType&&v[l].id===w.id&&(m?(c=T.indexOf(p),T.splice(c,1)):(p=v[l].element,K(p,y)));else for(l=0;l<v.length;l+=1)w.cRegex.lastIndex=0,v[l].idType===w.idType&&w.cRegex.test(v[l].id)&&(p=v[l].element,m?(c=T.indexOf(p),T.splice(c,1)):K(p,y));if(a)for(s=0,f=T.length;s<f;s+=1)K(T[s],a)}(T,e,n,0,v,c),e},applyPrivacyToMessage:B,applyPrivacyToTarget:H,applyPrivacyPatterns:function(e){return t.applyPrivacyPatterns(e,v)},isPrivacyMatched:function(e){let t,n,o,i=!1;if(!e)return i;for(t=0,n=b.length;t<n;t+=1)if(o=b[t],_(o.targets,e)){i=!0;break}return i},createMessage:function(e){if(void 0===e.type)throw new TypeError("Invalid queueEvent given!");return 12===e.type&&V&&function(e){const t=e.dcid,n=e.shadows||[],o=e.fullDOM;let i,r,a,s,l;if(0!==n.length&&o){for(a in F)Object.prototype.hasOwnProperty.call(F,a)&&(F[a].age+=1);for(i=0,r=n.length;i<r;i+=1)s=n[i],l=F[s.xpath],l&&l.root===s.root?(l.hitCount+=1,l.age-=1,s.cacheDCID=l.dcid,delete s.root):F[s.xpath]={root:s.root,dcid:t,hitCount:0,age:0};for(a in F)Object.prototype.hasOwnProperty.call(F,a)&&(l=F[a],l.age>l.hitCount+1&&delete F[a])}}(e.domCapture),B(new z(e))},wrapMessages:function(o){i+=1;const r={messageVersion:"13.0.0",serialNumber:i,sessions:[{id:e.getPageId(),tabId:n,startTime:s,timezoneOffset:c,messages:o,clientEnvironment:{webEnvironment:{libVersion:"6.4.157",buildNote:p.buildNote||"",domain:m,page:h,referrer:document.referrer,mouseMovement:e.isMousemovementDetected(),screen:{devicePixelRatio:L,deviceWidth:D,deviceHeight:M,deviceToolbarHeight:R,width:j,height:A,orientation:P}}}}]},a=r.sessions[0].clientEnvironment.webEnvironment;return a.screen.orientationMode=t.getOrientationMode(a.screen.orientation),y&&(a.priorPage={page:w,terminationReason:y}),r},getCurrentOffset:U}})),TLT.addService("serializer",(function(e){"use strict";let t=e.getService("config"),n={},o={},i=null,r=!1;const a={json:void 0!==window.JSON?{serialize:window.JSON.stringify,parse:window.JSON.parse}:{}};function s(t,n,o){let i,r,a;for(i=0,r=(t=t||[]).length;i<r;i+=1)if(a=t[i],"string"==typeof a&&(a=e.utils.access(a)),"function"==typeof a){n[o]=a;break}}function l(l){let c;for(c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s(l[c].stringifiers,n,c),s(l[c].parsers,o,c));n.json=n.json||a.json.serialize,o.json=o.json||a.json.parse,"function"==typeof n.json&&"function"==typeof o.json||e.fail("JSON parser and/or serializer not provided in the UIC config. Can't continue."),function(){let e;return"function"!=typeof n.json||"function"!=typeof o.json?e=!0:(e=void 0===o.json('{"foo": "bar"}')||"bar"!==o.json('{"foo": "bar"}').foo,void 0===o.json("[1, 2]")?e=!0:(e=e||1!==o.json("[1, 2]")[0],e=e||2!==o.json("[1,2]")[1]),e=e||'{"foo":"bar"}'!==n.json({foo:"bar"}),e=e||"[1,2]"!==n.json([1,2])),e}()&&e.fail("JSON stringification and parsing are not working as expected"),t&&t.subscribe("configupdated",i),r=!0}return i=function(){t=e.getService("config"),l(t.getServiceConfig("serializer"))},{init:function(){let e;r||(e=t?t.getServiceConfig("serializer"):{},l(e))},destroy:function(){n={},o={},t&&t.unsubscribe("configupdated",i),r=!1},parse:function(e,t){return o[t=t||"json"](e)},serialize:function(e,t){return n[t=t||"json"](e)}}})),TLT.addModule("TLCookie",(function(e){"use strict";let t,n,o,i,r={},a=[],s=0,l=!0,c=!1,u=!1,d=null,f="CoreID6",p="WCXSID",g="TLTSID";const h="TLTDID",m=e.utils;function y(){const e="123456789";return m.getRandomString(1,e)+m.getRandomString(31,e+"0")}function w(){if(!d&&window.cmRetrieveUserID)try{window.cmRetrieveUserID((function(e){d=e}))}catch(e){d=null}}function b(e){let t,n,o;if(!e)return;let i=null;try{i=localStorage.getItem(e)}catch{}if(null===i&&u){const t=window.altStorage.getData(e);t&&(i=t.replaceAll('"',""))}if(i)if(n=i.split("|"),t=parseInt(n[0],10),Date.now()>t){try{localStorage.removeItem(e)}catch{}u&&window.altStorage.removeItem(e)}else o=n[1];return o}function v(e,t){if(!e)return;const n=Date.now()+s;t=t||y();try{localStorage.setItem(e,n+"|"+t)}catch{}return u&&window.altStorage.saveData(e,n+"|"+t),b(e)}function T(){return a}function S(d){if(a=[],l=m.getValue(d,"sessionIDUsesCookie",!0),c=m.getValue(d,"sessionIDUsesStorage",!1),u=m.getValue(d,"sessionIDUsesFallbackStorage",!1),d.tlAppKey&&(o=d.tlAppKey,a.push({name:"X-Tealeaf-SaaS-AppKey",value:o})),d.visitorCookieName&&(f=d.visitorCookieName),d.wcxCookieName&&(p=d.wcxCookieName),t=m.getCookieValue(p),t&&a.push({name:"X-WCXSID",value:t}),d.sessionizationCookieName&&(g=d.sessionizationCookieName),c){s=m.getValue(d,"sessionIDStorageTTL",6e5);try{n=b(g)}catch(e){c=!1}}if(!n&&l&&(n=m.getCookieValue(g)),!n)if(t)g=p,n=t;else{if(c)try{n=v(g)}catch(e){c=!1}!n&&l&&(n=function(){const e=y(),t=!!r.secureTLTSID,n=r.samesite;return m.setCookie(g,e,void 0,void 0,void 0,t,n),m.getCookieValue(g)}())}e.setSessionCookieInfo(g,n);const w=void 0!==d&&void 0!==d.disableTLTDID&&d.disableTLTDID;!1===w&&(i=m.getCookieValue(h),i&&void 0!==i||(i=y()),m.setCookie(h,i,31536e3,void 0,void 0,false,"Lax")),n||(n="Check7UIC7Cookie7Configuration77"),a.push({name:"X-Tealeaf-SaaS-TLTSID",value:n}),!1===w&&a.push({name:"X-Tealeaf-TLTDID",value:i}),a.length&&TLT.registerBridgeCallbacks([{enabled:!0,cbType:"addRequestHeaders",cbFunction:T}])}function C(e){let t,n,o,i=!1;const a=r.appCookieWhitelist;if(!a||!a.length)return i;for(t=0,n=a.length;t<n&&!i;t+=1)o=a[t],o.regex?(o.cRegex||(o.cRegex=new RegExp(o.regex,o.flags)),o.cRegex.lastIndex=0,i=o.cRegex.test(e)):i=o===e;return i}return{init:function(){r=e.getConfig()||{},S(r),w()},destroy:function(){c&&v(g,n),window.setTimeout((function(){TLT.registerBridgeCallbacks([{enabled:!1,cbType:"addRequestHeaders",cbFunction:T}])}))},onevent:function(t){if("screenview_load"===t.type)m.getValue(r,"appCookieWhitelist.length",0)&&(w(),function(){let t,n,o,i,r=[],a="",s="";const l=document.cookie,c={};if(l){for(r=l.split("; "),t=0,o=r.length;t<o;t+=1){if(i=r[t],n=i.indexOf("="),n>=0)try{a=decodeURIComponent(i.substring(0,n))}catch(e){a=i.substring(0,n)}if(s=i.substring(n+1),C(a))try{c[a]=decodeURIComponent(s)}catch(e){c[a]=s}}d&&!c[f]&&(c[f]=d),e.post({type:14,cookies:c})}}())}}})),TLT&&"function"==typeof TLT.addModule&&TLT.addModule("dataLayer",(function(e){"use strict";let t,n,o=!1,i=!0,r="",a=[],s=0,l=0;const c=e.utils,u=new Set;function d(e,t){let n,o,i,r=-1;if(!e||!t)return r;for(n=0,o=t.length;n<o&&-1===r;n+=1)switch(i=t[n],typeof i){case"string":e===i&&(r=n);break;case"object":i.cRegex||(i.cRegex=new RegExp(i.regex,i.flags)),i.cRegex.lastIndex=0,i.cRegex.test(e)&&(r=n)}return r}function f(e,t,n,o){let r,a;const s={},l=n&&n.propertyBlocklist?n.propertyBlocklist:[],u=n&&n.rootProperties?n.rootProperties:{};if(!e)return null;if(t){if((t+=1)>5&&!o||t>10)return"Serialization error: Exceeds nesting limit (5) or (10) for a permitted property."}else t=1;for(r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&!(d(r,l)>=0)){if(1===t&&(o="",r in u&&(o=r)),!i&&!o||t>5&&o&&r!==u[o][t-1]&&n.rootProperties[o][t-1])continue;switch(a=e[r],typeof a){case"object":if(a instanceof Node)a.nodeName?(s[r]=a.nodeName.toLowerCase(),a.id&&(s[r]+="#"+a.id)):s[r]="DOMNode: unknown";else if(a instanceof Window)s[r]="DOMWindow: "+a.location.href;else try{s[r]=f(a,t,n,o)}catch(e){s[r]="Serialization error: "+e.message}break;case"function":case"undefined":break;default:n&&n.privacyPatterns&&(a=c.applyPrivacyPatterns(a,n.privacyPatterns)),s[r]=a}}return s}function p(e){let t=null;if(!e)return t;switch(typeof e){case"string":t=c.access(e);break;case"object":t=e;break;case"function":try{t=e()}catch(e){}}return t}function g(){let e,t;if(o)for(t=0;t<a.length;t+=1)if(e=a[t].rules?a[t].rules.screenviewBlocklist:[],!(d(r,e)>=0)){let e=p(a[t].dataObject);if(!e)return;const n=a[t].rules;if(n&&(i=void 0===n.includeEverything||n.includeEverything,n.privacyPatterns))for(let e=n.privacyPatterns.length-1;e>=0;e-=1){const t=n.privacyPatterns[e];"object"==typeof t.pattern?t.cRegex=new RegExp(t.pattern.regex,t.pattern.flags):n.privacyPatterns.splice(e,1)}e instanceof Array?(e=e.filter((e=>{if(n&&n.filter)for(const t of n.filter){let n,o;const i=t.matchProperty,r=t.matchValue;let a=!1;return"[object Arguments]"===Object.prototype.toString.call(e)?(n=e[0],o=e[1],a=!0):(n=e[t.matchProperty],o=t.matchValue),h(e,n,o,i,r,a)}return!0})).map((e=>f(e,0,n))),e.forEach((function(e){m(e)}))):m(f(e,0,n)),i=!0}}function h(e,t,n,o,i,r){if(r){if("string"==typeof t&&"string"==typeof o&&"string"==typeof n&&"string"==typeof i&&t===o&&n===i)return!0;if("string"==typeof t&&"string"==typeof o&&"object"==typeof n&&(null===i||""===i||void 0===i)&&t===o)return!0;if("string"==typeof t&&"string"==typeof o&&"string"==typeof n&&"object"==typeof i&&"object"==typeof i){return new RegExp(i).test(n)}if("string"==typeof t&&"object"==typeof o&&"string"==typeof t&&(null===i||""===i||void 0===i)){return new RegExp(o).test(t)}}else{if("string"==typeof t&&"string"==typeof n&&t===n)return!0;if(!("string"!=typeof t||"string"!=typeof o||"object"!=typeof e||null!==n&&""!==n&&void 0!==n||null!==i&&""!==i&&void 0!==i)&&Object.prototype.hasOwnProperty.call(e,o))return!0;if("string"==typeof t&&"string"==typeof o&&"object"==typeof e&&"object"==typeof i){return new RegExp(i).test(e[o])}if("object"==typeof o&&"object"==typeof e&&(null===i||""===i||void 0===i)){const t=Object.keys(e);for(const e of t){if(new RegExp(o).test(e))return!0}}}return!1}function m(t){if(!t)return;let n;try{n=JSON.stringify(t)}catch(e){n=Object.keys(t).map((e=>`${e}=${t[e]}`)).join("_")}if(u.has(n))return;n&&u.add(n);const o={type:19,dataLayer:t};e.post(o)}function y(e,t){return setTimeout((function(){l>=t.length-1?g():(l=t.length,y(e,t))}),e)}function w(e){let t;if(e&&e.dataObject&&"string"==typeof e.dataObject){t=e.dataObject.replace(/\window\./,"");const n=window[t];if(n)b(n,"window['"+e+"']",t);else{if(s+=300,s>5e4)return;setTimeout((function(){w(e)}),300)}}else{if(!e||!Array.isArray(e.dataObject)&&"object"!=typeof e.dataObject)return;b(e,"trackObj as object",t)}}function b(e,t,o){if(e)if(Array.isArray(e)){const t={get:(t,o,i)=>("push"==o&&(l=e.length-1,n&&clearTimeout(n),n=setTimeout((function(){y(25,e)}),300)),Reflect.get(t,o,i)),set:(e,t,n,o)=>(Reflect.set(e,t,n,o),!0)};window&&window[o]?window[o]=new Proxy(window[o],t):e=new Proxy(e,t)}else if("object"==typeof e&&!Array.isArray(e)&&null!==e){new Proxy(e,{set:function(e,t,n){return g(),!0}})&&g()}}return{init:function(){if(t=e.getConfig(),o=!0,a=[],t.dataObjects){a=t.dataObjects;for(const e of a)if(e.rules&&e.rules.permittedProperties){const t=e.rules.permittedProperties;e.rules.rootProperties={};for(let n=0;n<t.length;n+=1)"string"==typeof t[n]&&(t[n]=t[n].split("."),e.rules.rootProperties[t[n][0]]=t[n])}}},destroy:function(){t=null,o=!1},onevent:function(e){if(e&&"object"==typeof e&&e.type)switch(e.type){case"load":r="";break;case"screenview_load":r=e.name,a&&a.forEach((function(e){w(e)}));break;case"click":case"pointerdown":case"pagehide":break;case"logDataLayer":e.data&&"object"!=typeof e.data||g()}},onmessage:function(e){}}})),TLT&&"function"==typeof TLT.addModule&&TLT.addModule("overstat",(function(e){"use strict";const t=e.utils,n={},o={updateInterval:250,hoverThreshold:1e3,hoverThresholdMax:12e4,gridCellMaxX:10,gridCellMaxY:10,gridCellMinWidth:20,gridCellMinHeight:20},i=50;function r(t){const n=(e.getConfig()||{})[t];return"number"==typeof n?n:o[t]}function a(e){return e&&!e.nodeType&&e.element&&(e=e.element),e}function s(e){return!(e=a(e))||e===document.body||e===document.html||e===document}function l(e){return(e=a(e))?e.parentNode:null}function c(e){return(e=a(e))?e.offsetParent||e.parentElement||l(e):null}function u(e){const t=function(e){return(e=a(e))&&e.tagName?e.tagName.toUpperCase():""}(e);return 1!==function(e){return(e=a(e))&&e.nodeType||-1}(e)||"TR"===t||"TBODY"===t||"THEAD"===t}function d(o,s,l,c){var u;this.xPath=null!==o?(u=o)?u.xPath?u.xPath:(u=a(u),e.getXPathFromNode(u)):"":"",this.domNode=o,this.hoverDuration=0,this.hoverUpdateTime=0,this.gridX=Math.max(s,0),this.gridY=Math.max(l,0),this.parentKey="",this.updateTimer=-1,this.disposed=!1,this.childKeys={},this.webEvent=c,this.getKey=function(){return this.xPath+":"+this.gridX+","+this.gridY},this.update=function(){const e=(new Date).getTime(),t=this.getKey();0!==this.hoverUpdateTime&&(this.hoverDuration+=e-this.hoverUpdateTime),this.hoverUpdateTime=e,clearTimeout(this.updateTimer),this.updateTimer=setTimeout((function(){!function(e,t){const o=n[e];if(o&&o[t])o[t]()}(t,"update")}),r("updateInterval"))},this.dispose=function(e){if(clearTimeout(this.updateTimer),delete n[this.getKey()],this.disposed=!0,e){const e=this.clone();n[e.getKey()]=e,e.update()}},this.process=function(o){if(clearTimeout(this.updateTimer),this.disposed)return!1;let a=!1,s=this,l=0;if(this.hoverDuration>=r("hoverThreshold")){for(this.hoverDuration=Math.min(this.hoverDuration,r("hoverThresholdMax")),a=!0,function(n,o){const i=t.getValue(n,"webEvent.target",{}),r=t.getValue(i,"element.tagName")||"",a="input"===r.toLowerCase()?t.getValue(i,"element.type"):"",s=t.getTlType(i),l={type:9,event:{hoverDuration:n.hoverDuration,hoverToClick:t.getValue(o,"hoverToClick")},target:{id:i.id||"",idType:i.idType||"",name:i.name||"",tlType:s,type:r,subType:a,position:{width:t.getValue(i,"element.offsetWidth",0),height:t.getValue(i,"element.offsetHeight",0),relXY:n.relXY}}};l.target.id&&(i.accessibility&&(l.target.accessibility=i.accessibility),i.attributes&&(l.target.attributes=i.attributes),e.post(l))}(this,{hoverToClick:!!o});void 0!==s&&l++<i;)s.dispose(o),s=n[s.parentKey];l>=i&&t.clog("Overstat process() hit iterations limit")}else this.dispose(o);return a},this.clone=function(){const e=new d(this.domNode,this.gridX,this.gridY);return e.parentKey=this.parentKey,e}}function f(e,n,o){const r=function(e){if(e&&e.position)return{x:e.position.x,y:e.position.y};const n=(e=a(e))&&e.getBoundingClientRect?e.getBoundingClientRect():null;let o=0,r=0,l=o,u=r,d=0,f=0,p=c(e),g=0;for(n?(o=n.left,r=n.top):e&&(o=e.offsetLeft,r=e.offsetHeight);p&&g++<i&&!s(p);)d=p.offsetLeft-(p.scrollLeft||0),f=p.offsetTop-(p.scrollTop||0),d===l&&f===u||(o+=d,r+=f,l=d,u=f),p=c(p);return g>=i&&t.clog("Overstat calculateNodeOffset() hit iterations limit"),isNaN(o)&&(o=0),isNaN(r)&&(r=0),{x:o,y:r}}(e=a(e));let l=n-r.x,u=o-r.y;return isFinite(l)||(l=0),isFinite(u)||(u=0),{x:l,y:u}}function p(e,t,n){const o=(e=a(e)).getBoundingClientRect?e.getBoundingClientRect():null,i=o?o.width:e.offsetWidth,s=o?o.height:e.offsetHeight,l=i&&i>0?Math.max(i/r("gridCellMaxX"),r("gridCellMinWidth")):r("gridCellMinWidth"),c=s&&s>0?Math.max(s/r("gridCellMaxY"),r("gridCellMinHeight")):r("gridCellMinHeight");let u=Math.min(Math.floor(t/l),r("gridCellMaxX")),d=Math.min(Math.floor(n/c),r("gridCellMaxY"));const f=i>0?t/i:0,p=s>0?n/s:0;let g="";var h,m;return isFinite(u)||(u=0),isFinite(d)||(d=0),h=f,m=p,g=(h=Math.floor(1e4*Math.min(Math.max(h,0),1))/1e4)+","+Math.floor(1e4*Math.min(Math.max(m,0),1))/1e4,{x:u,y:d,relXY:g}}function g(e){let o=e;let r=null,a=!1,s=0;const l={};for(l[e.getKey()]=!0;void 0!==o&&s++<i&&(l[o.parentKey]=!0,""!==o.parentKey&&o.parentKey!==o.getKey());)s>=i&&t.clog("Overstat cleanupHoverEvents() hit iterations limit"),o=n[o.parentKey];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&!l[r]&&(o=n[r],o&&(a?o.dispose():a=o.process()))}function h(e,o,i){if(o||(o=e.target),s(o))return null;if(t.isiOS||t.isAndroid)return null;let r,a,l,m,y,w,b;return u(o)?l=h(e,c(o),i):(r=f(o,e.position.x,e.position.y),a=p(o,r.x,r.y),l=new d(o,a.x,a.y,e),l.relXY=a.relXY,m=l.getKey(),n[m]?l=n[m]:n[m]=l,l.update(),i||(b=c(o),b&&(w=h(e,b,!0),null!==w&&(y=w.getKey(),m=l.getKey(),m!==y&&(l.parentKey=y))),g(l))),l}function m(e){(function(e,n){let o=0;if(!n||n===e)return!1;for(n=l(n);!s(n)&&o++<i;){if(n===e)return!0;n=l(n)}return o>=i&&t.clog("Overstat isChildOf() hit iterations limit"),!1})((e=function(e){return e.nativeEvent&&(e=e.nativeEvent),e}(e)).target,e.relatedTarget)||function(e,t){let o=null,i=null,r=!1;for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o=n[i],o&&o.domNode===e&&o.getKey()!==t&&(r?o.dispose():r=o.process()))}(e.target)}function y(o){if(t.getValue(o,"target.id"))switch(o.type){case"mousemove":h(o);break;case"mouseout":m(o);break;case"click":!function(){let e=null,t=null,o=!1;for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e=n[t],e&&(o?e.dispose():o=e.process(!0)))}();break;case"submit":e.performFormCompletion(!0)}}return{init:function(){},destroy:function(){let e;for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&(n[e].dispose(),delete n[e])},onevent:function(e){"object"==typeof e&&e.type&&y(e)},onmessage:function(e){},createHoverEvent:function(e,t,n,o){return new d(e,t,n,o)},cleanupHoverEvents:g,eventMap:n}})),TLT&&"function"==typeof TLT.addModule&&TLT.addModule("performance",(function(e){"use strict";const t={loadReceived:!1,unloadReceived:!1,perfEventSent:!1};let n,o=null,i=null,r={},a=0;const s=e.utils,l="https:"===window.location.protocol;let c,u,d=[],f=0;const p={enabled:!1,resourceTypes:[],blacklist:[]};function g(i,r){let l,c,u;const d={type:7,performance:{}};let f,p;if(!i||t.perfEventSent)return;const g=i.performance||{},h=g.timing,m=g.navigation;if(h){if(!h.loadEventStart&&!r)return;d.performance.timing=function(e){let t=0,n="",o=0;const i={};if(!e||"object"!=typeof e||!e.navigationStart)return{};for(n in t=e.navigationStart,e)(Object.prototype.hasOwnProperty.call(e,n)||"number"==typeof e[n])&&(o=e[n],i[n]="number"==typeof o&&o&&"navigationStart"!==n?o-t:o);return i}(h),d.performance.timing.renderTime=function(e){let t,n,o=0;return e&&(t=e.responseEnd>0&&e.responseEnd<e.domLoading?e.responseEnd:e.domLoading,n=e.loadEventStart,s.isNumeric(t)&&s.isNumeric(n)&&n>t&&(o=n-t)),o}(h)}else{if(!n.calculateRenderTime)return;d.performance.timing={renderTime:a,calculated:!0}}const y=d.performance.timing;if(n.renderTimeThreshold&&y.renderTime>n.renderTimeThreshold&&(y.invalidRenderTime=y.renderTime,delete y.renderTime),g.getEntriesByType)for(f=g.getEntriesByType("paint"),l=0,c=f.length;l<c;l+=1)p=f[l],p.startTime>0&&(y[p.name]=Math.round(p.startTime));if(!y["first-paint"]&&y.msFirstPaint&&(y["first-paint"]=y.msFirstPaint,delete y.msFirstPaint),m){switch(m.type){case 0:u="NAVIGATE";break;case 1:u="RELOAD";break;case 2:u="BACKFORWARD";break;default:u="UNKNOWN"}d.performance.navigation={type:u,redirectCount:m.redirectCount}}e.post(d),t.perfEventSent=!0,o&&(clearInterval(o),o=null)}function h(t){let n;const o=u.blacklist;let i,r,a;if(!t||!t.name)return;const s=t.name,c=t.initiatorType;if(l&&0===s.indexOf("http:")&&d.push(s),!(Object.prototype.hasOwnProperty.call(u,"maxAlerts")&&f>=u.maxAlerts||Object.prototype.hasOwnProperty.call(u,"threshold")&&t.duration<u.threshold||t.transferSize&&t.transferSize<t.encodedBodySize||t.responseStart===t.responseEnd||u.resourceTypes.length>0&&-1===u.resourceTypes.indexOf(c))){for(r=!1,n=0;n<o.length;n+=1)switch(i=o[n],typeof i){case"object":i.cRegex||(i.cRegex=new RegExp(i.regex,i.flags)),i.cRegex.lastIndex=0,i.cRegex.test(s)&&(r=!0);break;case"string":-1!==s.indexOf(i)&&(r=!0)}r||(f+=1,a={urlNormalized:e.normalizeUrl(s,17),url:s,initiator:c,duration:Math.round(t.duration),responseEnd:Math.round(t.responseEnd)},void 0!==t.transferSize&&(a.transferSize=t.transferSize,t.duration&&(a.bps=Math.round(t.transferSize/t.duration*1e3))),e.post({type:17,resourceData:a}))}}function m(){r={},i&&(clearTimeout(i),i=null)}function y(){const t={type:20,pageExperience:s.clone(r)};(r.fid||r.lcp||r.cls)&&(t.pageExperience.https="https:"===window.location.protocol,e.post(t),m())}function w(e){if(e&&e.name){switch(e.name){case"FID":r.fid=Math.round(e.value);break;case"LCP":r.lcp=Math.round(e.value);break;case"CLS":r.cls=Number(e.value.toFixed(2))}void 0!==r.fid&&void 0!==r.lcp&&void 0!==r.cls&&y()}}return{init:function(){n=e.getConfig(),u=s.mixin({},p,n.performanceAlert),function(){if(!n||!s.getValue(n,"pageExperience.enabled",!0))return;n.pageExperience=n.pageExperience||{};const e=n.pageExperience;!e.api&&window.webVitals&&(e.api={getCLS:webVitals.getCLS,getLCP:webVitals.getLCP,getFID:webVitals.getFID}),e.api?e.enabled=!0:e.enabled=!1}()},destroy:function(){y(),o&&(clearInterval(o),o=null,g(window,!0)),c&&c.disconnect(),l&&(!function(t){const n={type:20,violations:{}},o=n.violations;t&&t.length&&(o.total=t.length,t.splice(10),o.urls=t,e.post(n))}(d),d=[]),n=null},onevent:function(r){if("object"==typeof r&&r.type)switch(r.type){case"load":t.loadReceived=!0,function(t){const n=e.getStartTime();t.timestamp>n&&!a&&(a=t.timestamp-n)}(r),t.perfEventSent||o||(o=setInterval((function(){e.isInitialized()&&g(window)}),s.getValue(n,"delay",2e3))),function(){if(!u.enabled||"function"!=typeof window.PerformanceObserver)return;c=new window.PerformanceObserver((function(e,t){s.forEach(e.getEntries(),h)}));const e=window.performance.getEntriesByType("resource");setTimeout((function(){s.forEach(e,h)})),c.observe({entryTypes:["resource"]})}();break;case"screenview_load":!function(){if(!n||!n.pageExperience||!n.pageExperience.enabled)return;m();const e=n.pageExperience.api;e.getCLS(w),e.getLCP(w),e.getFID(w),i=setTimeout(y,3e5)}(),t.perfEventSent||g(window);break;case"screenview_unload":default:break;case"pagehide":t.unloadReceived=!0,y(),t.perfEventSent||g(window)}},onmessage:function(e){}}})),TLT.addModule("replay",(function(e){"use strict";const t=e.utils;let n=0;const o={};let i=null,r=[],a=!0,s=null,l=null,c=0,u=null;const d=(new Date).getTime();let f=null;const p="root";let g,h=null,m=null,y=null,w=null,b={inFocus:!1},v=null,T=e.getConfig()||{};const S=t.getValue(T,"viewPortWidthHeightLimit",1e4);let C=1,x=1;const O={},L=t.getValue(T,"mousemove")||{},E=t.getValue(T,"tab",!1),k=L.sampleRate,I=L.ignoreRadius;let P=null,D={},M=0;let R=0,j=[],A="visible"===document.visibilityState;const N=[],F=[],V=[];function U(e){let t=!1,n=null;if("object"!=typeof e||!e.type)return t;switch(e.type.toLowerCase()){case"input":n="|"+(e.subType||"")+"|",t=-1!=="|button|image|submit|reset|".indexOf(n.toLowerCase());break;case"select":case"textarea":break;default:t=!0}return t}function z(e){let t=e.type;const n=e.target;if(t="string"==typeof t?t.toLowerCase():"unknown","blur"===t&&(t="focusout"),"change"===t)if("INPUT"===n.type)switch(n.subType){case"text":case"date":case"time":t=n.subType+"Change";break;default:t="valueChange"}else t="TEXTAREA"===n.type?"textChange":"valueChange";return t}function X(e,t,n){let o,i,r;if(document.querySelector(e))return!0;for(o=0;o<t.length;o++)if(r=t[o],r.querySelector(e))return!0;for(o=0;o<n.length;o++)if(i=n[o],i.querySelector(e))return!0;return!1}function q(n,o,i){let r,a,s,l,c,u,d,f,p;for(r=0;r<N.length;r++)d=N[r],a=d.delayUntil.selector,s=t.getValue(d.delayUntil,"exists",!0),l=d.delayUntil.dualSnapshot||!1,c=X(a,o,i),u=d.lastStatus||!1,f=d.config||{},p=d.timerId,(!0===s&&!0===c&&!1===u||!1===s&&!1===c&&!0===u||!0===l&&!0===c&&!1===u||!0===l&&!1===c&&!0===u)&&(e.performDOMCapture(document,f),l&&!1!==c||(N.splice(r--,1),0===N.length&&TLT.registerMutationCallback(q,!1),p&&clearTimeout(p))),d.lastStatus=c}function _(n,o,i){let r,s=null;return n?((o=o||{}).eventOn=a,a=!1,i?(s="dcid-"+t.getSerialNumber()+"."+(new Date).getTime()+"s","object"==typeof i?(o.dcid=s,r={config:o,delayUntil:i,lastStatus:!1},N.push(r),TLT.registerMutationCallback(q,!0),i&&void 0!==i.timeout&&i.timeout>=0&&(r.timerId=window.setTimeout((function(){!function(t){let n,o,i;for(n=0;n<N.length;n+=1)o=N[n],i=o.config||{},i.dcid===t&&(i.timeoutExpired=!0,e.performDOMCapture(document,i),N.splice(n--,1),0===N.length&&TLT.registerMutationCallback(q,!1))}(s)}),i.timeout))):window.setTimeout((function(){o.dcid=s,e.performDOMCapture(n,o)}),i)):(delete o.dcid,s=e.performDOMCapture(n,o)),s):s}function W(n,o,i){let r,a,s=!1;const l={};let c,u,d,f,g,h=!1,m=null,y=0;if(!n||!o&&!i)return m;if(!o&&"load"!==n&&"pagehide"!==n)return m;if(T=e.getConfig()||{},h=t.getValue(T,"domCapture.enabled",!1),!h||t.isLegacyIE)return m;if(function(t,n){let o,i,r,a;for(o=0,i=t.length;o<i;o+=1)switch(r=t[o],a=n&&0===n.indexOf("#")?location.pathname+n:void 0===n||n===p?location.pathname+location.hash:n,a=e.normalizeUrl(a,2),typeof r){case"object":if(r.cRegex||(r.cRegex=new RegExp(r.regex,r.flags)),r.cRegex.lastIndex=0,r.cRegex.test(a))return!0;break;case"string":if(r===a)return!0}return!1}(t.getValue(T,"domCapture.screenviewBlacklist",[]),i))return m;const w=t.getValue(T,"domCapture.triggers")||[];for(r=0,u=w.length;!s&&r<u;r+=1){if(c=w[r],c.event===n)if("load"===n||"pagehide"===n)if(c.screenviews)for(f=c.screenviews,a=0,g=f.length;!s&&a<g;a+=1)switch(d=f[a],typeof d){case"object":d.cRegex||(d.cRegex=new RegExp(d.regex,d.flags)),d.cRegex.lastIndex=0,s=d.cRegex.test(i);break;case"string":s=d===i}else s=!0;else s=!c.targets||-1!==t.matchTarget(c.targets,o);"change"===c.event&&c.delayUntil&&(j=j.concat(c.targets))}return s&&(y=c.delay||c.delayUntil||("load"===c.event?7:0),l.forceFullDOM=!!c.fullDOMCapture,m=_(window.document,l,y),m&&function(){let t=!1;if(!L.enabled||Object.prototype.hasOwnProperty.call(window,"ontouchstart"))return;if(0===F.length)return;M>=1e3&&(t=!0);const n={type:18,mousemove:{elements:V.slice(0),data:F.slice(0),config:{ignoreRadius:L.ignoreRadius,sampleRate:L.sampleRate},limitReached:t,maxInactivity:R}};e.post(n),V.length=0,F.length=0,D={},R=0}()),m}function H(e){let n=null;const o=t.getValue(e,"webEvent.target",{}),i=o.type,r=o.subType||"",a=t.getTlType(o),s=function(e){const t=[];for(e=e.parentNode;e;)t.push(e),e=e.parentNode;return t}(t.getValue(o,"element")),l=t.getValue(e,"webEvent.subType",null),c={timestamp:t.getValue(e,"webEvent.timestamp",0),type:4,target:{id:o.id||"",idType:o.idType,name:o.name,tlType:a,type:i,position:{width:t.getValue(o,"size.width"),height:t.getValue(o,"size.height")},currState:e.currState||null},event:{tlEvent:z(t.getValue(e,"webEvent")),type:t.getValue(e,"webEvent.type","UNKNOWN")}};return o.accessibility&&(c.target.accessibility=o.accessibility),o.attributes&&(c.target.attributes=o.attributes),r&&(c.target.subType=r),"number"==typeof e.dwell&&e.dwell>0&&(c.target.dwell=e.dwell),"number"==typeof e.visitedCount&&(c.target.visitedCount=e.visitedCount),void 0!==e.prevState&&(c.prevState=e.prevState),l&&(c.event.subType=l),n=function(e){return t.some(e,(function(e){const n=t.getTagName(e);return"a"===n||"button"===n?e:null}))}(s),c.target.isParentLink=!!n,n&&(n.href&&(c.target.currState=c.target.currState||{},c.target.currState.href=c.target.currState.href||n.href),n.value&&(c.target.currState=c.target.currState||{},c.target.currState.value=c.target.currState.value||n.value),(n.innerText||n.textContent)&&(c.target.currState=c.target.currState||{},c.target.currState.innerText=t.trim(c.target.currState.innerText||n.innerText||n.textContent))),t.isUndefOrNull(c.target.currState)&&delete c.target.currState,t.isUndefOrNull(c.target.name)&&delete c.target.name,c}function B(t){e.post(t)}function K(t){let n,o,i,r,a;const s={mouseout:!0,mouseover:!0},l=[],c=t.length;for(n=0;n<c;n+=1)if(i=t[n],i)if(s[i.event.type])l.push(i);else{for(o=n+1;o<c&&t[o]&&s[t[o].event.type];o+=1);o<c&&(r=t[o],r&&i.target.id===r.target.id&&i.event.type!==r.event.type&&("click"===i.event.type&&(a=i,i=r,r=a),"click"===r.event.type?(i.target.position=r.target.position,n+=1):"blur"===r.event.type&&(i.target.dwell=r.target.dwell,i.target.visitedCount=r.target.visitedCount,i.focusInOffset=r.focusInOffset,i.target.position=r.target.position,n+=1),t[o]=null,t[n]=i)),l.push(t[n])}for(i=l.shift();i;i=l.shift())e.post(i);t.splice(0,t.length)}function Y(e,n){r.push(H({webEvent:e,id:n,currState:t.getValue(e,"target.state")}))}function Q(e,n,i){let a,s,l=!1;if(!e)return;if(0===r.length)return;if(!(n=n||(o[e]?o[e].webEvent:{})))return;s="blur"===n.type||"change"===n.type?t.getValue(n,"target.state",{}):n.target&&t.getTargetState(n.target.element)||{},s&&s.disabled&&(i=!0);const c=r[r.length-1];o[e]?(c.focusInOffset=o[e].focusInOffset,c.target.visitedCount=o[e].visitedCount,o[e].focus&&(o[e].dwell=Number(new Date)-o[e].focus,c.target.dwell=o[e].dwell),o[e].processedChange||!o[e].prevState||i||t.isEqual(o[e].prevState,s)||(n.type="change",c.event.type=n.type,c.event.tlEvent=z(n),c.target.prevState=o[e].prevState,c.target.currState=s)):o[e]={},"click"===c.event.type?U(c.target)||(c.target.currState=s,l=!0):"focus"===c.event.type&&(l=!0),l&&!i&&(c.event.type="blur",c.event.tlEvent="focusout"),c.dcid||(a=W(c.event.type,n.target),a&&(c.dcid=a)),i||(b.inFocus=!1),o[e].prevState=s?t.mixin({},s):s,K(r)}function J(e,n){const i=r.length,a=i?r[i-1]:null;b.inFocus&&b.target.id===e?a&&a.target.id===e||(Y(n,e),o[e].processedChange=!1,o[e].processedClick=!1):(b.inFocus&&Q(b.target.id,b),b=n,b.inFocus=!0,o[e]||(o[e]={}),o[e].focus=b.dwellStart=Number(new Date),o[e].focusInOffset=h?b.dwellStart-Number(h):-1,"focus"===n.type?o[e].prevState=t.getValue(n,"target.state"):"click"!==n.type||o[e].prevState||(o[e].prevState=t.getValue(n,"target.state"),!o[e].prevState||"checkbox"!==n.target.subType&&"radio"!==n.target.subType||(o[e].prevState.checked=!o[e].prevState.checked)),o[e].visitedCount=o[e].visitedCount+1||1,o[e].webEvent=n,o[e].processedChange=!1,o[e].processedClick=!1,Y(n,e))}function G(e,n){if("select"===n.target.type&&v&&v.target.id===e)return void(v=null);J(e,n);const i=r[r.length-1];"focus"===i.event.type&&(i.event.type="click",i.event.tlEvent=z(n));const a=n.nativeEvent;a&&(!window.MouseEvent||!(a instanceof MouseEvent&&0===a.detail)||window.PointerEvent&&a instanceof PointerEvent&&""!==a.pointerType)&&(i.target.position.relXY=t.getValue(n,"target.position.relXY")),o[e].processedChange||(o[e].webEvent=n),o[e].processedClick=!0,U(n.target)&&Q(e,n,!0),v=n}function $(e,n){const o=e;if(t.getValue(n,"target.element.disabled",!1))switch(n.type){case"pointerdown":u=o;break;case"pointerup":o===u&&(n.type="click",G(e,n)),u=null}}function Z(){let e;s&&(e=s.clientState,e.viewPortHeight>0&&e.viewPortHeight<S&&e.viewPortWidth>0&&e.viewPortWidth<S&&B(s),l=s,s=null,m=w||m,y=null),Z.timeoutId=0}function ee(e){let n=null;if(!t.isOperaMini)return s=function(e){const n=document.documentElement||{},o=document.body||{},i=window.screen,r=i.width,a=i.height,s=t.getValue(e,"orientation",0);let c;const u={type:1,clientState:{pageWidth:Math.max(o.clientWidth||0,n.offsetWidth||0,n.scrollWidth||0),pageHeight:Math.max(o.clientHeight||0,n.offsetHeight||0,n.scrollHeight||0),viewPortWidth:window.innerWidth||n.clientWidth,viewPortHeight:window.innerHeight||n.clientHeight,viewPortX:Math.round(window.pageXOffset||(n||o).scrollLeft||0),viewPortY:Math.round(window.pageYOffset||(n||o).scrollTop||0),deviceOrientation:s,event:t.getValue(e,"type")}},d=u.clientState;c=t.isiOS&&90===Math.abs(s)?a:r,l=l||u,"pagehide"===d.event&&d.viewPortHeight===d.pageHeight&&d.viewPortWidth===d.pageWidth&&l.clientState.viewPortHeight<d.viewPortHeight&&(d.viewPortHeight=l.clientState.viewPortHeight,d.viewPortWidth=l.clientState.viewPortWidth),d.viewPortY+d.viewPortHeight>d.pageHeight&&(d.viewPortY=d.pageHeight-d.viewPortHeight),d.viewPortY<0&&(d.viewPortY=0);const f=d.viewPortWidth?c/d.viewPortWidth:1;return d.deviceScale=f.toFixed(3),d.viewTime=0,m&&y&&(d.viewTime=y.getTime()-m.getTime()),"scroll"===e.type&&(d.viewPortXStart=l.clientState.viewPortX,d.viewPortYStart=l.clientState.viewPortY),u}(e),"scroll"===e.type||"resize"===e.type?(Z.timeoutId&&window.clearTimeout(Z.timeoutId),Z.timeoutId=window.setTimeout(Z,t.getValue(T,"scrollTimeout",2e3))):"touchstart"===e.type||"load"===e.type?s&&(x=parseFloat(s.clientState.deviceScale)):"touchend"===e.type&&s&&(C=parseFloat(s.clientState.deviceScale),Z()),"load"!==e.type&&"pagehide"!==e.type||("pagehide"===e.type&&d&&(n=t.clone(s),n.clientState.event="attention",n.clientState.viewTime=(new Date).getTime()-d),Z(),n&&(s=n,Z())),s}function te(e){const n={},o=t.getValue(e,"nativeEvent.rotation",0)||t.getValue(e,"nativeEvent.touches[0].webkitRotationAngle",0);let i=null;const r={type:4,event:{type:"touchend"},target:{id:t.getValue(e,"target.id"),idType:t.getValue(e,"target.idType")}};2===t.getValue(e,"nativeEvent.changedTouches.length",0)+t.getValue(e,"nativeEvent.touches.length",0)&&(ee(e),i={rotation:o?o.toFixed(2):0,scale:C?C.toFixed(2):1},i.pinch=function(){let e;const t=C-x;return e=isNaN(t)?"INVALID":t<0?"CLOSE":t>0?"OPEN":"NONE",e}(),n.scale=x?x.toFixed(2):1,r.target.prevState=n,r.target.currState=i,B(r))}function ne(t){let n,o,i=null;for(n in O)Object.prototype.hasOwnProperty.call(O,n)&&(o=O[n].exception,o.repeats>1&&(i={type:6,exception:o},e.post(i)));r&&K(r),y=new Date,ee(t),g!==p&&e.normalizeUrl(location.hash,2)!==g||TLT.logScreenviewUnload(g)}function oe(){g=t.getValue(T,"forceRootScreenview",!1)?p:e.normalizeUrl(location.hash,2)||p}return{init:function(){r=[]},destroy:function(){Q(i),r=[],Z.timeoutId&&(window.clearTimeout(Z.timeoutId),Z.timeoutId=0)},onevent:function(a){let s,l,u=null,d=null;if("object"==typeof a&&a.type){if(!function(e,n){const o=["type","name","target.id"];let i,r,a=null,s=!0,l=0,c=0,u=0;if(!e||!n||"object"!=typeof e||"object"!=typeof n)return!1;for(i=0,r=o.length;s&&i<r;i+=1)if(a=o[i],t.getValue(e,a)!==t.getValue(n,a)){s=!1;break}return s&&(c=t.getValue(e,"timestamp"),u=t.getValue(n,"timestamp"),isNaN(c)&&isNaN(u)||(l=Math.abs(t.getValue(e,"timestamp")-t.getValue(n,"timestamp")),(isNaN(l)||l>10)&&(s=!1))),s}(a,f)){switch(f=a,u=t.getValue(a,"target.id"),o[u]||(o[u]={}),function(e,n){let i=!1;const a=r.length,s=a?r[a-1]:null;if(!s)return i;const l=s.target.id;l!==e&&"selectList"!==s.target.tltype&&("focus"!==n.type&&"click"!==n.type&&"change"!==n.type&&"blur"!==n.type&&"pagehide"!==n.type||(Q(l),i=!0)),l===e&&("click"===n.type&&o[e].processedClick||"change"===n.type&&o[e].processedChange||"pointerup"===n.type&&o[e].processedClick&&t.getValue(n.target,"state.disabled",!1))&&(Q(l,null,!0),i=!0)}(u,a),a.type){case"hashchange":break;case"focus":J(u,a);break;case"blur":Q(u,a);break;case"pointerdown":case"pointerup":$(u,a);break;case"click":G(u,a);break;case"change":!function(e,n){J(e,n);const i=r[r.length-1];i.event.type="change",i.event.tlEvent=z(n),i.target.currState=n.target.state,o[e].prevState&&(i.target.prevState=o[e].prevState,"boolean"==typeof i.target.currState.checked&&(i.target.prevState.checked=!i.target.currState.checked)),o[e].webEvent=n,o[e].processedChange=!0,-1!==t.matchTarget(j,n.target)&&Q(e,n)}(u,a);break;case"orientationchange":!function(e){const o=e.orientation;B({type:4,event:{type:"orientationchange"},target:{prevState:{orientation:n,orientationMode:t.getOrientationMode(n)},currState:{orientation:o,orientationMode:t.getOrientationMode(o)}}}),n=o}(a);break;case"touchstart":!function(e){2===t.getValue(e,"nativeEvent.touches.length",0)&&ee(e)}(a);break;case"touchend":te(a);break;case"loadWithFrames":TLT.logScreenviewLoad("rootWithFrames");break;case"load":n=a.orientation,m=new Date,("number"!=typeof t.getOrientationAngle()||t.isAndroid)&&(l=window.screen.width>window.screen.height?90:0,s=t.getOrientationAngle(),Math.abs(s)===l||180===s&&0===l||270===s&&90===l||(t.isLandscapeZeroDegrees=!0,180===Math.abs(s)||0===Math.abs(s)?n=90:90!==Math.abs(s)&&270!==Math.abs(s)||(n=0))),setTimeout((function(){e.isInitialized()&&ee(a)}),100),oe(),TLT.logScreenviewLoad(g);break;case"screenview_load":h=new Date,function(){let e;for(e in o)Object.prototype.hasOwnProperty.call(o,e)&&(o[e].visitedCount=0)}(),d=W("load",null,a.name);break;case"screenview_unload":d=W("pagehide",null,a.name);break;case"resize":case"scroll":y||(y=new Date),w=new Date,ee(a);break;case"pagehide":ne(a);break;case"mousemove":!function(n){let o,i,r,a=0,s=0;if(!L.enabled||Object.prototype.hasOwnProperty.call(window,"ontouchstart"))return;if(M>=1e3)return;const l={element:{id:n.target.id,idType:n.target.idType},x:n.position.x,y:n.position.y,offset:e.getCurrentOffset()};if(null!==P){if(a=l.offset-P.offset,k&&a<k)return;if(i=Math.abs(l.x-P.x),r=Math.abs(l.y-P.y),s=i>r?i:r,I&&s<I)return;a>R&&(R=a)}const c=JSON.stringify(l.element);o=D[c],void 0===o&&(V.push(l.element),o=V.length-1,D[c]=o);const u=t.getValue(n,"target.position.relXY").split(",");F.push([o,u[0],u[1],l.offset]),M+=1,P=l}(a);break;case"error":!function(n){let o;const i=t.getValue(n,"nativeEvent.message");let r=t.getValue(n,"nativeEvent.filename","");const a=t.getValue(n,"nativeEvent.lineno",-1),s=t.getValue(n,"nativeEvent.error");if("string"==typeof i){if(r&&(r=e.normalizeUrl(r,6)),o=s&&s.stack?s.stack.toString():(i+" "+r+" "+a).toString(),O[o])O[o].exception.repeats+=1;else{const t={type:6,exception:{description:i,url:r,line:a}};e.post(t),O[o]={exception:{description:i,url:r,line:a,repeats:1}}}c+=1}}(a);break;case"visibilitychange":!function(e){const t="visible"===document.visibilityState,n={type:4,event:{type:"visibilitychange"},target:{prevState:{visible:A},currState:{visible:t}}},o=W(e.type,e.target);o&&(n.dcid=o),B(n),A=t}(a),E&&(!1===A&&TLT?(ne(a),TLT.flushAll(),TLT.updatePageId()):(g||oe(),g!==p&&e.normalizeUrl(location.hash,2)!==g||TLT.logScreenviewLoad(g)));break;default:!function(e){const n={type:4,event:{tlEvent:z(e),type:e.type},target:{id:t.getValue(e,"target.id"),idType:t.getValue(e,"target.idType"),currState:t.getValue(e,"target.state")}},o=W(e.type,e.target);o&&(n.dcid=o),B(n)}(a)}return i=u,d}f=a}},onmessage:function(){}}})); // eslint-disable-line

/*!
* Tealeaf Ajax Listener
* @version 1.3.3
*/
TLT.addModule("ajaxListener",(function(e){"use strict";var t,n,r,s,a={},o=!1,i=e.utils;function u(e){var t,n=e.customEvent.data,r=a.blockNonJSONResponse||!1,s=a.fieldBlocklist||[];function o(e,t){for(var n=s.length;n>0;){if(s[n-=1]===e)return"XXXXX";if(s[n].cRegex&&s[n].cRegex.test(e))return"XXXXX"}return t}return 0!==n.length&&(r&&(void 0!==(t=n.responseHeaders["content-type"])&&-1!==t.indexOf("application/json")||(n.response="non-JSON data has been masked")),e.customEvent.data=function(e){var t;try{t=JSON.stringify(e,o)}catch(e){return"Error applying Ajax Listener privacy - "+e.message}return JSON.parse(t)}(n)),e}function p(e){var t,n,r=!1,s=a.urlBlocklist;if(!e||!s)return r;for(t=0,n=s.length;!r&&t<n;t+=1)r=s[t].cRegex.test(e);return r}function c(e,t,n){var r,s,o,i={},u=a.filters;if(!u||!u.length)return i;for(r=0,s=u.length,o=!1;!o&&r<s;r+=1)o=!0,(i=u[r]).url&&(o=i.url.cRegex.test(e)),o&&i.method&&(o=i.method.cRegex.test(t)),o&&i.status&&(o=i.status.cRegex.test(n));return o||(i=null),i}function d(t,n){var r,s,a={type:5,customEvent:{name:"ajaxListener",data:{interfaceType:"XHR"}}},o=a.customEvent.data;if(t){if((r=document.createElement("a")).href=t.tListener.url,o.originalURL=r.host+("/"===r.pathname[0]?"":"/")+r.pathname,o.requestURL=e.normalizeUrl?e.normalizeUrl(o.originalURL,3):o.originalURL,o.description="Full Ajax Monitor "+o.requestURL,o.method=t.tListener.method,o.status=t.status,o.statusText=t.statusText||"",o.async=t.tListener.async,o.ajaxResponseTime=t.tListener.end-t.tListener.start,o.locationHref=e.normalizeUrl(document.location.href,3),n.requestHeaders&&(o.requestHeaders=t.tListener.reqHeaders),n.requestData&&"string"==typeof t.tListener.reqData&&!t.tListener.isSystemXHR)try{o.request=JSON.parse(t.tListener.reqData)}catch(e){o.request=t.tListener.reqData}if(n.responseHeaders&&(o.responseHeaders=function(e){var t,n,r,s,a,o={};for(t=0,n=(e=e.split(/[\r\n]+/)).length;t<n;t+=1)s=(r=e[t].split(": "))[0],a=i.rtrim(r[1]),s&&s.length&&(o[s]=a);return o}(t.getAllResponseHeaders())),n.responseData){if(void 0===t.responseType?s=t.responseText:""===t.responseType||"text"===t.responseType?s=t.response:"json"===t.responseType?o.response=t.response:o.response=typeof t.response,s)try{o.response=JSON.parse(s)}catch(e){o.response=s}t.responseType&&(o.responseType=t.responseType)}a=u(a),e.post(a)}}function l(e){for(var t,n={},r=e.entries(),s=r.next();!s.done;)n[(t=s.value)[0]]=t[1],s=r.next();return n}function f(e){return l(e)}function h(t,n,r){var s,a,o={type:5,customEvent:{name:"ajaxListener",data:{interfaceType:"fetch"}}},i=o.customEvent.data;if((s=document.createElement("a")).href=t.url,i.originalURL=s.host+("/"===s.pathname[0]?"":"/")+s.pathname,i.requestURL=e.normalizeUrl?e.normalizeUrl(i.originalURL,3):i.originalURL,i.description="Full Ajax Monitor "+i.requestURL,i.method=t.initData.method,i.status=n.status,i.statusText=n.statusText||"",i.async=!0,i.ajaxResponseTime=t.end-t.start,i.responseType=n.type,i.locationHref=e.normalizeUrl(document.location.href,3),r.requestHeaders&&(t.initData.headers&&-1!==t.initData.headers.toString().indexOf("Headers")?i.requestHeaders=f(t.initData.headers):i.requestHeaders=t.initData.headers||""),r.requestData&&void 0!==t.body&&!t.isSystemXHR&&(i.request=function(e){var t=e;if(!e)return t;if("object"==typeof e&&-1!==e.toString().indexOf("FormData"))t=l(e);else if("string"==typeof e)try{t=JSON.parse(e)}catch(n){t=e}return t}(t.body)),r.responseHeaders&&(i.responseHeaders=f(n.headers)),r.responseData){if((a=n.headers.get("content-type"))&&-1!==a.indexOf("application/json"))return void n.clone().json().then((function(t){i.response=t,o=u(o),e.post(o)}));if(a&&(-1!==a.indexOf("text")||-1!==a.indexOf("xml")))return void n.clone().text().then((function(t){i.response=t,o=u(o),e.post(o)}));i.response="Not logging unsupported response content: "+a}o=u(o),e.post(o)}function g(e,t){var n,r=e.url,s=e.initData.method,a=t.status.toString(),o={requestHeaders:!1,requestData:!1,responseHeaders:!1,responseData:!1};p(r)||(n=c(r,s,a))&&(n.log&&(o=n.log),h(e,t,o))}function y(e){var t;e&&e.target&&4===(t=e.target).readyState&&(t.removeEventListener("readystatechange",y),t.tListener.end=Date.now(),function(e){var t,n={requestHeaders:!1,requestData:!1,responseHeaders:!1,responseData:!1};(t=c(e.tListener.url,e.tListener.method,e.status.toString()))&&(t.log&&(n=t.log),d(e,n))}(t))}function m(e){var t=e.setRequestHeader;e.setRequestHeader=function(e,n){var r=this,s=r.tListener;return e&&e.length&&(s.reqHeaders[e]=n),t.apply(r,arguments)}}function v(e){var t=e.send;e.send=function(e){var n=this,r=n.tListener;return e&&(r.reqData=e),r.start=Date.now(),t.apply(n,arguments)}}function x(e){var t,n;for(n=TLT.getServiceConfig("queue").queues||[],t=0;t<n.length;t+=1)if(n[t].endpoint&&-1!==e.indexOf(n[t].endpoint))return!0;return!1}function L(e,n,r){var s=this;return o&&!p(n)&&(s.addEventListener("readystatechange",y),s.tListener={method:e,url:n,async:void 0===r||!!r,reqHeaders:{},isSystemXHR:x(n)},m(s),v(s)),t.apply(s,arguments)}function q(e){e&&e.regex&&(e.cRegex=new RegExp(e.regex,e.flags))}return{init:function(){!function(e){var t,n,a,o=[],u=i.getValue(e,"skipSafetyCheck",!1);for(e&&e.filters&&(o=e.filters),t=0,n=o.length;t<n;t+=1)a=o[t],i.forEach([a.url,a.method,a.status],q);e&&e.urlBlocklist&&i.forEach(e.urlBlocklist,q),e&&e.fieldBlocklist&&i.forEach(e.fieldBlocklist,q),!(r=i.getValue(e,"xhrEnabled",!0)&&window.XMLHttpRequest)||u||-1!==XMLHttpRequest.toString().indexOf("[native code]")&&-1!==XMLHttpRequest.toString().indexOf("XMLHttpRequest")||(r=!1),(s=i.getValue(e,"fetchEnabled",!0)&&window.fetch)&&!u&&-1===window.fetch.toString().indexOf("[native code]")&&(s=!1)}(a=e.getConfig())},destroy:function(){o=!1},onevent:function(e){switch(e.type){case"load":r&&XMLHttpRequest&&(t=XMLHttpRequest.prototype.open,XMLHttpRequest.prototype.open=L),s&&(n=window.fetch,window.fetch=function(e,t){var r={};return"object"==typeof e?(r.initData=e,r.url=e.url,r.initData.clone().text().then((function(e){e.length>0&&(r.body=e)}))):(r.initData=t||{},r.url=e,t&&t.body&&(r.body=t.body)),r.isSystemXHR=x(r.url),r.start=Date.now(),n.apply(this,arguments).then((function(e){return r.end=Date.now(),g(r,e),e}))}),o=!0;break;case"pagehide":o=!1;break;default:break}},version:"1.3.3"}})); // eslint-disable-line

/*!
* :: OPTIONAL ::
* Hammer.JS 1.1.3 and Tealeaf Gestures Module 6.4.133
*/
!function(a,b){"use strict";function c(){d.READY||(s.determineEventTypes(),r.each(d.gestures,function(a){u.register(a)}),s.onTouch(d.DOCUMENT,n,u.detect),s.onTouch(d.DOCUMENT,o,u.detect),d.READY=!0)}var d=function v(a,b){return new v.Instance(a,b||{})};d.VERSION="1.1.3",d.defaults={behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},d.DOCUMENT=document,d.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,d.HAS_TOUCHEVENTS="ontouchstart"in a,d.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent),d.NO_MOUSEEVENTS=d.HAS_TOUCHEVENTS&&d.IS_MOBILE||d.HAS_POINTEREVENTS,d.CALCULATE_INTERVAL=25;var e={},f=d.DIRECTION_DOWN="down",g=d.DIRECTION_LEFT="left",h=d.DIRECTION_UP="up",i=d.DIRECTION_RIGHT="right",j=d.POINTER_MOUSE="mouse",k=d.POINTER_TOUCH="touch",l=d.POINTER_PEN="pen",m=d.EVENT_START="start",n=d.EVENT_MOVE="move",o=d.EVENT_END="end",p=d.EVENT_RELEASE="release",q=d.EVENT_TOUCH="touch";d.READY=!1,d.plugins=d.plugins||{},d.gestures=d.gestures||{};var r=d.utils={extend:function(a,c,d){for(var e in c)!c.hasOwnProperty(e)||a[e]!==b&&d||(a[e]=c[e]);return a},on:function(a,b,c){a.addEventListener(b,c,!1)},off:function(a,b,c){a.removeEventListener(b,c,!1)},each:function(a,c,d){var e,f;if("forEach"in a)a.forEach(c,d);else if(a.length!==b){for(e=0,f=a.length;f>e;e++)if(c.call(d,a[e],e,a)===!1)return}else for(e in a)if(a.hasOwnProperty(e)&&c.call(d,a[e],e,a)===!1)return},inStr:function(a,b){return a.indexOf(b)>-1},inArray:function(a,b){if(a.indexOf){var c=a.indexOf(b);return-1===c?!1:c}for(var d=0,e=a.length;e>d;d++)if(a[d]===b)return d;return!1},toArray:function(a){return Array.prototype.slice.call(a,0)},hasParent:function(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1},getCenter:function(a){var b=[],c=[],d=[],e=[],f=Math.min,g=Math.max;return 1===a.length?{pageX:a[0].pageX,pageY:a[0].pageY,clientX:a[0].clientX,clientY:a[0].clientY}:(r.each(a,function(a){b.push(a.pageX),c.push(a.pageY),d.push(a.clientX),e.push(a.clientY)}),{pageX:(f.apply(Math,b)+g.apply(Math,b))/2,pageY:(f.apply(Math,c)+g.apply(Math,c))/2,clientX:(f.apply(Math,d)+g.apply(Math,d))/2,clientY:(f.apply(Math,e)+g.apply(Math,e))/2})},getVelocity:function(a,b,c){return{x:Math.abs(b/a)||0,y:Math.abs(c/a)||0}},getAngle:function(a,b){var c=b.clientX-a.clientX,d=b.clientY-a.clientY;return 180*Math.atan2(d,c)/Math.PI},getDirection:function(a,b){var c=Math.abs(a.clientX-b.clientX),d=Math.abs(a.clientY-b.clientY);return c>=d?a.clientX-b.clientX>0?g:i:a.clientY-b.clientY>0?h:f},getDistance:function(a,b){var c=b.clientX-a.clientX,d=b.clientY-a.clientY;return Math.sqrt(c*c+d*d)},getScale:function(a,b){return a.length>=2&&b.length>=2?this.getDistance(b[0],b[1])/this.getDistance(a[0],a[1]):1},getRotation:function(a,b){return a.length>=2&&b.length>=2?this.getAngle(b[1],b[0])-this.getAngle(a[1],a[0]):0},isVertical:function(a){return a==h||a==f},setPrefixedCss:function(a,b,c,d){var e=["","Webkit","Moz","O","ms"];b=r.toCamelCase(b);for(var f=0;f<e.length;f++){var g=b;if(e[f]&&(g=e[f]+g.slice(0,1).toUpperCase()+g.slice(1)),g in a.style){a.style[g]=(null==d||d)&&c||"";break}}},toggleBehavior:function(a,b,c){if(b&&a&&a.style){r.each(b,function(b,d){r.setPrefixedCss(a,d,b,c)});var d=c&&function(){return!1};"none"==b.userSelect&&(a.onselectstart=d),"none"==b.userDrag&&(a.ondragstart=d)}},toCamelCase:function(a){return a.replace(/[_-]([a-z])/g,function(a){return a[1].toUpperCase()})}},s=d.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(a,b,c,d){var e=b.split(" ");r.each(e,function(b){r.on(a,b,c),d&&d(b)})},off:function(a,b,c,d){var e=b.split(" ");r.each(e,function(b){r.off(a,b,c),d&&d(b)})},onTouch:function(a,b,c){var f=this,g=function(e){var g,h=e.type.toLowerCase(),i=d.HAS_POINTEREVENTS,j=r.inStr(h,"mouse");j&&f.preventMouseEvents||(j&&b==m&&0===e.button?(f.preventMouseEvents=!1,f.shouldDetect=!0):i&&b==m?f.shouldDetect=1===e.buttons||t.matchType(k,e):j||b!=m||(f.preventMouseEvents=!0,f.shouldDetect=!0),i&&b!=o&&t.updatePointer(b,e),f.shouldDetect&&(g=f.doDetect.call(f,e,b,a,c)),g==o&&(f.preventMouseEvents=!1,f.shouldDetect=!1,t.reset()),i&&b==o&&t.updatePointer(b,e))};return this.on(a,e[b],g),g},doDetect:function(a,b,c,d){var e=this.getTouchList(a,b),f=e.length,g=b,h=e.trigger,i=f;b==m?h=q:b==o&&(h=p,i=e.length-(a.changedTouches?a.changedTouches.length:1)),i>0&&this.started&&(g=n),this.started=!0;var j=this.collectEventData(c,g,e,a);return b!=o&&d.call(u,j),h&&(j.changedLength=i,j.eventType=h,d.call(u,j),j.eventType=g,delete j.changedLength),g==o&&(d.call(u,j),this.started=!1),g},determineEventTypes:function(){var b;return b=d.HAS_POINTEREVENTS?a.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:d.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],e[m]=b[0],e[n]=b[1],e[o]=b[2],e},getTouchList:function(a,b){if(d.HAS_POINTEREVENTS)return t.getTouchList();if(a.touches){if(b==n)return a.touches;var c=[],e=[].concat(r.toArray(a.touches),r.toArray(a.changedTouches)),f=[];return r.each(e,function(a){r.inArray(c,a.identifier)===!1&&f.push(a),c.push(a.identifier)}),f}return a.identifier=1,[a]},collectEventData:function(a,b,c,d){var e=k;return r.inStr(d.type,"mouse")||t.matchType(j,d)?e=j:t.matchType(l,d)&&(e=l),{center:r.getCenter(c),timeStamp:Date.now(),target:d.target,touches:c,eventType:b,pointerType:e,srcEvent:d,preventDefault:function(){var a=this.srcEvent;a.preventManipulation&&a.preventManipulation(),a.preventDefault&&a.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return u.stopDetect()}}}},t=d.PointerEvent={pointers:{},getTouchList:function(){var a=[];return r.each(this.pointers,function(b){a.push(b)}),a},updatePointer:function(a,b){a==o?delete this.pointers[b.pointerId]:(b.identifier=b.pointerId,this.pointers[b.pointerId]=b)},matchType:function(a,b){if(!b.pointerType)return!1;var c=b.pointerType,d={};return d[j]=c===(b.MSPOINTER_TYPE_MOUSE||j),d[k]=c===(b.MSPOINTER_TYPE_TOUCH||k),d[l]=c===(b.MSPOINTER_TYPE_PEN||l),d[a]},reset:function(){this.pointers={}}},u=d.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(a,b){this.current||(this.stopped=!1,this.current={inst:a,startEvent:r.extend({},b),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(b))},detect:function(a){if(this.current&&!this.stopped){a=this.extendEventData(a);var b=this.current.inst,c=b.options;return r.each(this.gestures,function(d){!this.stopped&&b.enabled&&c[d.name]&&d.handler.call(d,a,b)},this),this.current&&(this.current.lastEvent=a),a.eventType==o&&this.stopDetect(),a}},stopDetect:function(){this.previous=r.extend({},this.current),this.current=null,this.stopped=!0},getCalculatedData:function(a,b,c,e,f){var g=this.current,h=!1,i=g.lastCalcEvent,j=g.lastCalcData;i&&a.timeStamp-i.timeStamp>d.CALCULATE_INTERVAL&&(b=i.center,c=a.timeStamp-i.timeStamp,e=a.center.clientX-i.center.clientX,f=a.center.clientY-i.center.clientY,h=!0),(a.eventType==q||a.eventType==p)&&(g.futureCalcEvent=a),(!g.lastCalcEvent||h)&&(j.velocity=r.getVelocity(c,e,f),j.angle=r.getAngle(b,a.center),j.direction=r.getDirection(b,a.center),g.lastCalcEvent=g.futureCalcEvent||a,g.futureCalcEvent=a),a.velocityX=j.velocity.x,a.velocityY=j.velocity.y,a.interimAngle=j.angle,a.interimDirection=j.direction},extendEventData:function(a){var b=this.current,c=b.startEvent,d=b.lastEvent||c;(a.eventType==q||a.eventType==p)&&(c.touches=[],r.each(a.touches,function(a){c.touches.push({clientX:a.clientX,clientY:a.clientY})}));var e=a.timeStamp-c.timeStamp,f=a.center.clientX-c.center.clientX,g=a.center.clientY-c.center.clientY;return this.getCalculatedData(a,d.center,e,f,g),r.extend(a,{startEvent:c,deltaTime:e,deltaX:f,deltaY:g,distance:r.getDistance(c.center,a.center),angle:r.getAngle(c.center,a.center),direction:r.getDirection(c.center,a.center),scale:r.getScale(c.touches,a.touches),rotation:r.getRotation(c.touches,a.touches)}),a},register:function(a){var c=a.defaults||{};return c[a.name]===b&&(c[a.name]=!0),r.extend(d.defaults,c,!0),a.index=a.index||1e3,this.gestures.push(a),this.gestures.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:0}),this.gestures}};d.Instance=function(a,b){var e=this;c(),this.element=a,this.enabled=!0,r.each(b,function(a,c){delete b[c],b[r.toCamelCase(c)]=a}),this.options=r.extend(r.extend({},d.defaults),b||{}),this.options.behavior&&r.toggleBehavior(this.element,this.options.behavior,!0),this.eventStartHandler=s.onTouch(a,m,function(a){e.enabled&&a.eventType==m?u.startDetect(e,a):a.eventType==q&&u.detect(a)}),this.eventHandlers=[]},d.Instance.prototype={on:function(a,b){var c=this;return s.on(c.element,a,b,function(a){c.eventHandlers.push({gesture:a,handler:b})}),c},off:function(a,b){var c=this;return s.off(c.element,a,b,function(a){var d=r.inArray({gesture:a,handler:b});d!==!1&&c.eventHandlers.splice(d,1)}),c},trigger:function(a,b){b||(b={});var c=d.DOCUMENT.createEvent("Event");c.initEvent(a,!0,!0),c.gesture=b;var e=this.element;return r.hasParent(b.target,e)&&(e=b.target),e.dispatchEvent(c),this},enable:function(a){return this.enabled=a,this},dispose:function(){var a,b;for(r.toggleBehavior(this.element,this.options.behavior,!1),a=-1;b=this.eventHandlers[++a];)r.off(this.element,b.gesture,b.handler);return this.eventHandlers=[],s.off(this.element,e[m],this.eventStartHandler),null}},function(a){function b(b,d){var e=u.current;if(!(d.options.dragMaxTouches>0&&b.touches.length>d.options.dragMaxTouches))switch(b.eventType){case m:c=!1;break;case n:if(b.distance<d.options.dragMinDistance&&e.name!=a)return;var j=e.startEvent.center;if(e.name!=a&&(e.name=a,d.options.dragDistanceCorrection&&b.distance>0)){var k=Math.abs(d.options.dragMinDistance/b.distance);j.pageX+=b.deltaX*k,j.pageY+=b.deltaY*k,j.clientX+=b.deltaX*k,j.clientY+=b.deltaY*k,b=u.extendEventData(b)}(e.lastEvent.dragLockToAxis||d.options.dragLockToAxis&&d.options.dragLockMinDistance<=b.distance)&&(b.dragLockToAxis=!0);var l=e.lastEvent.direction;b.dragLockToAxis&&l!==b.direction&&(b.direction=r.isVertical(l)?b.deltaY<0?h:f:b.deltaX<0?g:i),c||(d.trigger(a+"start",b),c=!0),d.trigger(a,b),d.trigger(a+b.direction,b);var q=r.isVertical(b.direction);(d.options.dragBlockVertical&&q||d.options.dragBlockHorizontal&&!q)&&b.preventDefault();break;case p:c&&b.changedLength<=d.options.dragMaxTouches&&(d.trigger(a+"end",b),c=!1);break;case o:c=!1}}var c=!1;d.gestures.Drag={name:a,index:50,handler:b,defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}}}("drag"),d.gestures.Gesture={name:"gesture",index:1337,handler:function(a,b){b.trigger(this.name,a)}},function(a){function b(b,d){var e=d.options,f=u.current;switch(b.eventType){case m:clearTimeout(c),f.name=a,c=setTimeout(function(){f&&f.name==a&&d.trigger(a,b)},e.holdTimeout);break;case n:b.distance>e.holdThreshold&&clearTimeout(c);break;case p:clearTimeout(c)}}var c;d.gestures.Hold={name:a,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:b}}("hold"),d.gestures.Release={name:"release",index:1/0,handler:function(a,b){a.eventType==p&&b.trigger(this.name,a)}},d.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(a,b){if(a.eventType==p){var c=a.touches.length,d=b.options;if(c<d.swipeMinTouches||c>d.swipeMaxTouches)return;(a.velocityX>d.swipeVelocityX||a.velocityY>d.swipeVelocityY)&&(b.trigger(this.name,a),b.trigger(this.name+a.direction,a))}}},function(a){function b(b,d){var e,f,g=d.options,h=u.current,i=u.previous;switch(b.eventType){case m:c=!1;break;case n:c=c||b.distance>g.tapMaxDistance;break;case o:!r.inStr(b.srcEvent.type,"cancel")&&b.deltaTime<g.tapMaxTime&&!c&&(e=i&&i.lastEvent&&b.timeStamp-i.lastEvent.timeStamp,f=!1,i&&i.name==a&&e&&e<g.doubleTapInterval&&b.distance<g.doubleTapDistance&&(d.trigger("doubletap",b),f=!0),(!f||g.tapAlways)&&(h.name=a,d.trigger(h.name,b)))}}var c=!1;d.gestures.Tap={name:a,index:100,handler:b,defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}}}("tap"),d.gestures.Touch={name:"touch",index:-1/0,defaults:{preventDefault:!1,preventMouse:!1},handler:function(a,b){return b.options.preventMouse&&a.pointerType==j?void a.stopDetect():(b.options.preventDefault&&a.preventDefault(),void(a.eventType==q&&b.trigger("touch",a)))}},function(a){function b(b,d){switch(b.eventType){case m:c=!1;break;case n:if(b.touches.length<2)return;var e=Math.abs(1-b.scale),f=Math.abs(b.rotation);if(e<d.options.transformMinScale&&f<d.options.transformMinRotation)return;u.current.name=a,c||(d.trigger(a+"start",b),c=!0),d.trigger(a,b),f>d.options.transformMinRotation&&d.trigger("rotate",b),e>d.options.transformMinScale&&(d.trigger("pinch",b),d.trigger("pinch"+(b.scale<1?"in":"out"),b));break;case p:c&&b.changedLength<2&&(d.trigger(a+"end",b),c=!1)}}var c=!1;d.gestures.Transform={name:a,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:b}}("transform"),"function"==typeof define&&define.amd?define(function(){return d}):"undefined"!=typeof module&&module.exports?module.exports=d:a.Hammer=d}(window); // eslint-disable-line
TLT.addModule("gestures",(function(e){const t={"input:radio":"radioButton","input:checkbox":"checkBox","input:text":"textBox","input:password":"textBox","input:file":"fileInput","input:button":"button","input:submit":"submitButton","input:reset":"resetButton","input:image":"image","input:color":"color","input:date":"date","input:datetime":"datetime","input:datetime-local":"datetime-local","input:number":"number","input:email":"email","input:tel":"tel","input:search":"search","input:url":"url","input:time":"time","input:week":"week","input:month":"month","textarea:":"textBox","select:":"selectList","select:select-one":"selectList","button:":"button","a:":"link"},n=e.utils;let i,r=[],a=0,o=!0,s=function(){};const u={swipeAfterPinchInterval:300,doubleTapInterval:300,preventMouse:!0,dragMinDistance:10};let p,l,c,d=[],g=[];function f(t){e.post(t)}function v(e){let t=e.gesture.srcEvent.target,n=0,i=0;for(;t&&"BODY"!==t.tagName;)n+=t.offsetTop,i+=t.offsetLeft,t=t.offsetParent;return{topLeftX:i,topLeftY:n}}function m(e,t){"radioButton"===t&&delete e.control.position.relXY,null!==e.control.name&&void 0!==e.control.name&&""!==e.control.name||delete e.control.name,null!==e.control.subType&&void 0!==e.control.subType&&""!==e.control.subType||delete e.control.subType}function h(i){const a=function(e){let t;return t="drag"===e.type?"swipe":"hold"===e.type?"tapHold":e.type,t="string"==typeof t?t.toLowerCase():"unknown",t}(n.getValue(i,"webEvent")),o=n.getValue(i,"webEvent.gesture.srcEvent.target",document.body),s=n.getTagName(o)||"body",u=n.getValue(o,"type",""),c=t[s.toLowerCase()+":"+u.toLowerCase()]||s,d=n.getValue(i,"webEvent.target.subtype"),g=[];let f,h,w,b,y,E;for("1"===l?(f=i.webEvent.gesture.touches,h="webEvent.gesture.touches.",w="swipe"===a&&!(void 0!==p&&"swipe"===p.event.tlEvent)||"pinch"===a&&!(void 0!==p&&"pinch"===p.event.tlEvent),b="swipe"===a||"pinch"===a):(f=i.webEvent.gesture.pointers,h="webEvent.gesture.pointers.",w="first"===n.getValue(i,"webEvent.gesture.firstOrLastSwipeEvent")||"first"===n.getValue(i,"webEvent.gesture.firstOrLastPinchEvent"),b="last"===n.getValue(i,"webEvent.gesture.firstOrLastSwipeEvent")||"last"===n.getValue(i,"webEvent.gesture.firstOrLastPinchEvent")),E=0;E<f.length;E+=1)y={x:n.getValue(i,h+E+".pageX")-v(i.webEvent).topLeftX,y:n.getValue(i,h+E+".pageY")-v(i.webEvent).topLeftY,width:n.getValue(i,"webEvent.gesture.srcEvent.target.offsetWidth"),height:n.getValue(i,"webEvent.gesture.srcEvent.target.offsetHeight")},g.push([{position:{y:Math.round(n.getValue(i,h+E+".pageY")),x:Math.round(n.getValue(i,h+E+".pageX"))},control:{position:{width:Math.round(n.getValue(i,h+E+".target.offsetWidth")),height:Math.round(n.getValue(i,h+E+".target.offsetHeight")),relXY:n.calculateRelativeXY(y),scrollX:Math.round(document.documentElement.scrollLeft||document.body.scrollLeft),scrollY:Math.round(document.documentElement.scrollTop||document.body.scrollTop)},id:n.getValue(i,h+E+".target.id")||e.getXPathFromNode(n.getValue(i,h+E+".target")),idType:n.getValue(i,"webEvent.gesture.idType"),name:n.getValue(i,h+E+".target.name"),tlType:c,type:s,subType:u}}]),m(g[E][0],c);if(w)for(E=0;E<f.length;E+=1)r.push(g[E][0]);if(b)for(E=0;E<f.length;E+=1)g[E].unshift(r[E]);const T={type:11,event:{tlEvent:a,type:a},touches:g};return"swipe"===a&&(T.velocityX=i.webEvent.gesture.velocityX,T.velocityY=i.webEvent.gesture.velocityY),"swipe"===a&&(T.direction=i.webEvent.gesture.direction,2===T.direction&&(T.direction="left"),4===T.direction&&(T.direction="right"),8===T.direction&&(T.direction="up"),16===T.direction&&(T.direction="down")),"pinch"===a&&(i.webEvent.gesture.scale>1?T.direction="open":i.webEvent.gesture.scale<1&&(T.direction="close")),null!=d&&(T.event.subType=d),T}function w(e,t){"1"===l?"doubletap"===t.type||"hold"===t.type||"tap"===t.type?f(h({webEvent:t,id:e,currState:n.getValue(t,"target.state")})):"release"!==t.type||void 0===p||"swipe"!==p.event.tlEvent&&"pinch"!==p.event.tlEvent?"drag"!==t.type&&"pinch"!==t.type||(p=h({webEvent:t,id:e,currState:n.getValue(t,"target.state")})):(f(p),p=void 0,r=[]):"doubletap"===t.type||"tapHold"===t.type||"tap"===t.type?f(h({webEvent:t,id:e,currState:n.getValue(t,"target.state")})):"last"===t.gesture.firstOrLastSwipeEvent||"last"===t.gesture.firstOrLastPinchEvent?(f(h({webEvent:t,id:e,currState:n.getValue(t,"target.state")})),r=[]):"first"!==t.gesture.firstOrLastSwipeEvent&&"first"!==t.gesture.firstOrLastPinchEvent||h({webEvent:t,id:e,currState:n.getValue(t,"target.state")})}function b(e,t){const n=u.doubleTapInterval;a+=1,1===a?(s=function(e,t){const n=e,i=t;return function(){w(n,i),a=0}}(e,t),i=setTimeout((function(){s(),s=function(){}}),n)):(clearTimeout(i),t.type="doubletap",w(e,t),s=function(){},a=0)}function y(e,t){const n=u.swipeAfterPinchInterval;!o||"swipe"!==t.type&&"drag"!==t.type||w(e,t),"pinch"===t.type&&(w(e,t),o=!1,i=setTimeout((function(){o=!0}),n))}function E(e){let t;return document.createEvent?(t=document.createEvent("HTMLEvents"),t.initEvent(e.type,!0,!0),t.gesture=e):(t=document.createEventObject(),t.eventType=e.type,t.gesture=e),t}function T(e,t){void 0!==t&&(document.createEvent?t.dispatchEvent(e):t.fireEvent("on"+e.eventType,e))}function L(e){const t=e.type,n=e.target;"tap"===t?(T(E(e),n),c=void 0):"press"===t?(e.type="tapHold",T(E(e),n),c=void 0):"panstart"===t?(e.type="swipe",e.firstOrLastSwipeEvent="first",T(E(e),n),c=n):"panend"===t?(e.type="swipe",e.firstOrLastSwipeEvent="last",T(E(e),c),c=void 0):"pinchstart"===t?(e.type="pinch",e.firstOrLastPinchEvent="first",T(E(e),n),c=n):"pinchend"===t&&(e.type="pinch",e.firstOrLastPinchEvent="last",T(E(e),c),c=void 0)}return{init:function(){let t,i,r,a,o,s,p,f,v=[],m="",h=0;const w=TLT.getCoreConfig().modules.gestures.events;if("function"==typeof Hammer){for(l=Hammer.VERSION.split(".")[0],"1"===l&&(Hammer.defaults.behavior.userSelect="auto",Hammer.defaults.behavior.userDrag="auto",Hammer.defaults.behavior.contentZooming="auto",Hammer.defaults.behavior.touchCallout="default",Hammer.defaults.behavior.touchAction="auto"),e.getConfig()&&e.getConfig().options&&n.extend(!0,u,e.getConfig().options),t=0;t<w.length;t+=1)if(f=w[t].name,"tap"===f&&(m+="tap "),"swipe"===f&&(m+="panstart panend "),"tapHold"===f&&(m+="press "),"pinch"===f&&(m+="pinchstart pinchend"),a=w[t].target,a===window||"window"===a)"1"===l&&d.push(new Hammer(window,u));else if(null!=o)for(o=a.split(", "),i=0;i<o.length;i+=1)for(v=TLT.getService("browser").queryAll(o[i],document),r=0;r<v.length;r+=1)s=n.indexOf(g,v[r]),-1===s&&(g.push(v[r]),h+=1);if("1"===l)for(t=0;t<g.length;t+=1)d.push(new Hammer(g[t],u));else if(0!==g.length)for(t=0;t<g.length;t+=1)p=new Hammer.Manager(g[t]),p.add(new Hammer.Tap({event:"tap"})),p.add(new Hammer.Pan({direction:Hammer.DIRECTION_ALL})),p.add(new Hammer.Press),p.add(new Hammer.Pinch({enable:!0})),p.on(m,(function(e){(("panend"===e.type||"pinchend"===e.type)&&g.indexOf(c)>-1||g.indexOf(e.target)>-1)&&L(e)})),d.push(p);else void 0===window.style&&(window.style=[]),p=new Hammer.Manager(window),p.add(new Hammer.Tap({event:"tap"})),p.add(new Hammer.Pan({direction:Hammer.DIRECTION_ALL})),p.add(new Hammer.Press),p.add(new Hammer.Pinch({enable:!0})),p.on(m,(function(e){L(e)})),d.push(p)}},destroy:function(){let e;if(null!=d)for(e=0;e<d.length;e+=1)d[e].off("tap press pinchstart pinchend panstart panend"),d[e].enabled=!1;d=[],g=[]},onevent:function(e){if("object"!=typeof e||!e.type||!e.gesture&&"pagehide"!==e.type||!e.target)return;if("pagehide"!==e.type&&"mouse"===e.gesture.pointerType&&u.preventMouse)return;const t=n.getValue(e,"target.id");switch(e.type){case"tap":b(t,e);break;case"swipe":y(t,e);break;case"pinch":y(t,e);break;case"tapHold":w(t,e);break;case"hold":w(t,e);break;case"drag":y(t,e);break;case"release":w(t,e);break;case"pagehide":clearTimeout(i),s();break}}}})); // eslint-disable-line

// --------------------------------------------------------------------------------------
// --------------------------------------------------------------- Spawn Web Worker -----
// --------------------------------------------------------------------------------------
// :: OPTIONAL ::
// Create a web worker from a Blob using the stringified tltWorker.js code rather than
// deploying tltWorker.js as a separate file. Requires testing as this will not work on
// sites with CSP headers that block creating workers this way. It also requires that the
// CDN specified in "pakoUrl" be reachable, and there may be issue if the UIC is deployed
// through a tag manager.
// eslint-disable-next-line no-unused-vars
function createWorker() {
    var pakoUrl,
        tltWorkerStr,
        webWorkerStr,
        blob;

    function cspOK() {
        var cspBlob;

        function errorHandler(e) {
            console.log("---> Error: " + e.name);
            try {
                sessionStorage.removeItem("tltCspOk");
            } catch (e2) {
                console.log("---> Error: " + e2.name);
            }
            return false;
        }

        function getFlag() {
            try {
                return sessionStorage.getItem("tltCspOk");
            } catch (e) {
                return errorHandler(e);
            }
        }

        function setFlag(val) {
            try {
                sessionStorage.setItem("tltCspOk", val);
                return true;
            } catch (e) {
                return errorHandler(e);
            }
        }

        // If the CSP flag is set to "true" already, return true
        if (getFlag() === "true") return true;

        // If the CSP flag is set to "false" already, or getFlag errored, return false
        if (getFlag() === "false" || getFlag() === false) return false;

        // If the CSP flag is not set, check if a CSP violation occurs
        if (getFlag() === null) {
            cspBlob = new Blob([{ helloPing: "Pong" }], { type: "application/json" });
            fetch(URL.createObjectURL(cspBlob)).then(function (response) {
                if (response.ok) {
                    if (setFlag("true")) return true;
                    return false; // If trying to set flag fails
                }
                return false; // If response is not OK
            }).catch(function (error) { // If an error occurs
                console.log("---> Tealeaf CSP Check: " + error);
                window.addEventListener("securitypolicyviolation", (event) => {
                    if (event.violatedDirective === "connect-src" && event.blockedURI === "blob") {
                        console.log("---> Tealeaf CSP Check: securitypolicyviolation event blocked fetch request for Blob URL");
                        setFlag("false");
                        return false;
                    }
                    return false;
                });
            });
        }
        return false;
    }

    if (!cspOK()) return null;
    pakoUrl = "https://cdnjs.cloudflare.com/ajax/libs/pako/1.0.11/pako_deflate.min.js";
    tltWorkerStr = 'onmessage=function(s){var e,t,a,o=s.data,i=o.data,n=o.url,c=o.headers,r=o.id,d=self.pako.gzip;i&&n&&(t=JSON.stringify(i),d?(a=d(t),c["Content-Encoding"]="gzip"):a="ERROR: Invalid gzip encoder or encoder not found. Check tltWorker deployment.",c["X-Requested-With"]="fetch",c["X-Requested-From"]="tltWorker",e={method:"POST",headers:c,body:a,mode:o.isCrossOrigin?"cors":"same-origin",credentials:o.isCrossOrigin?"omit":"same-origin",keepalive:!o.isCrossOrigin&&o.isUnloading,cache:"no-store"},fetch(n,e).then((function(s){var e={success:s.ok,statusCode:s.status,statusText:s.statusText,id:r};e.success&&s.text().then((function(s){try{e.data=JSON.parse(s)}catch(t){e.data=s}postMessage(e)})).catch((function(s){e.statusCode=1,e.statusText=s.message,postMessage(e)}))})).catch((function(s){var e={success:!1,statusCode:2,statusText:s.message,id:r};postMessage(e)})))}';
    webWorkerStr = 'importScripts("' + pakoUrl + '");' + tltWorkerStr;
    blob = new Blob([webWorkerStr], { type: "application/javascript" });
    return new Worker(URL.createObjectURL(blob));
}

// --------------------------------------------------------------------------------------
// ------------------------------------------------------ digitalData custom module -----
// --------------------------------------------------------------------------------------
// :: OPTIONAL ::
// Use digitalData if there are existing custom functions in the customer's legacy UIC that
// have not been superceeded by core UIC functionality. Also includes TLT.flushAll options.
TLT.addModule("digitalData", function () {
    // Example function: if the WebAnalytics object exists, capture its data and send to Tealeaf on load
    function getWebAnalyticsData() {
        if (typeof (WebAnalytics) !== "undefined") {
            TLT.logCustomEvent("WebAnalytics", { description: "Web Analytics Data", value: WebAnalytics.returnAnalyticsUserData() });
        }
    }
    return {
        onevent: function (webEvent) {
            if (typeof webEvent !== "object" || !webEvent.type) {
                return;
            }
            if (webEvent) {
                switch (webEvent.type) {
                case "load":
                    console.log("---> digitaData module triggered on load");
                    getWebAnalyticsData();
                    break;
                case "click":
                    // TLT.flushAll(); // digitaData module can be leveraged to trigger a flushAll on specific events
                    break;
                case "visibilitychange":
                    // TLT.flushAll();
                    break;
                default:
                    break;
                }
            }
        }
    };
});

// --------------------------------------------------------------------------------------
// ------------------------------------------------------- flushQueue custom module -----
// --------------------------------------------------------------------------------------
// :: OPTIONAL ::
// A stripped down "digitalData" clone.
// Triggers TLT.flushAll on visibilitychange. Use with iOS tuning at end of config.
TLT.addModule("flushQueue", function () {
    return {
        onevent: function (webEvent) {
            if (webEvent) {
                switch (webEvent.type) {
                case "visibilitychange":
                    console.log("---> flushQueue module triggered on visibilitychange");
                    TLT.flushAll();
                    break;
                default:
                    break;
                }
            }
        }
    };
});


// --------------------------------------------------------------------------------------
// ---------------------------------------------------------- Tealeaf configuration -----
// --------------------------------------------------------------------------------------
(function () {
    "use strict";

    var config,
        TLT = window.TLT,
        currentURL = window.location.hostname + window.location.pathname;

    // ----------------------------------------------------------------------------------
    // --------------------------------------- Prevent UIC loading on specific URLs -----
    // ----------------------------------------------------------------------------------
    // :: OPTIONAL ::
    if (currentURL === "www.sample.com/forms/complex-form"
        || currentURL === "some.other.url") {
        if (console) {
            console.info("This page is not meant to be captured. Exiting.");
        }
        TLT.terminationReason = "Unwanted page";
        return;
    }
    // ----------------------------------------------------------------------------------

    if (TLT.utils.isLegacyIE || window.document.documentMode) {
        if (console) {
            console.warn("This version of the UIC does not support Internet Explorer.");
            console.info("Applications requiring Internet Explorer 9, 10 or 11 support should use UIC 6.4.20");
            console.info("Applications requiring Internet Explorer 8 (or below) support should use UIC 5.2.0");
        }
        TLT.terminationReason = "Unsupported browser";
        return;
    }

    // ----------------------------------------------------------------------------------
    // ---------------- Delete existing TLTSID session cookie if its value is "DND" -----
    // ----------------------------------------------------------------------------------
    if (TLT.utils.getCookieValue("TLTSID") === "DND") {
        // Delete the cookie by setting it with the same name and path but with an expiration date in the past
        document.cookie = "TLTSID=;Expires=Thu, 01 Jan 1970 00:00:00 GMT;Domain=travelers.com;Path=/";
    }

    config = {
        core: {
            buildNote: "Reference 2025-05-01 - 6.4.157 - Mobile",
            blockedElements: [], // default []
            ieExcludedLinks: ["a[href*=\"javascript:void\"]", "input[onclick*='javascript:']"],
            blockedUserAgents: [
                { regex: "(Google|Bing|Face|DuckDuck|Yandex|Exa)bot|spider|archiver", flags: "i" },
                "PhantomJS"
            ],
            inactivityTimeout: 1000 * 60 * 29, // 29 minutes, just under 30 min Tealeaf app timeout
            // :: OPTIONAL ::
            // This could be any custom event, or DOM event.
            // screenviewLoadEvent: {
            //     name: "click",
            //     target: "[[\"maybe-hidden-content\"],[\"header\",0],[\"div\",1],[\"nav\",0]]"
            // },

            // Capture cross domain frames. The UIC needs to be injected in both parent and iframe(s).
            frames: {
                enableCrossDomainCommunication: false,
                // Set in the UIC running in the iframe, iframe ID should be unique
                eventProducer: { producerId: "my-frame" },
                // Set in UIC running in the parent, receive data only from these iframes. If the array is empty traffic from all hosts is accepted.
                eventConsumer: { childFrameHostnameWhitelist: ["test.sample.com", "stats.other.com"] },
            },

            modules: {
                replay: {
                    events: [
                        { name: "change", attachToShadows: true, recurseFrames: true },
                        { name: "click", recurseFrames: true },
                        { name: "dblclick", recurseFrames: true },
                        { name: "contextmenu", recurseFrames: true },
                        { name: "pointerdown", recurseFrames: true },
                        { name: "pointerup", recurseFrames: true },
                        { name: "hashchange", target: window },
                        { name: "focus", recurseFrames: true },
                        { name: "blur", recurseFrames: true },
                        { name: "load", target: window },
                        { name: "pagehide", target: window },
                        { name: "resize", target: window },
                        { name: "scroll", target: window },
                        { name: "mousemove", recurseFrames: true },
                        { name: "orientationchange", target: window },
                        { name: "touchend" },
                        { name: "touchstart" },
                        { name: "error", target: window },
                        { name: "visibilitychange" }
                    ]
                },
                // :: OPTIONAL ::
                gestures: {
                    /* This replay rule must also be added to replay gestures events in Tealeaf SaaS
                        <HostProfile name="www.sample.com">
                            <SimulateUIEvents value=".*" uiEvents="gestures,resize,valuechange,click,mouseup,scroll"/>
                        </HostProfile>
                    */
                    enabled: true,
                    events: [
                        { name: "tap", target: window },
                        { name: "hold", target: window },
                        { name: "drag", target: window },
                        { name: "release", target: window },
                        { name: "pinch", target: window }
                    ]
                },
                // :: OPTIONAL ::
                digitalData: {
                    enabled: false, // enabled boolean is only needed to set "false", but included for convenience
                    events: [{ name: "load", target: window }]
                },
                // :: OPTIONAL ::
                flushQueue: {
                    events: [] // Empty array is populated by custom logic below (e.g for iOS sessions)
                },
                overstat: {
                    enabled: true,
                    events: [
                        { name: "click", recurseFrames: true },
                        { name: "mousemove", recurseFrames: true },
                        { name: "mouseout", recurseFrames: true },
                        { name: "submit", recurseFrames: true }
                    ]
                },
                performance: {
                    enabled: true,
                    events: [
                        { name: "load", target: window },
                        { name: "pagehide", target: window }
                    ]
                },
                ajaxListener: {
                    enabled: false,
                    events: [
                        { name: "load", target: window },
                        { name: "pagehide", target: window }
                    ]
                },
                dataLayer: {
                    enabled: true,
                    events: [
                        { name: "load", target: window },
                        { name: "pagehide", target: window }
                    ]
                },
                TLCookie: {
                    enabled: true
                }
            },

            // Normalize URL, path, or fragment (can be commented out if not needed)
            normalization: { // default empty
            /**
              * User defined URL normalization function which accepts an URL, path or fragment and returns
              * the normalized value.
              * @param urlOrPath {String} URL, path or fragment which needs to be normalized
              * @param [messageType] {Integer} The message type to normalize, undefined otherwise
              * @returns {String} The normalized URL/path/fragment value
              */
                urlFunction: function (url, messageType) {
                    var normUrl = url;
                    if (messageType === 2) {
                        normUrl = url.replace(/param\d\d\d/, "paramXXX");
                    }
                    return normUrl;
                }
            },

            // Share session identifier with eluminate.js or other libraries (can be commented out if not needed)
            sessionDataEnabled: false, // default false
            sessionData: { // default empty
                sessionValueNeedsHashing: true,
                sessionQueryName: "sessionID",
                sessionQueryDelim: ";",
                sessionCookieName: "jsessionid"
            },

            screenviewAutoDetect: true, // default true
            framesBlacklist: [] // default []
        },
        services: {
            queue: {
                asyncReqOnUnload: true,
                // asyncReqOnUnload: /WebKit/i.test(navigator.userAgent), // No longer recommended as of May 2022
                useBeacon: true, // default true
                useFetch: true, // default true
                xhrLogging: true, // default true, option to set it false re-introduced in 6.3
                // :: OPTIONAL ::
                // If Fetch polyfill on the site is a concern:
                // useFetch: !!(window.fetch && !window.fetch.polyfill),
                // :: WORKER OPTION 1: use a web worker with external file. Requires tltWorker.js. Default is to not use (null).
                // tltWorker: window.fetch && window.Worker ? new Worker("/libraries/tealeaf/tltWorker.js") : null,
                // or, if there is reason to be concerned Fetch polyfill is in use on the site
                // tltWorker: (window.fetch && !window.fetch.polyfill && window.Worker) ? new Worker("/libraries/tealeaf/tltWorker.js") : null,
                // :: WORKER OPTION 2: spawn a web worker using optional createWorker() function above
                tltWorker: window.fetch && window.Worker && createWorker(),
                queues: [{
                    qid: "DEFAULT",
					endpoint:"/",
                    // endpoint: "https://teabooster-eu.acoustic-demo.com/collector/<yourIdHere>/collectorPost",
                    //endpoint: "https://lib-eu-1.brilliantcollector.com/collector/collectorPost",
                    // endpoint: "https://lib-us-1.brilliantcollector.com/collector/collectorPost",
                    //endpoint: "https://lib-us-2.brilliantcollector.com/collector/collectorPost",
                    // endpoint: "https://lib-ap-1.brilliantcollector.com/collector/collectorPost",
                    maxEvents: 30,
                    timerInterval: 30000, // default 0
                    maxSize: 300000, // default 0
                    checkEndpoint: true,
                    endpointCheckTimeout: 3000, // default 3000
                    encoder: "gzip"
                }]
            },
            message: {
                privacy: [{
                    // exclude: true, // Defaults to false. If true, flips targets to whitelist.
                    targets: [
                        "input[type=password]" // ------------------ Mask all password fields
                        // ":not(.piiSafe)", // -------------------- Mask form fields without piiSafe
                        // ".piiMask" // --------------------------- Mask form fields with piiMask
                    ],
                    maskType: 2  // Mask with XXXXX
                },
                {
                    // exclude: false, // Each set of targets can have its own "exclude" setting
                    targets: [
                        "#something-here"
                    ],
                    maskType: 4,
                    maskFunction: function (val, element) {
                        if (element && element.innerText) {
                            element.innerText = "Masked by Tealeaf UIC";
                        }
                        return val;
                    }
                },
                {
                    // Block all response content with "tlPrivate" class
                    targets: [".tlPrivate"],
                    maskType: 4,
                    maskFunction: function (value, element) {
                        if (element && element.innerText) {
                            element.innerText = element.innerText.replace(/[A-Z]/g, "X").replace(/[a-z]/g, "x").replace(/[0-9]/g, "9");
                        }
                        return value;
                    }
                },
                {
                    targets: ["input[id*=phone]", "input[name*=phone]"],
                    maskType: 4, // Replace all digits with X except last 3
                    maskFunction: function (value) {
                        return value.slice(0, -3).replace(/[0-9]/g, "X") + value.slice(-3);
                    }
                },
                // {
                //     // Whitelist privacy, un-masking only elements very unlikely to contain PII
                //     exclude: true,
                //     targets: [
                //         "input[type=hidden]",
                //         "input[type=radio]",
                //         "input[type=checkbox]",
                //         "input[type=submit]",
                //         "input[type=button]",
                //         "input[type=search]"
                //     ],
                //     maskType: 2
                // },
                {
                    // Block all numbers in the response text (not inside HTML tags)
                    // Warning: may not work reliably with DOM Diff enabled unless a callback is also used.
                    targets: [
                        "body" // Top level DOM element. Warning: the wrong choice can break replay!
                    ],
                    maskType: 4,
                    maskFunction: function (value, element) {
                        // Use createTreeWalker() to traverse the DOM iterating through text nodes
                        var walker = document.createTreeWalker(element, NodeFilter.SHOW_TEXT),
                            node;
                        while ((node = walker.nextNode())) {
                            // Replace any digits in the text
                            node.nodeValue = node.nodeValue.replace(/\d/g, "X");
                        }
                        return value;
                    }
                }
                ],
                privacyPatterns: [
                    {
                        pattern: {
                            regex: '<a id=".*?-some-customer-full-name.*?">.*?</a>',
                            flags: "g"
                        },
                        replacement: "<a>XXXXXXX</a>"
                    },
                    {
                        pattern: {
                            regex: "<div[^<]*tlPrivate[^<]*>(.+?)</div>",
                            flags: "g"
                        },
                        // The replacement function used to replace a capture group can be
                        // simplified from the examples in the docs because "p1" will return
                        // falsy reliably when nothing is matched.
                        //
                        // If the regex has no matches the replacement function is never invoked
                        // If there is a match but p1 empty, e.g. matched by (.*?), p1 is ""
                        // If there is no capture group in the regex, p1 is 0
                        // If there is a disjunction p1 will be undefined
                        //
                        // Since we're not explicitly returning undefined if !p1, which is safe
                        // to do here, disablin ESLint's check for a consistent return value.
                        // eslint-disable-next-line consistent-return
                        replacement: function (match, p1) {
                            if (p1) return match.replace(p1, "XXXXX");
                        }
                    },
                ]
            },
            encoder: {
                gzip: {
                    encode: "window.pako.gzip",
                    defaultEncoding: "gzip"
                }
            },
            domCapture: {
                diffEnabled: true, // default true
                // Options are set to these defaults:
                //
                // maxMutations: 100           // If this threshold is reached, the full DOM is captured instead of a diff
                // maxLength: 1000000          // If this threshold is reached, the DOM snapshot will not be sent
                // captureShadowDOM: false     // Enable ONLY if app is using shadown DOM. Also set allowHitSplit to false in org properties.
                // captureFrames: false        // Enable ONLY if child frames/iframes need to be captured for replay
                // captureDynamicStyles: false // Enable ONLY if dynamic/constructable/CSSOM styles are present
                // captureHREFStyles: false    // Enable ONLY if all styles need to be inserted inline (e.g if CSS files unreachable)
                // removeScripts: true         // Disable ONLY if script tags need to be preserved
                // removeComments: true        // Disable ONLY if comments need to be preserved
                // discardBase64: 0            // Not present by default! Discard all base64 encoded inline image data that exceeds N characters.
                // captureStyle: true          // Disable to remove inline CSS. Reduces the size of the DOM snapshots, but may affect replay.
                // keepImports: false          // Enable to honor the "import" link type, a now deprecated and Chrome specific feature
                // Options below valid with DEBUG CORE ONLY:
                // debugVoidElementsEnabled: false, // Scan DOM for void elements with content. Runs on UIC initialization.
                // debugVoidElementsTimer: 10000    // Delay in ms after initialization before starting the scan.
                //
                // Override as needed below:
                options: {
                    maxLength: 5000000 // recommended minimum: 2000000 (2 MB)
                }
            },
            browser: {
                normalizeTargetToParentLink: true, // default true
                blacklist: ["myMenu"], // Note no leading "#"
                customid: ["name", "aria-id"] // default []
            }
        },
        modules: {
            overstat: {
                hoverThreshold: 3000
            },
            performance: {
                calculateRenderTime: true, // default false
                renderTimeThreshold: 600000,
                performanceAlert: {
                    enabled: true, // Enable logging of slow resources, default false
                    threshold: 3000,
                    maxAlerts: 100,
                    resourceTypes: ["script", "img", "css", "xmlhttprequest", "fetch", "iframe", "beacon"], // default [], meaning "all types"
                    // Blacklist the UIC's own calls so that if all calls are slow we don't capture our own calls about slow capture, then report on those, etc
                    blacklist: [{ regex: "brilliantcollector\\.com" }] // Blacklist based on URL, default []
                },
            },
            replay: {
                // Enable to increase replay fidelity across tabs at cost of extra unload/load on visibilityChange
                tab: false, // default false
                domCapture: {
                    enabled: true,
                    screenviewBlacklist: [],
                    triggers: [
                        // Note: also see "DOM Capture Config by URL" section below.
                        // Force Full DOM Capture on specific clicks
                        {
                            event: "click",
                            targets: [{ id: { regex: ".*ui-datepicker-div.*" }, idType: -2 }], // XPath with regex
                            fullDOMCapture: true,
                        },
                        // Some clicks may require a slight delay
                        {
                            event: "click",
                            targets: ["#register-tab", "#login-tab"],
                            delay: 100
                        },
                        // All other clicks except those on specific label elements. Avoids click+change for every interaction.
                        {
                            event: "click",
                            targets: [":not(.custom-control-label)"]               // CSS with :not pseudo class
                        },
                        // Force Full DOM Capture on specific changes
                        {
                            event: "change",
                            targets: [".form-radio", ".form-select", ".form-checkbox"],
                            fullDOMCapture: true
                        },
                        // Other changes can use DOM Diff
                        { event: "change" },
                        { event: "dblclick" },
                        { event: "contextmenu" },
                        { event: "visibilitychange" },
                        // Wait for spinner/loaders/overlay to be removed to avoid blank screen on load
                        {
                            event: "load",
                            fullDOMCapture: true,
                            delayUntil: { selector: '.async-hide, div.loader[style*="display: block"], div.content--faqs-box[style*="opacity"]', exists: false, timeout: 5000 }
                        }
                    ]
                },
                mousemove: { // default {}
                    enabled: false,
                    sampleRate: 200,
                    ignoreRadius: 3
                }
            },
            ajaxListener: {
                // Initialise Ajax Listener even if another tool is overriding XHR and/or Fetch.
                skipSafetyCheck: false, // only works with Ajax Listener 1.3.0+
                // Block the contents of the response if it is not of content-type "application/json"
                blockNonJSONResponse: false, // only works with Ajax Listener 1.3.1+
                // List of JSON fields for which values will be blocked. These will be blocked in
                // requestHeaders, responseHeaders, requestData, and responseData. All instances of
                // fields with these names will be blocked, anywhere in the payload. Exact match as
                // string, or regex object.
                fieldBlocklist: [ // only works with Ajax Listener 1.3.3+
                    "html",
                    "script",
                    "idKey",
                    "project_id",
                    { regex: "company_|sdk_", flags: "i" },
                    { regex: "banner_" }
                ],
                urlBlocklist: [ // only works with Ajax Listener 1.3.0+
                    { regex: "brilliantcollector\\.com|clarity|collectorPost|crazyegg|doubleclick|google|yimg", flags: "i" }
                ],
                filters: [
                    {
                        url: { regex: "/secureLogin", flags: "i" },
                        status: { regex: "[45]\\d\\d" }, // Log 4xx and 5xx status messages
                        log: {
                            requestHeaders: true,
                            requestData: false,
                            responseHeaders: true,
                            responseData: true
                        }
                    },
                    {
                        status: { regex: "[45]\\d\\d" }, // Log 4xx and 5xx status messages
                        log: {
                            requestHeaders: true,
                            requestData: true,
                            responseHeaders: true,
                            responseData: true
                        }
                    },
                    {
                        // Empty filter block, so ALL other calls will be logged with just basic info
                    }
                ]
            },
            // :: OPTIONAL ::
            gestures: {
                options: {
                    doubleTapInterval: 300
                }
            },
            dataLayer: {
                dataObjects: [
                    {
                        dataObject: "window.dataLayer", // In 6.4+ there is no longer any reason to use a function here
                        rules: {
                            screenviewBlocklist: [],
                            // Recommend HTML elements like "gtm.element" be ignored by default
                            propertyBlocklist: ["gtm.element"],
                            permittedProperties: [],
                            includeEverything: true // default: true
                        }
                    },
                    // Multiple data layers are supported in 6.4+
                    // {
                    //     dataObject: "window.anotherDataLayer",
                    //     rules: {
                    //         screenviewBlocklist: [],
                    //         propertyBlocklist: [],
                    //         permittedProperties: [],
                    //         includeEverything: true
                    //     }
                    // }
                ]
            },
            TLCookie: {
                appCookieWhitelist: [{ regex: ".*" }],
                tlAppKey: "b6c3709b7a4c479bb4b5a9fb8fec324c" // Datacenter/Org/App
                // secureTLTSID: true,                       // Defaults to false. Only set to true if 100% HTTPS.
                // sessionIDUsesStorage: true,               // Defaults to false. Use local storage for TLTSID.
                // sessionIDUsesCookie: false,               // Defaults to true. Set to false to prevent fallback from local storage.
                // sessionizationCookieName: "TLCookie",     // Defaults to TLTSID
                // samesite: "None"                          // Defaults to Strict, can be None|Lax|Strict
                // disableTLTDID: true                       // Defaults to false. Set to true to prevent TLTDID cookie being created.
                // sessionIDUsesFallbackStorage: true        // Defaults to false. Set to true if local storage
            }
        }
    };

    // ----------------------------------------------------------------------------------
    // ---------------------------------------- Prevent UIC loading on specific URL -----
    // ----------------------------------------------------------------------------------
    // :: OPTIONAL ::
    if (window.location.href.indexOf("StorefrontToolkit") > -1) {
        TLT.terminationReason = "Do not capture Developer Toolkit!";
        return;
    }

    // ----------------------------------------------------------------------------------
    // -------------------------------------------------- DOM Capture Config by URL -----
    // ----------------------------------------------------------------------------------
    // :: OPTIONAL ::
    (function () {
        var url = window.location.hostname + window.location.pathname;
        if (url === "www.sample.com/forms/complex-form") {
            config.services.domCapture.diffEnabled = false;
        }
    }());


    // ----------------------------------------------------------------------------------
    // ------------------------------------------------ DOM Capture Triggers by URL -----
    // ----------------------------------------------------------------------------------
    (function () {
        var url = window.location.pathname,
            triggers;
        // On "Cost Changes" page, wait for table to have content
        if (url === "/web/cc") {
            triggers = [
                { event: "click" },
                { event: "change" },
                { event: "visibilitychange" },
                {
                    event: "load",
                    fullDOMCapture: true,
                    delayUntil: { selector: "table.magicgrid tbody:empty", exists: false, timeout: 5000 }
                }
            ];
        }
        // On "Invite Users" page, wait for content in main div and spinner to be hidden
        if (url === "/web/usersignups/index") {
            triggers = [
                { event: "click" },
                { event: "change" },
                { event: "visibilitychange" },
                {
                    event: "load",
                    fullDOMCapture: true,
                    delayUntil: { selector: "div[role=main] div[ng-view] span.ng-hide", exists: true, timeout: 5000 }
                }
            ];
        }
        // On "Manage Distributors" page, wait grid and for spinner to be hidden
        if (url === "/web/DSD/index") {
            triggers = [
                { event: "click" },
                { event: "change" },
                { event: "visibilitychange" },
                {
                    event: "load",
                    fullDOMCapture: true,
                    delayUntil: { selector: "div[ng-show=showWaitIcon].ng-hide + div.ng-scope #gview_DistributorGrid", exists: true, timeout: 5000 }
                }
            ];
        }
        // On "User and Vendor Counts" page, wait for overlay to be removed
        if (url === "/web/venderUserReports/index") {
            triggers = [
                { event: "click" },
                { event: "change" },
                { event: "visibilitychange" },
                {
                    event: "load",
                    fullDOMCapture: true,
                    delayUntil: { selector: 'app-loading-spinner div[style="display: block;"]', exists: false, timeout: 5000 }
                }
            ];
        }

        if (triggers) config.modules.replay.domCapture.triggers = triggers;
    }());

    // ----------------------------------------------------------------------------------
    // ------------------------------------------ Automatic tlAppKey using location -----
    // ----------------------------------------------------------------------------------
    // :: OPTIONAL ::
    (function () {
        var host = window.location.hostname,
            url = host + window.location.pathname,
            appKey;
        if (host === "www.sample.com"
         || host === "accounts.sample.com") {
            appKey = "b2b4a1d10a40485e9511d27ad7d60c5e";
        } else if (host === "test.sample.com") {
            appKey = "0917aa9be9524b6cbb45c35c2079569c";
        } else if (url === "dev.sample.com/specific-url/") {          // URL exact match
            appKey = "0a262a3f6fd94e31ae0af2a668b48208";
        } else if (url.indexOf("dev.sample.com/this/section/") === 0  // URL starts with
         || url.indexOf("www.sample.com/that/section/") === 0) {
            appKey = "b6c3709b7a4c479bb4b5a9fb8fec324c";
        }

        if (appKey) config.modules.TLCookie.tlAppKey = appKey;
    }());

    // ----------------------------------------------------------------------------------
    // ------------------------------ Automatically add non-unique IDs to blacklist -----
    // ----------------------------------------------------------------------------------
    // :: OPTIONAL ::
    (function () {
        function uniqueIds() {
            var dups = [];
            Array.from(
                document.querySelectorAll("[id]")
            )
                .map(function (node) { return node.id; })
                .forEach(
                    function (elem, i, arr) {
                        if (arr.includes(elem, i + 1) && !dups.includes(elem) && elem !== "") {
                            dups.push(elem);
                        }
                    }
                );
            return dups;
        }
        // Note: ensure this parameter exists under config.services.browser: blacklist: []
        config.services.browser.blacklist = config.services.browser.blacklist.concat(uniqueIds());
    }());

    // ----------------------------------------------------------------------------------
    // ----------------------------------------------------- Android and iOS Tuning -----
    // ----------------------------------------------------------------------------------
    if (TLT.utils.isiOS || TLT.utils.isAndroid) {
        (function () {
            var uaMatch;

            // Reduce batch size, increase frequency, increase endpoint timeout
            config.services.queue.queues[0].maxEvents = 10;
            config.services.queue.queues[0].maxSize = 10000;
            config.services.queue.queues[0].timerInterval = 10000;
            config.services.queue.queues[0].endpointCheckTimeout = 10000;

            if (TLT.utils.isiOS) {
                // Disable Beacon in iOS 12 and earlier due to Safari on iOS bug
                uaMatch = window.navigator.userAgent.match(/OS (\d+)_/);
                if (uaMatch && uaMatch[1] < 13) {
                    config.services.queue.useBeacon = false;
                }
                // :: OPTIONAL ::
                // Flush queue on visibilitychange as unload is not a reliable trigger in iOS.
                // Requires flushQueue (or digitalData) module and entry in core.modules section.
                if (config.core.modules.flushQueue && config.core.modules.flushQueue.events) {
                    config.core.modules.flushQueue.events.push({ name: "visibilitychange" });
                } else {
                    console.log("Tealeaf Error: include the flushQueue module!");
                }
            }
        }());
    }


    // ----------------------------------------------------------------------------------
    // ----------------------------------------------- Run AFTER UIC Initialization -----
    // ----------------------------------------------------------------------------------
    // :: OPTIONAL ::
    // If you don't need to run code after the UIC initialises the afterInit() callback is
    // not required. If not in use, remove from the window.TLT.init call at the end of the UIC.
    function afterInit() {
        // ------------------------------------------------------------------------------
        // ---------------------------------------------------- Restart TLT for SPA -----
        // ------------------------------------------------------------------------------
        (function () {
            var origDestroy = window.TLT.destroy,
                prevConfig;
            // Check if document is active (visible and focused)
            function checkVisibility() {
                if (document.visibilityState === "visible" && document.hasFocus()) {
                    if (prevConfig && window.TLT && !TLT.isInitialized()) {
                        console.log("Restarting TLT");
                        TLT.init(prevConfig);
                        prevConfig = null;
                    }
                    window.removeEventListener("visibilitychange", checkVisibility);
                    window.removeEventListener("focus", checkVisibility);
                }
            }
            // If termination reason was inactivity, set listener for active document
            window.TLT.destroy = function (se, tr) {
                if (tr === "inactivity") {
                    prevConfig = TLT.getConfig();
                    window.addEventListener("visibilitychange", checkVisibility);
                    window.addEventListener("focus", checkVisibility);
                }
                origDestroy.call(window.TLT, se, tr);
            };
        }());

        // If the UIC is destroyed, don't bother proceeding further
        if (TLT.getState() === "destroyed") return;

        // ------------------------------------------------------------------------------
        // --------------------------------------- Rebind when element added to DOM -----
        // ------------------------------------------------------------------------------
        // :: OPTIONAL ::
        // Wait for an element to be added to the DOM, then use a Mutation Observer to
        // trigger a TLT.rebind() when that element mutates.
        // See https://stackoverflow.com/a/38882022 and https://stackoverflow.com/a/39332340
        (function () {
            let widgetExists = false,
                rebindCalls = 0,
                widget;
            new MutationObserver((mutations, obs) => {
                if (!widgetExists) {
                    widget = document.getElementById("spr-live-chat-app");
                    if (widget) {
                        obs.disconnect();
                        obs.observe(widget, { childList: true });
                        widgetExists = true;
                    }
                } else {
                    TLT.rebind(widget);
                    rebindCalls += 1;
                    console.log("---> TLT.rebind() calls: " + rebindCalls);
                }
            }).observe(document.body, { childList: true });
        }());
    }

    window.TLT.init(config, afterInit);
}());



